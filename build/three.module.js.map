{"version":3,"file":"three.module.js","sources":["../src/polyfills.ts","../src/core/EventDispatcher.ts","../src/constants.ts","../src/math/Math.ts","../src/math/Vector2.ts","../src/textures/Texture.ts","../src/math/Vector4.ts","../src/renderers/WebGLRenderTarget.ts","../src/renderers/WebGLRenderTargetCube.ts","../src/math/Quaternion.ts","../src/math/Vector3.ts","../src/math/Euler.ts","../src/math/Matrix4.ts","../src/textures/CubeTexture.ts","../src/renderers/webgl/WebGLUniforms.ts","../src/math/Color.ts","../src/math/Matrix3.ts","../src/renderers/shaders/UniformsUtils.ts","../src/renderers/shaders/ShaderChunk/alphamap_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/alphamap_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/alphatest_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/aomap_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/aomap_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/begin_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/beginnormal_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/bsdfs.glsl.ts","../src/renderers/shaders/ShaderChunk/bumpmap_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/clipping_planes_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/clipping_planes_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/clipping_planes_pars_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/clipping_planes_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/color_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/color_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/color_pars_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/color_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/common.glsl.ts","../src/renderers/shaders/ShaderChunk/cube_uv_reflection_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/defaultnormal_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/displacementmap_pars_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/displacementmap_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/emissivemap_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/emissivemap_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/encodings_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/encodings_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/envmap_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/envmap_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/envmap_pars_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/envmap_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/fog_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/fog_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/lightmap_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/lightmap_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/lights_lambert_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/lights_pars.glsl.ts","../src/renderers/shaders/ShaderChunk/lights_phong_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/lights_phong_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/lights_physical_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/lights_physical_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/lights_template.glsl.ts","../src/renderers/shaders/ShaderChunk/logdepthbuf_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/logdepthbuf_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/logdepthbuf_pars_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/logdepthbuf_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/map_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/map_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/map_particle_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/map_particle_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/metalnessmap_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/metalnessmap_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/morphnormal_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/morphtarget_pars_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/morphtarget_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/normal_flip.glsl.ts","../src/renderers/shaders/ShaderChunk/normal_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/normalmap_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/packing.glsl.ts","../src/renderers/shaders/ShaderChunk/premultiplied_alpha_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/project_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/roughnessmap_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/roughnessmap_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/shadowmap_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/shadowmap_pars_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/shadowmap_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/shadowmask_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/skinbase_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/skinning_pars_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/skinning_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/skinnormal_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/specularmap_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/specularmap_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/tonemapping_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/tonemapping_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/uv_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/uv_pars_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/uv_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/uv2_pars_fragment.glsl.ts","../src/renderers/shaders/ShaderChunk/uv2_pars_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/uv2_vertex.glsl.ts","../src/renderers/shaders/ShaderChunk/worldpos_vertex.glsl.ts","../src/renderers/shaders/ShaderLib/cube_frag.glsl.ts","../src/renderers/shaders/ShaderLib/cube_vert.glsl.ts","../src/renderers/shaders/ShaderLib/depth_frag.glsl.ts","../src/renderers/shaders/ShaderLib/depth_vert.glsl.ts","../src/renderers/shaders/ShaderLib/distanceRGBA_frag.glsl.ts","../src/renderers/shaders/ShaderLib/distanceRGBA_vert.glsl.ts","../src/renderers/shaders/ShaderLib/equirect_frag.glsl.ts","../src/renderers/shaders/ShaderLib/equirect_vert.glsl.ts","../src/renderers/shaders/ShaderLib/linedashed_frag.glsl.ts","../src/renderers/shaders/ShaderLib/linedashed_vert.glsl.ts","../src/renderers/shaders/ShaderLib/meshbasic_frag.glsl.ts","../src/renderers/shaders/ShaderLib/meshbasic_vert.glsl.ts","../src/renderers/shaders/ShaderLib/meshlambert_frag.glsl.ts","../src/renderers/shaders/ShaderLib/meshlambert_vert.glsl.ts","../src/renderers/shaders/ShaderLib/meshphong_frag.glsl.ts","../src/renderers/shaders/ShaderLib/meshphong_vert.glsl.ts","../src/renderers/shaders/ShaderLib/meshphysical_frag.glsl.ts","../src/renderers/shaders/ShaderLib/meshphysical_vert.glsl.ts","../src/renderers/shaders/ShaderLib/normal_frag.glsl.ts","../src/renderers/shaders/ShaderLib/normal_vert.glsl.ts","../src/renderers/shaders/ShaderLib/points_frag.glsl.ts","../src/renderers/shaders/ShaderLib/points_vert.glsl.ts","../src/renderers/shaders/ShaderLib/shadow_frag.glsl.ts","../src/renderers/shaders/ShaderLib/shadow_vert.glsl.ts","../src/renderers/shaders/ShaderChunk.ts","../src/renderers/shaders/UniformsLib.ts","../src/renderers/shaders/ShaderLib.ts","../src/math/Box2.ts","../src/renderers/webgl/plugins/LensFlarePlugin.ts","../src/scenes/Fog.ts","../src/scenes/FogExp2.ts","../src/renderers/webgl/plugins/SpritePlugin.ts","../src/materials/Material.ts","../src/materials/ShaderMaterial.ts","../src/materials/MeshDepthMaterial.ts","../src/core/Face3.ts","../src/core/Layers.ts","../src/core/Object3D.ts","../src/math/Ray.ts","../src/math/Line3.ts","../src/math/Plane.ts","../src/math/Triangle.ts","../src/materials/MultiMaterial.ts","../src/materials/MeshBasicMaterial.ts","../src/core/BufferAttribute.ts","../src/core/InterleavedBufferAttribute.ts","../src/core/DirectGeometry.ts","../src/materials/PointsMaterial.ts","../src/objects/Points.ts","../src/materials/LineBasicMaterial.ts","../src/objects/Line.ts","../src/core/BufferGeometry.ts","../src/objects/Mesh.ts","../src/core/Geometry.ts","../src/math/Box3.ts","../src/math/Sphere.ts","../src/math/Frustum.ts","../src/cameras/Camera.ts","../src/cameras/OrthographicCamera.ts","../src/cameras/PerspectiveCamera.ts","../src/lights/Light.ts","../src/lights/LightShadow.ts","../src/lights/PointLight.ts","../src/lights/SpotLightShadow.ts","../src/textures/DataTexture.ts","../src/objects/Bone.ts","../src/objects/Skeleton.ts","../src/objects/SkinnedMesh.ts","../src/renderers/webgl/WebGLShadowMap.ts","../src/geometries/BoxBufferGeometry.ts","../src/geometries/PlaneBufferGeometry.ts","../src/materials/MeshPhongMaterial.ts","../src/materials/MeshStandardMaterial.ts","../src/materials/MeshLambertMaterial.ts","../src/materials/MeshPhysicalMaterial.ts","../src/materials/MeshNormalMaterial.ts","../src/materials/RawShaderMaterial.ts","../src/materials/LineDashedMaterial.ts","../src/renderers/webgl/WebGLIndexedBufferRenderer.ts","../src/renderers/webgl/WebGLBufferRenderer.ts","../src/renderers/webgl/WebGLLights.ts","../src/renderers/webgl/WebGLShader.ts","../src/renderers/webgl/WebGLProgram.ts","../src/renderers/webgl/WebGLPrograms.ts","../src/renderers/webgl/WebGLGeometries.ts","../src/renderers/webgl/WebGLObjects.ts","../src/textures/DepthTexture.ts","../src/textures/CompressedTexture.ts","../src/renderers/webgl/WebGLTextures.ts","../src/renderers/webgl/WebGLProperties.ts","../src/renderers/webgl/WebGLState.ts","../src/renderers/webgl/WebGLCapabilities.ts","../src/renderers/webgl/WebGLExtensions.ts","../src/renderers/webgl/WebGLClipping.ts","../src/lights/AmbientLight.ts","../src/lights/DirectionalLightShadow.ts","../src/lights/DirectionalLight.ts","../src/lights/HemisphereLight.ts","../src/lights/SpotLight.ts","../src/materials/SpriteMaterial.ts","../src/objects/Sprite.ts","../src/objects/LensFlare.ts","../src/extras/objects/ImmediateRenderObject.ts","../src/objects/LineSegments.ts","../src/core/InstancedBufferGeometry.ts","../src/core/InstancedBufferAttribute.ts","../src/core/InterleavedBuffer.ts","../src/core/InstancedInterleavedBuffer.ts","../src/renderers/WebGLRenderer.ts","../src/scenes/Scene.ts","../src/objects/LOD.ts","../src/objects/Group.ts","../src/textures/VideoTexture.ts","../src/textures/CanvasTexture.ts","../src/geometries/WireframeGeometry.ts","../src/geometries/ParametricBufferGeometry.ts","../src/geometries/ParametricGeometry.ts","../src/geometries/PolyhedronBufferGeometry.ts","../src/geometries/TetrahedronBufferGeometry.ts","../src/geometries/TetrahedronGeometry.ts","../src/geometries/OctahedronBufferGeometry.ts","../src/geometries/OctahedronGeometry.ts","../src/geometries/IcosahedronBufferGeometry.ts","../src/geometries/IcosahedronGeometry.ts","../src/geometries/DodecahedronBufferGeometry.ts","../src/geometries/DodecahedronGeometry.ts","../src/geometries/PolyhedronGeometry.ts","../src/geometries/TubeBufferGeometry.ts","../src/geometries/TubeGeometry.ts","../src/geometries/TorusKnotBufferGeometry.ts","../src/geometries/TorusKnotGeometry.ts","../src/geometries/TorusBufferGeometry.ts","../src/geometries/TorusGeometry.ts","../src/extras/ShapeUtils.ts","../src/geometries/ExtrudeGeometry.ts","../src/extras/core/Curve.ts","../src/extras/curves/LineCurve.ts","../src/extras/CurveUtils.ts","../src/extras/curves/SplineCurve.ts","../src/extras/curves/EllipseCurve.ts","../src/extras/core/CurvePath.ts","../src/extras/curves/CubicBezierCurve.ts","../src/extras/curves/QuadraticBezierCurve.ts","../src/extras/core/Path.ts","../src/geometries/ShapeGeometry.ts","../src/extras/core/Shape.ts","../src/extras/core/ShapePath.ts","../src/extras/core/Font.ts","../src/geometries/TextGeometry.ts","../src/geometries/SphereBufferGeometry.ts","../src/geometries/SphereGeometry.ts","../src/geometries/RingBufferGeometry.ts","../src/geometries/RingGeometry.ts","../src/geometries/PlaneGeometry.ts","../src/geometries/LatheBufferGeometry.ts","../src/geometries/LatheGeometry.ts","../src/geometries/EdgesGeometry.ts","../src/geometries/CylinderBufferGeometry.ts","../src/geometries/CylinderGeometry.ts","../src/geometries/ConeGeometry.ts","../src/geometries/ConeBufferGeometry.ts","../src/geometries/CircleBufferGeometry.ts","../src/geometries/CircleGeometry.ts","../src/geometries/BoxGeometry.ts","../src/materials/ShadowMaterial.ts","../src/loaders/Cache.ts","../src/loaders/LoadingManager.ts","../src/loaders/XHRLoader.ts","../src/loaders/CompressedTextureLoader.ts","../src/loaders/BinaryTextureLoader.ts","../src/loaders/ImageLoader.ts","../src/loaders/CubeTextureLoader.ts","../src/loaders/TextureLoader.ts","../src/animation/AnimationUtils.ts","../src/math/Interpolant.ts","../src/math/interpolants/CubicInterpolant.ts","../src/math/interpolants/LinearInterpolant.ts","../src/math/interpolants/DiscreteInterpolant.ts","../src/animation/KeyframeTrack.ts","../src/animation/tracks/StringKeyframeTrack.ts","../src/animation/tracks/BooleanKeyframeTrack.ts","../src/math/interpolants/QuaternionLinearInterpolant.ts","../src/animation/tracks/QuaternionKeyframeTrack.ts","../src/animation/tracks/ColorKeyframeTrack.ts","../src/animation/tracks/VectorKeyframeTrack.ts","../src/animation/tracks/NumberKeyframeTrack.ts","../src/animation/KeyframeTrackUtils.ts","../src/animation/AnimationClip.ts","../src/loaders/MaterialLoader.ts","../src/loaders/BufferGeometryLoader.ts","../src/loaders/Loader.ts","../src/loaders/JSONLoader.ts","../src/loaders/ObjectLoader.ts","../src/loaders/FontLoader.ts","../src/audio/AudioContext.ts","../src/loaders/AudioLoader.ts","../src/cameras/StereoCamera.ts","../src/cameras/CubeCamera.ts","../src/audio/AudioListener.ts","../src/audio/Audio.ts","../src/audio/PositionalAudio.ts","../src/audio/AudioAnalyser.ts","../src/animation/PropertyMixer.ts","../src/animation/AnimationObjectGroup.ts","../src/animation/PropertyBinding.ts","../src/animation/AnimationAction.ts","../src/animation/AnimationMixer.ts","../src/core/Uniform.ts","../src/core/Raycaster.ts","../src/core/Clock.ts","../src/math/Spline.ts","../src/math/Spherical.ts","../src/extras/objects/MorphBlendMesh.ts","../src/extras/helpers/VertexNormalsHelper.ts","../src/extras/helpers/SpotLightHelper.ts","../src/extras/helpers/SkeletonHelper.ts","../src/extras/helpers/PointLightHelper.ts","../src/extras/helpers/HemisphereLightHelper.ts","../src/extras/helpers/GridHelper.ts","../src/extras/helpers/FaceNormalsHelper.ts","../src/extras/helpers/DirectionalLightHelper.ts","../src/extras/helpers/CameraHelper.ts","../src/extras/helpers/BoundingBoxHelper.ts","../src/extras/helpers/BoxHelper.ts","../src/extras/helpers/ArrowHelper.ts","../src/extras/helpers/AxisHelper.ts","../src/extras/curves/CatmullRomCurve3.ts","../src/extras/curves/ClosedSplineCurve3.ts","../src/extras/curves/SplineCurve3.ts","../src/extras/curves/CubicBezierCurve3.ts","../src/extras/curves/QuadraticBezierCurve3.ts","../src/extras/curves/LineCurve3.ts","../src/extras/curves/ArcCurve.ts","../src/extras/SceneUtils.ts","../src/Three.Legacy.ts"],"sourcesContent":["// Polyfills\nif (Number.EPSILON === undefined) {\n  ///Number.EPSILON = Math.pow(2, - 52);\n  Object.defineProperty(Number, 'EPSILON', { value: Math.pow(2, - 52) });\n}\n//\nif (Math.sign === undefined) {\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n  Math.sign = function(x) {\n    return (x < 0) ? - 1 : (x > 0) ? 1 : + x;\n  };\n}\nif (Function.prototype.name === undefined) {\n  // Missing in IE9-11.\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n  Object.defineProperty(Function.prototype, 'name', {\n    get: function(/*this: Function*/) {\n      return this.toString().match(/^\\s*function\\s*(\\S*)\\s*\\(/)[1];\n    }\n  });\n}\nif (Object.assign === undefined) {\n  // Missing in IE.\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n  (function() {\n    Object.assign = function(target/*: any*/) {\n      'use strict';\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n      let output = Object(target);\n      for (let index = 1; index < arguments.length; index ++) {\n        let source = arguments[index];\n        if (source !== undefined && source !== null) {\n          for (let nextKey in source) {\n            if (Object.prototype.hasOwnProperty.call(source, nextKey)) {\n              output[nextKey] = source[nextKey];\n            }\n          }\n        }\n      }\n      return output;\n    };\n  })();\n}\n","/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\nexport class EventDispatcher {\n  _listeners: any;\n  addEventListener(type: string, listener: (event: any) => void): void {\n    if (this._listeners === undefined) this._listeners = {};\n    const listeners = this._listeners;\n    if (listeners[type] === undefined) {\n      listeners[type] = [];\n    }\n    if (listeners[type].indexOf(listener) === - 1) {\n      listeners[type].push(listener);\n    }\n  }\n  hasEventListener(type: string, listener: (event: any) => void): boolean {\n    if (this._listeners === undefined) return false;\n    const listeners = this._listeners;\n    if (listeners[type] !== undefined && listeners[type].indexOf(listener) !== - 1) {\n      return true;\n    }\n    return false;\n  }\n  removeEventListener(type: string, listener: (event: any) => void): void {\n    if (this._listeners === undefined) return;\n    const listeners = this._listeners;\n    const listenerArray = listeners[type];\n    if (listenerArray !== undefined) {\n      const index = listenerArray.indexOf(listener);\n      if (index !== - 1) {\n        listenerArray.splice(index, 1);\n      }\n    }\n  }\n  dispatchEvent(event: any): void {\n    if (this._listeners === undefined) return;\n    const listeners = this._listeners;\n    const listenerArray = listeners[event.type];\n    if (listenerArray !== undefined) {\n      event.target = this;\n      const array = [];\n      const length = listenerArray.length;\n      for (let i = 0; i < length; i ++) {\n        array[i] = listenerArray[i];\n      }\n      for (let i = 0; i < length; i ++) {\n        array[i].call(this, event);\n      }\n    }\n  }\n  apply(target: any): void {\n    console.warn(\"THREE.EventDispatcher: .apply is deprecated, \" +\n        \"just inherit or Object.assign the prototype to mix-in.\");\n    Object.assign(target, this);\n  }\n}\n","export const REVISION = \"82\";\n//\nexport enum MOUSE { LEFT = 0, MIDDLE = 1, RIGHT = 2 }\n//\nexport enum CullFace {\n  None = 0,\n  Back = 1,\n  Front = 2,\n  FrontBack = 3\n}\nexport const CullFaceNone = CullFace.None;\nexport const CullFaceBack = CullFace.Back;\nexport const CullFaceFront = CullFace.Front;\nexport const CullFaceFrontBack = CullFace.FrontBack;\n//\nexport enum FrontFaceDirection {\n  CW = 0,\n  CCW = 1\n}\nexport const FrontFaceDirectionCW: FrontFaceDirection = FrontFaceDirection.CW;\nexport const FrontFaceDirectionCCW: FrontFaceDirection = FrontFaceDirection.CCW;\n//\nexport enum ShadowMap {\n  Basic = 0,\n  PCF = 1,\n  PCFSoft = 2\n}\nexport const BasicShadowMap: ShadowMap = ShadowMap.Basic;\nexport const PCFShadowMap: ShadowMap = ShadowMap.PCF;\nexport const PCFSoftShadowMap: ShadowMap = ShadowMap.PCFSoft;\n//\nexport enum SideMode {\n  Front = 0,\n  Back = 1,\n  Double = 2\n}\nexport const FrontSide: SideMode = SideMode.Front;\nexport const BackSide: SideMode = SideMode.Back;\nexport const DoubleSide: SideMode = SideMode.Double;\n//\nexport enum ShadingMode {\n  Flat = 1,\n  Smooth = 2\n}\nexport const FlatShading: ShadingMode = ShadingMode.Flat;\nexport const SmoothShading: ShadingMode = ShadingMode.Smooth;\n//\nexport enum ColorsMode {\n  None = 0,\n  Face = 1,\n  Vertex = 2\n}\nexport const NoColors: ColorsMode = ColorsMode.None;\nexport const FaceColors: ColorsMode = ColorsMode.Face;\nexport const VertexColors: ColorsMode = ColorsMode.Vertex;\n//\nexport enum BlendingMode {\n  None = 0,\n  Normal = 1,\n  Additive = 2,\n  Subtractive = 3,\n  Multiply = 4,\n  Custom = 5\n}\nexport const NoBlending: BlendingMode = BlendingMode.None;\nexport const NormalBlending: BlendingMode = BlendingMode.Normal;\nexport const AdditiveBlending: BlendingMode = BlendingMode.Additive;\nexport const SubtractiveBlending: BlendingMode = BlendingMode.Subtractive;\nexport const MultiplyBlending: BlendingMode = BlendingMode.Multiply;\nexport const CustomBlending: BlendingMode = BlendingMode.Custom;\n//\nexport enum BlendingEquation {\n  Add = 100,\n  Subtract = 101,\n  ReverseSubtract = 102,\n  Min = 103,\n  Max = 104\n}\nexport const AddEquation: BlendingEquation = BlendingEquation.Add;\nexport const SubtractEquation: BlendingEquation = BlendingEquation.Subtract;\nexport const ReverseSubtractEquation: BlendingEquation = BlendingEquation.ReverseSubtract;\nexport const MinEquation: BlendingEquation = BlendingEquation.Min;\nexport const MaxEquation: BlendingEquation = BlendingEquation.Max;\n//\nexport enum BlendingFactor {\n  Zero = 200,\n  One = 201,\n  SrcColor = 202,\n  OneMinusSrcColor = 203,\n  SrcAlpha = 204,\n  OneMinusSrcAlpha = 205,\n  DstAlpha = 206,\n  OneMinusDstAlpha = 207,\n  DstColor = 208,\n  OneMinusDstColor = 209,\n  SrcAlphaSaturate = 210,\n}\nexport const ZeroFactor: BlendingFactor = BlendingFactor.Zero;\nexport const OneFactor: BlendingFactor = BlendingFactor.One;\nexport const SrcColorFactor: BlendingFactor = BlendingFactor.SrcColor;\nexport const OneMinusSrcColorFactor: BlendingFactor = BlendingFactor.OneMinusSrcColor;\nexport const SrcAlphaFactor: BlendingFactor = BlendingFactor.SrcAlpha;\nexport const OneMinusSrcAlphaFactor: BlendingFactor = BlendingFactor.OneMinusSrcAlpha;\nexport const DstAlphaFactor: BlendingFactor = BlendingFactor.DstAlpha;\nexport const OneMinusDstAlphaFactor: BlendingFactor = BlendingFactor.OneMinusDstAlpha;\nexport const DstColorFactor: BlendingFactor = BlendingFactor.DstColor;\nexport const OneMinusDstColorFactor: BlendingFactor = BlendingFactor.OneMinusDstColor;\nexport const SrcAlphaSaturateFactor: BlendingFactor = BlendingFactor.SrcAlphaSaturate;\n//\nexport enum DepthFunction {\n  Never = 0,\n  Always = 1,\n  Less = 2,\n  LessEqual = 3,\n  Equal = 4,\n  GreaterEqual = 5,\n  Greater = 6,\n  NotEqual = 7\n}\nexport const NeverDepth: DepthFunction = DepthFunction.Never;\nexport const AlwaysDepth: DepthFunction = DepthFunction.Always;\nexport const LessDepth: DepthFunction = DepthFunction.Less;\nexport const LessEqualDepth: DepthFunction = DepthFunction.LessEqual;\nexport const EqualDepth: DepthFunction = DepthFunction.Equal;\nexport const GreaterEqualDepth: DepthFunction = DepthFunction.GreaterEqual;\nexport const GreaterDepth: DepthFunction = DepthFunction.Greater;\nexport const NotEqualDepth: DepthFunction = DepthFunction.NotEqual;\n//\nexport enum BlendingOperation {\n  Multiply = 0,\n  Mix = 1,\n  Add = 2\n}\nexport const MultiplyOperation: BlendingOperation = BlendingOperation.Multiply;\nexport const MixOperation: BlendingOperation = BlendingOperation.Mix;\nexport const AddOperation: BlendingOperation = BlendingOperation.Add;\n//\nexport enum ToneMapping {\n  None = 0,\n  Linear = 1,\n  Reinhard = 2,\n  Uncharted2 = 3,\n  Cineon = 4\n}\nexport const NoToneMapping: ToneMapping = ToneMapping.None;\nexport const LinearToneMapping: ToneMapping = ToneMapping.Linear;\nexport const ReinhardToneMapping: ToneMapping = ToneMapping.Reinhard;\nexport const Uncharted2ToneMapping: ToneMapping = ToneMapping.Uncharted2;\nexport const CineonToneMapping: ToneMapping = ToneMapping.Cineon;\n//\nexport enum TextureMapping {\n  UV = 300,\n  CubeReflection = 301,\n  CubeRefraction = 302,\n  EquirectangularReflection = 303,\n  EquirectangularRefraction = 304,\n  SphericalReflection = 305,\n  CubeUVReflection = 306,\n  CubeUVRefraction = 307\n}\nexport const UVMapping: TextureMapping = TextureMapping.UV;\nexport const CubeReflectionMapping: TextureMapping = TextureMapping.CubeReflection;\nexport const CubeRefractionMapping: TextureMapping = TextureMapping.CubeRefraction;\nexport const EquirectangularReflectionMapping: TextureMapping = TextureMapping.EquirectangularReflection;\nexport const EquirectangularRefractionMapping: TextureMapping = TextureMapping.EquirectangularRefraction;\nexport const SphericalReflectionMapping: TextureMapping = TextureMapping.SphericalReflection;\nexport const CubeUVReflectionMapping: TextureMapping = TextureMapping.CubeUVReflection;\nexport const CubeUVRefractionMapping: TextureMapping = TextureMapping.CubeUVRefraction;\n//\nexport enum TextureWrapping {\n  Repeat = 1000,\n  ClampToEdge = 1001,\n  MirroredRepeat = 1002\n}\nexport const RepeatWrapping: TextureWrapping = TextureWrapping.Repeat;\nexport const ClampToEdgeWrapping: TextureWrapping = TextureWrapping.ClampToEdge;\nexport const MirroredRepeatWrapping: TextureWrapping = TextureWrapping.MirroredRepeat;\n//\nexport enum TextureFilter {\n  Nearest = 1003,\n  NearestMipMapNearest = 1004,\n  NearestMipMapLinear = 1005,\n  Linear = 1006,\n  LinearMipMapNearest = 1007,\n  LinearMipMapLinear = 1008\n}\nexport const NearestFilter: TextureFilter = TextureFilter.Nearest;\nexport const NearestMipMapNearestFilter: TextureFilter = TextureFilter.NearestMipMapNearest;\nexport const NearestMipMapLinearFilter: TextureFilter = TextureFilter.NearestMipMapLinear;\nexport const LinearFilter: TextureFilter = TextureFilter.Linear;\nexport const LinearMipMapNearestFilter: TextureFilter = TextureFilter.LinearMipMapNearest;\nexport const LinearMipMapLinearFilter: TextureFilter = TextureFilter.LinearMipMapLinear;\n//\nexport enum TextureType {\n  UnsignedByte = 1009,\n  Byte = 1010,\n  Short = 1011,\n  UnsignedShort = 1012,\n  Int = 1013,\n  UnsignedInt = 1014,\n  Float = 1015,\n  HalfFloat = 1016,\n  UnsignedShort4444 = 1017,\n  UnsignedShort5551 = 1018,\n  UnsignedShort565 = 1019,\n  UnsignedInt248 = 1020\n}\nexport const UnsignedByteType: TextureType = TextureType.UnsignedByte;\nexport const ByteType: TextureType = TextureType.Byte;\nexport const ShortType: TextureType = TextureType.Short;\nexport const UnsignedShortType: TextureType = TextureType.UnsignedShort;\nexport const IntType: TextureType = TextureType.Int;\nexport const UnsignedIntType: TextureType = TextureType.UnsignedInt;\nexport const FloatType: TextureType = TextureType.Float;\nexport const HalfFloatType: TextureType = TextureType.HalfFloat;\nexport const UnsignedShort4444Type: TextureType = TextureType.UnsignedShort4444;\nexport const UnsignedShort5551Type: TextureType = TextureType.UnsignedShort5551;\nexport const UnsignedShort565Type: TextureType = TextureType.UnsignedShort565;\nexport const UnsignedInt248Type: TextureType = TextureType.UnsignedInt248;\n//\nexport enum TextureFormat {\n  Alpha = 1021,\n  RGB = 1022,\n  RGBA = 1023,\n  Luminance = 1024,\n  LuminanceAlpha = 1025,\n  RGBE = RGBA,\n  Depth = 1026,\n  DepthStencil = 1027,\n  RGB_S3TC_DXT1 = 2001,\n  RGBA_S3TC_DXT1 = 2002,\n  RGBA_S3TC_DXT3 = 2003,\n  RGBA_S3TC_DXT5 = 2004,\n  RGB_PVRTC_4BPPV1 = 2100,\n  RGB_PVRTC_2BPPV1 = 2101,\n  RGBA_PVRTC_4BPPV1 = 2102,\n  RGBA_PVRTC_2BPPV1 = 2103,\n  RGB_ETC1 = 2151,\n}\nexport const AlphaFormat: TextureFormat = TextureFormat.Alpha;\nexport const RGBFormat: TextureFormat = TextureFormat.RGB;\nexport const RGBAFormat: TextureFormat = TextureFormat.RGBA;\nexport const LuminanceFormat: TextureFormat = TextureFormat.Luminance;\nexport const LuminanceAlphaFormat: TextureFormat = TextureFormat.LuminanceAlpha;\nexport const RGBEFormat: TextureFormat = TextureFormat.RGBE;\nexport const DepthFormat: TextureFormat = TextureFormat.Depth;\nexport const DepthStencilFormat: TextureFormat = TextureFormat.DepthStencil;\nexport const RGB_S3TC_DXT1_Format: TextureFormat = TextureFormat.RGB_S3TC_DXT1;\nexport const RGBA_S3TC_DXT1_Format: TextureFormat = TextureFormat.RGBA_S3TC_DXT1;\nexport const RGBA_S3TC_DXT3_Format: TextureFormat = TextureFormat.RGBA_S3TC_DXT3;\nexport const RGBA_S3TC_DXT5_Format: TextureFormat = TextureFormat.RGBA_S3TC_DXT5;\nexport const RGB_PVRTC_4BPPV1_Format: TextureFormat = TextureFormat.RGB_PVRTC_4BPPV1;\nexport const RGB_PVRTC_2BPPV1_Format: TextureFormat = TextureFormat.RGB_PVRTC_2BPPV1;\nexport const RGBA_PVRTC_4BPPV1_Format: TextureFormat = TextureFormat.RGBA_PVRTC_4BPPV1;\nexport const RGBA_PVRTC_2BPPV1_Format: TextureFormat = TextureFormat.RGBA_PVRTC_2BPPV1;\nexport const RGB_ETC1_Format: TextureFormat = TextureFormat.RGB_ETC1;\n//\nexport enum LoopMode {\n  Once = 2200,\n  Repeat = 2201,\n  PingPong = 2202\n}\nexport const LoopOnce: LoopMode = LoopMode.Once;\nexport const LoopRepeat: LoopMode = LoopMode.Repeat;\nexport const LoopPingPong: LoopMode = LoopMode.PingPong;\n//\nexport enum InterpolateMode {\n  Discrete = 2300,\n  Linear = 2301,\n  Smooth = 2302\n}\nexport const InterpolateDiscrete: InterpolateMode = InterpolateMode.Discrete;\nexport const InterpolateLinear: InterpolateMode = InterpolateMode.Linear;\nexport const InterpolateSmooth: InterpolateMode = InterpolateMode.Smooth;\n//\nexport enum EndingMode {\n  ZeroCurvature = 2400,\n  ZeroSlope = 2401,\n  WrapAround = 2402\n}\nexport const ZeroCurvatureEnding: EndingMode = EndingMode.ZeroCurvature;\nexport const ZeroSlopeEnding: EndingMode = EndingMode.ZeroSlope;\nexport const WrapAroundEnding: EndingMode = EndingMode.WrapAround;\n//\nexport enum DrawMode {\n  Triangles = 0,\n  TriangleStrip = 1,\n  TriangleFan = 2\n}\nexport const TrianglesDrawMode: DrawMode = DrawMode.Triangles;\nexport const TriangleStripDrawMode: DrawMode = DrawMode.TriangleStrip;\nexport const TriangleFanDrawMode: DrawMode = DrawMode.TriangleFan;\n//\nexport enum TextureEncoding {\n  Linear = 3000,\n  sRGB = 3001,\n  Gamma = 3007,\n  RGBE = 3002,\n  LogLuv = 3003,\n  RGBM7 = 3004,\n  RGBM16 = 3005,\n  RGBD = 3006\n}\nexport const LinearEncoding: TextureEncoding = TextureEncoding.Linear;\nexport const sRGBEncoding: TextureEncoding = TextureEncoding.sRGB;\nexport const GammaEncoding: TextureEncoding = TextureEncoding.Gamma;\nexport const RGBEEncoding: TextureEncoding = TextureEncoding.RGBE;\nexport const LogLuvEncoding: TextureEncoding = TextureEncoding.LogLuv;\nexport const RGBM7Encoding: TextureEncoding = TextureEncoding.RGBM7;\nexport const RGBM16Encoding: TextureEncoding = TextureEncoding.RGBM16;\nexport const RGBDEncoding: TextureEncoding = TextureEncoding.RGBD;\n//\nexport enum DepthPacking {\n  Basic = 3200,\n  RGBA = 3201\n}\nexport const BasicDepthPacking: DepthPacking = DepthPacking.Basic;\nexport const RGBADepthPacking: DepthPacking = DepthPacking.RGBA;\n","/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\nexport class _Math {\n  static DEG2RAD: number = Math.PI / 180;\n  static RAD2DEG: number = 180 / Math.PI;\n  private static generateUUID_chars: string[] = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\n  private static generateUUID_uuid: string[] = new Array(36);\n  private static generateUUID_rnd: number = 0;\n  static generateUUID(): string {\n    const chars: string[] = _Math.generateUUID_chars;\n    const uuid: string[] = _Math.generateUUID_uuid;\n    for (let i = 0; i < 36; i ++) {\n      if (i === 8 || i === 13 || i === 18 || i === 23) {\n        uuid[i] = '-';\n      } else if (i === 14) {\n        uuid[i] = '4';\n      } else {\n        let rnd: number = _Math.generateUUID_rnd;\n        if (rnd <= 0x02) rnd = 0x2000000 + (Math.random() * 0x1000000) | 0;\n        const r: number = rnd & 0xf;\n        _Math.generateUUID_rnd = rnd >> 4;\n        uuid[i] = chars[(i === 19) ? (r & 0x3) | 0x8 : r];\n      }\n    }\n    return uuid.join('');\n  }\n  static clamp(value: number, min: number, max: number): number {\n    return Math.max(min, Math.min(max, value));\n  }\n  // compute euclidian modulo of m % n\n  // https://en.wikipedia.org/wiki/Modulo_operation\n  static euclideanModulo(n: number, m: number): number {\n    return ((n % m) + m) % m;\n  }\n  // Linear mapping from range <a1, a2> to range <b1, b2>\n  static mapLinear(x: number, a1: number, a2: number, b1: number, b2: number): number {\n    return b1 + (x - a1) * (b2 - b1) / (a2 - a1);\n  }\n  // https://en.wikipedia.org/wiki/Linear_interpolation\n  static lerp(x: number, y: number, t: number): number {\n    return (1 - t) * x + t * y;\n  }\n  // http://en.wikipedia.org/wiki/Smoothstep\n  static smoothstep(x: number, min: number, max: number): number {\n    if (x <= min) return 0;\n    if (x >= max) return 1;\n    x = (x - min) / (max - min);\n    return x * x * (3 - 2 * x);\n  }\n  static smootherstep(x: number, min: number, max: number): number {\n    if (x <= min) return 0;\n    if (x >= max) return 1;\n    x = (x - min) / (max - min);\n    return x * x * x * (x * (x * 6 - 15) + 10);\n  }\n  static random16(): number {\n    console.warn('THREE.Math.random16() has been deprecated. Use Math.random() instead.');\n    return Math.random();\n  }\n  // Random integer from <low, high> interval\n  static randInt(low: number, high: number): number {\n    return low + Math.floor(Math.random() * (high - low + 1));\n  }\n  // Random float from <low, high> interval\n  static randFloat(low: number, high: number): number {\n    return low + Math.random() * (high - low);\n  }\n  // Random float from <-range/2, range/2> interval\n  static randFloatSpread(range: number): number {\n    return range * (0.5 - Math.random());\n  }\n  static degToRad(degrees: number): number {\n    return degrees * _Math.DEG2RAD;\n  }\n  static radToDeg(radians: number): number {\n    return radians * _Math.RAD2DEG;\n  }\n  static isPowerOfTwo(value: number): boolean {\n    return (value & (value - 1)) === 0 && value !== 0;\n  }\n  static nearestPowerOfTwo(value: number): number {\n    return Math.pow(2, Math.round(Math.log(value) / Math.LN2));\n  }\n  static nextPowerOfTwo(value: number): number {\n    value --;\n    value |= value >> 1;\n    value |= value >> 2;\n    value |= value >> 4;\n    value |= value >> 8;\n    value |= value >> 16;\n    value ++;\n    return value;\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\nexport class Vector2 {\n  x: number;\n  y: number;\n  readonly isVector2: boolean = true;\n  constructor(x: number = 0, y: number = 0) {\n    this.x = x;\n    this.y = y;\n  }\n  get width(): number { return this.x; }\n  set width(value: number) { this.x = value; }\n  get height(): number { return this.y; }\n  set height(value: number) { this.y = value; }\n  set(x: number, y: number): Vector2 {\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n  setScalar(scalar: number): Vector2 {\n    this.x = scalar;\n    this.y = scalar;\n    return this;\n  }\n  setX(x: number): Vector2 {\n    this.x = x;\n    return this;\n  }\n  setY(y: number): Vector2 {\n    this.y = y;\n    return this;\n  }\n  setComponent(index: number, value: number): Vector2 {\n    switch (index) {\n      case 0: this.x = value; break;\n      case 1: this.y = value; break;\n      default: throw new Error('index is out of range: ' + index);\n    }\n    return this;\n  }\n  getComponent(index: number): number {\n    switch (index) {\n      case 0: return this.x;\n      case 1: return this.y;\n      default: throw new Error('index is out of range: ' + index);\n    }\n  }\n  clone(): Vector2 {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(v: Vector2): Vector2 {\n    this.x = v.x;\n    this.y = v.y;\n    return this;\n  }\n  add(v: Vector2, w?: Vector2): Vector2 {\n    if (w !== undefined) {\n      console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors(a, b) instead.');\n      return this.addVectors(v, w);\n    }\n    this.x += v.x;\n    this.y += v.y;\n    return this;\n  }\n  addScalar(s: number): Vector2 {\n    this.x += s;\n    this.y += s;\n    return this;\n  }\n  addVectors(a: Vector2, b: Vector2): Vector2 {\n    this.x = a.x + b.x;\n    this.y = a.y + b.y;\n    return this;\n  }\n  addScaledVector(v: Vector2, s: number): Vector2 {\n    this.x += v.x * s;\n    this.y += v.y * s;\n    return this;\n  }\n  sub(v: Vector2, w?: Vector2): Vector2 {\n    if (w !== undefined) {\n      console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors(a, b) instead.');\n      return this.subVectors(v, w);\n    }\n    this.x -= v.x;\n    this.y -= v.y;\n    return this;\n  }\n  subScalar(s: number): Vector2 {\n    this.x -= s;\n    this.y -= s;\n    return this;\n  }\n  subVectors(a: Vector2, b: Vector2): Vector2 {\n    this.x = a.x - b.x;\n    this.y = a.y - b.y;\n    return this;\n  }\n  multiply(v: Vector2): Vector2 {\n    this.x *= v.x;\n    this.y *= v.y;\n    return this;\n  }\n  multiplyScalar(scalar: number): Vector2 {\n    if (isFinite(scalar)) {\n      this.x *= scalar;\n      this.y *= scalar;\n    } else {\n      this.x = 0;\n      this.y = 0;\n    }\n    return this;\n  }\n  divide(v: Vector2): Vector2 {\n    this.x /= v.x;\n    this.y /= v.y;\n    return this;\n  }\n  divideScalar(scalar: number): Vector2 {\n    return this.multiplyScalar(1 / scalar);\n  }\n  min(v: Vector2): Vector2 {\n    this.x = Math.min(this.x, v.x);\n    this.y = Math.min(this.y, v.y);\n    return this;\n  }\n  max(v: Vector2): Vector2 {\n    this.x = Math.max(this.x, v.x);\n    this.y = Math.max(this.y, v.y);\n    return this;\n  }\n  clamp(min: Vector2, max: Vector2): Vector2 {\n    // This function assumes min < max, if this assumption isn't true it will not operate correctly\n    this.x = Math.max(min.x, Math.min(max.x, this.x));\n    this.y = Math.max(min.y, Math.min(max.y, this.y));\n    return this;\n  }\n  private static clampScalar_min = new Vector2();\n  private static clampScalar_max = new Vector2();\n  clampScalar(minVal: number, maxVal: number): Vector2 {\n    const min: Vector2 = Vector2.clampScalar_min.set(minVal, minVal);\n    const max: Vector2 = Vector2.clampScalar_max.set(maxVal, maxVal);\n    return this.clamp(min, max);\n  }\n  clampLength(min: number, max: number): Vector2 {\n    const length: number = this.length();\n    return this.multiplyScalar(Math.max(min, Math.min(max, length)) / length);\n  }\n  floor(): Vector2 {\n    this.x = Math.floor(this.x);\n    this.y = Math.floor(this.y);\n    return this;\n  }\n  ceil(): Vector2 {\n    this.x = Math.ceil(this.x);\n    this.y = Math.ceil(this.y);\n    return this;\n  }\n  round(): Vector2 {\n    this.x = Math.round(this.x);\n    this.y = Math.round(this.y);\n    return this;\n  }\n  roundToZero(): Vector2 {\n    this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\n    this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\n    return this;\n  }\n  negate(): Vector2 {\n    this.x = - this.x;\n    this.y = - this.y;\n    return this;\n  }\n  dot(v: Vector2): number {\n    return this.x * v.x + this.y * v.y;\n  }\n  lengthSq(): number {\n    return this.x * this.x + this.y * this.y;\n  }\n  length(): number {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n  lengthManhattan(): number {\n    return Math.abs(this.x) + Math.abs(this.y);\n  }\n  normalize(): Vector2 {\n    return this.divideScalar(this.length());\n  }\n  angle(): number {\n    // computes the angle in radians with respect to the positive x-axis\n    let angle: number = Math.atan2(this.y, this.x);\n    if (angle < 0) angle += 2 * Math.PI;\n    return angle;\n  }\n  distanceTo(v: Vector2): number {\n    return Math.sqrt(this.distanceToSquared(v));\n  }\n  distanceToSquared(v: Vector2): number {\n    const dx: number = this.x - v.x, dy: number = this.y - v.y;\n    return dx * dx + dy * dy;\n  }\n  distanceToManhattan(v: Vector2): number {\n    return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\n  }\n  setLength(length: number): Vector2 {\n    return this.multiplyScalar(length / this.length());\n  }\n  lerp(v: Vector2, alpha: number): Vector2 {\n    this.x += (v.x - this.x) * alpha;\n    this.y += (v.y - this.y) * alpha;\n    return this;\n  }\n  lerpVectors(v1: Vector2, v2: Vector2, alpha: number): Vector2 {\n    return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n  }\n  equals(v: Vector2): boolean {\n    return ((v.x === this.x) && (v.y === this.y));\n  }\n  fromArray(array: Float32Array | number[], offset: number = 0): Vector2 {\n    this.x = array[offset];\n    this.y = array[offset + 1];\n    return this;\n  }\n  toArray(array: Float32Array | number[] = [], offset: number = 0): Float32Array | number[] {\n    array[offset] = this.x;\n    array[offset + 1] = this.y;\n    return array;\n  }\n  fromAttribute(attribute: any, index: number, offset: number = 0): Vector2 {\n    index = index * attribute.itemSize + offset;\n    this.x = attribute.array[index];\n    this.y = attribute.array[index + 1];\n    return this;\n  }\n  rotateAround(center: Vector2, angle: number): Vector2 {\n    const c: number = Math.cos(angle), s: number = Math.sin(angle);\n    const x: number = this.x - center.x;\n    const y: number = this.y - center.y;\n    this.x = x * c - y * s + center.x;\n    this.y = x * s + y * c + center.y;\n    return this;\n  }\n}\n","import { EventDispatcher } from \"../core/EventDispatcher\";\nimport { TextureMapping, TextureWrapping, TextureEncoding, TextureType, TextureFormat, TextureFilter } from \"../constants\";\nimport { _Math } from \"../math/Math\";\nimport { Vector2 } from \"../math/Vector2\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\nexport class Texture extends EventDispatcher {\n  id: number = TextureIdCount();\n  uuid: string = _Math.generateUUID();\n  name: string = '';\n  sourceFile: string = '';\n  image: any;\n  mipmaps: any[] = [];\n  mapping: TextureMapping;\n  wrapS: TextureWrapping;\n  wrapT: TextureWrapping;\n  magFilter: TextureFilter;\n  minFilter: TextureFilter;\n  anisotropy: number;\n  format: TextureFormat;\n  type: TextureType;\n  offset: Vector2 = new Vector2(0, 0);\n  repeat: Vector2 = new Vector2(1, 1);\n  generateMipmaps: boolean = true;\n  premultiplyAlpha: boolean = false;\n  flipY: boolean = true;\n  unpackAlignment: number = 4; // valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n  // Values of encoding !== THREE.TextureEncoding.Linear only supported on map, envMap and emissiveMap.\n  //\n  // Also changing the encoding after already used by a Material will not automatically make the Material\n  // update.  You need to explicitly call Material.needsUpdate to trigger it to recompile.\n  encoding: TextureEncoding;\n  version: number = 0;\n  onUpdate: (texture: Texture) => void = null;\n  readonly isTexture: boolean = true;\n  static DEFAULT_IMAGE: any = undefined;\n  static DEFAULT_MAPPING: TextureMapping = TextureMapping.UV;\n  constructor(image: any = Texture.DEFAULT_IMAGE, mapping: TextureMapping = Texture.DEFAULT_MAPPING, wrapS: TextureWrapping = TextureWrapping.ClampToEdge, wrapT: TextureWrapping = TextureWrapping.ClampToEdge, magFilter: TextureFilter = TextureFilter.Linear, minFilter: TextureFilter = TextureFilter.LinearMipMapLinear, format: TextureFormat = TextureFormat.RGBA, type: TextureType = TextureType.UnsignedByte, anisotropy: number = 1, encoding: TextureEncoding = TextureEncoding.Linear) {\n    super();\n    this.image = image;\n    this.mapping = mapping;\n    this.wrapS = wrapS;\n    this.wrapT = wrapT;\n    this.magFilter = magFilter;\n    this.minFilter = minFilter;\n    this.anisotropy = anisotropy;\n    this.format = format;\n    this.type = type;\n    this.encoding = encoding;\n  }\n  set needsUpdate(value: boolean) {\n    if (value === true) this.version ++;\n  }\n  clone(): this {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(source: this): this {\n    this.image = source.image;\n    this.mipmaps = source.mipmaps.slice(0);\n    this.mapping = source.mapping;\n    this.wrapS = source.wrapS;\n    this.wrapT = source.wrapT;\n    this.magFilter = source.magFilter;\n    this.minFilter = source.minFilter;\n    this.anisotropy = source.anisotropy;\n    this.format = source.format;\n    this.type = source.type;\n    this.offset.copy(source.offset);\n    this.repeat.copy(source.repeat);\n    this.generateMipmaps = source.generateMipmaps;\n    this.premultiplyAlpha = source.premultiplyAlpha;\n    this.flipY = source.flipY;\n    this.unpackAlignment = source.unpackAlignment;\n    this.encoding = source.encoding;\n    return this;\n  }\n  toJSON(meta: any): any {\n    if (meta.textures[ this.uuid ] !== undefined) {\n      return meta.textures[ this.uuid ];\n    }\n    function getDataURL(image: HTMLCanvasElement | HTMLImageElement | HTMLVideoElement): string {\n      let canvas: HTMLCanvasElement;\n      if (image instanceof HTMLCanvasElement) {\n        canvas = image;\n      } else {\n        canvas = <HTMLCanvasElement> document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n        canvas.width = image.width;\n        canvas.height = image.height;\n        canvas.getContext('2d').drawImage(image, 0, 0, image.width, image.height);\n      }\n      if (canvas.width > 2048 || canvas.height > 2048) {\n        return canvas.toDataURL('image/jpeg', 0.6);\n      } else {\n        return canvas.toDataURL('image/png');\n      }\n    }\n    const output: any = {\n      metadata: {\n        version: 4.4,\n        type: 'Texture',\n        generator: 'Texture.toJSON'\n      },\n      uuid: this.uuid,\n      name: this.name,\n      mapping: this.mapping,\n      repeat: [ this.repeat.x, this.repeat.y ],\n      offset: [ this.offset.x, this.offset.y ],\n      wrap: [ this.wrapS, this.wrapT ],\n      minFilter: this.minFilter,\n      magFilter: this.magFilter,\n      anisotropy: this.anisotropy,\n      flipY: this.flipY\n    };\n    if (this.image !== undefined) {\n      // TODO: Move to THREE.Image\n      const image = this.image;\n      if (image.uuid === undefined) {\n        image.uuid = _Math.generateUUID(); // UGH\n      }\n      if (meta.images[ image.uuid ] === undefined) {\n        meta.images[ image.uuid ] = {\n          uuid: image.uuid,\n          url: getDataURL(image)\n        };\n      }\n      output.image = image.uuid;\n    }\n    meta.textures[ this.uuid ] = output;\n    return output;\n  }\n  dispose(): void {\n    this.dispatchEvent({ type: 'dispose' });\n  }\n  transformUv(uv: Vector2): void {\n    if (this.mapping !== TextureMapping.UV)  return;\n    uv.multiply(this.repeat);\n    uv.add(this.offset);\n    if (uv.x < 0 || uv.x > 1) {\n      switch (this.wrapS) {\n        case TextureWrapping.Repeat:\n          uv.x = uv.x - Math.floor(uv.x);\n          break;\n        case TextureWrapping.ClampToEdge:\n          uv.x = uv.x < 0 ? 0 : 1;\n          break;\n        case TextureWrapping.MirroredRepeat:\n          if (Math.abs(Math.floor(uv.x) % 2) === 1) {\n            uv.x = Math.ceil(uv.x) - uv.x;\n          } else {\n            uv.x = uv.x - Math.floor(uv.x);\n          }\n          break;\n      }\n    }\n    if (uv.y < 0 || uv.y > 1) {\n      switch (this.wrapT) {\n        case TextureWrapping.Repeat:\n          uv.y = uv.y - Math.floor(uv.y);\n          break;\n        case TextureWrapping.ClampToEdge:\n          uv.y = uv.y < 0 ? 0 : 1;\n          break;\n        case TextureWrapping.MirroredRepeat:\n          if (Math.abs(Math.floor(uv.y) % 2) === 1) {\n            uv.y = Math.ceil(uv.y) - uv.y;\n          } else {\n            uv.y = uv.y - Math.floor(uv.y);\n          }\n          break;\n      }\n    }\n    if (this.flipY) {\n      uv.y = 1 - uv.y;\n    }\n  }\n}\nlet count: number = 0;\nexport function TextureIdCount(): number { return count++; };\n","/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\nimport { Matrix4 } from \"./Matrix4\";\nimport { Quaternion } from \"./Quaternion\";\nexport class Vector4 {\n  x: number;\n  y: number;\n  z: number;\n  w: number;\n  readonly isVector4: boolean = true;\n  constructor(x: number = 0, y: number = 0, z: number = 0, w: number = 1) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n  }\n  set(x: number, y: number, z: number, w: number): Vector4 {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n    return this;\n  }\n  setScalar(scalar: number): Vector4 {\n    this.x = scalar;\n    this.y = scalar;\n    this.z = scalar;\n    this.w = scalar;\n    return this;\n  }\n  setX(x: number): Vector4 {\n    this.x = x;\n    return this;\n  }\n  setY(y: number): Vector4 {\n    this.y = y;\n    return this;\n  }\n  setZ(z: number): Vector4 {\n    this.z = z;\n    return this;\n  }\n  setW(w: number): Vector4 {\n    this.w = w;\n    return this;\n  }\n  setComponent(index: number, value: number): Vector4 {\n    switch (index) {\n      case 0: this.x = value; break;\n      case 1: this.y = value; break;\n      case 2: this.z = value; break;\n      case 3: this.w = value; break;\n      default: throw new Error('index is out of range: ' + index);\n    }\n    return this;\n  }\n  getComponent(index: number): number {\n    switch (index) {\n      case 0: return this.x;\n      case 1: return this.y;\n      case 2: return this.z;\n      case 3: return this.w;\n      default: throw new Error('index is out of range: ' + index);\n    }\n  }\n  clone(): Vector4 {\n    return new (this.constructor as any)(this.x, this.y, this.z, this.w);\n  }\n  copy(v: Vector4): Vector4 {\n    this.x = v.x;\n    this.y = v.y;\n    this.z = v.z;\n    this.w = v.w;\n    return this;\n  }\n  add(v: Vector4, w?: Vector4): Vector4 {\n    if (w !== undefined) {\n      console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors(a, b) instead.');\n      return this.addVectors(v, w);\n    }\n    this.x += v.x;\n    this.y += v.y;\n    this.z += v.z;\n    this.w += v.w;\n    return this;\n  }\n  addScalar(s: number): Vector4 {\n    this.x += s;\n    this.y += s;\n    this.z += s;\n    this.w += s;\n    return this;\n  }\n  addVectors(a: Vector4, b: Vector4): Vector4 {\n    this.x = a.x + b.x;\n    this.y = a.y + b.y;\n    this.z = a.z + b.z;\n    this.w = a.w + b.w;\n    return this;\n  }\n  addScaledVector(v: Vector4, s: number): Vector4 {\n    this.x += v.x * s;\n    this.y += v.y * s;\n    this.z += v.z * s;\n    this.w += v.w * s;\n    return this;\n  }\n  sub(v: Vector4, w?: Vector4): Vector4 {\n    if (w !== undefined) {\n      console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors(a, b) instead.');\n      return this.subVectors(v, w);\n    }\n    this.x -= v.x;\n    this.y -= v.y;\n    this.z -= v.z;\n    this.w -= v.w;\n    return this;\n  }\n  subScalar(s: number): Vector4 {\n    this.x -= s;\n    this.y -= s;\n    this.z -= s;\n    this.w -= s;\n    return this;\n  }\n  subVectors(a: Vector4, b: Vector4): Vector4 {\n    this.x = a.x - b.x;\n    this.y = a.y - b.y;\n    this.z = a.z - b.z;\n    this.w = a.w - b.w;\n    return this;\n  }\n  multiplyScalar(scalar: number): Vector4 {\n    if (isFinite(scalar)) {\n      this.x *= scalar;\n      this.y *= scalar;\n      this.z *= scalar;\n      this.w *= scalar;\n    } else {\n      this.x = 0;\n      this.y = 0;\n      this.z = 0;\n      this.w = 0;\n    }\n    return this;\n  }\n  applyMatrix4(m: Matrix4): Vector4 {\n    const x = this.x, y = this.y, z = this.z, w = this.w;\n    const e: Float32Array = m.elements;\n    this.x = e[0] * x + e[4] * y + e[8] * z + e[12] * w;\n    this.y = e[1] * x + e[5] * y + e[9] * z + e[13] * w;\n    this.z = e[2] * x + e[6] * y + e[10] * z + e[14] * w;\n    this.w = e[3] * x + e[7] * y + e[11] * z + e[15] * w;\n    return this;\n  }\n  divideScalar(scalar: number): Vector4 {\n    return this.multiplyScalar(1 / scalar);\n  }\n  setAxisAngleFromQuaternion(q: Quaternion): Vector4 {\n    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n    // q is assumed to be normalized\n    this.w = 2 * Math.acos(q.w);\n    const s = Math.sqrt(1 - q.w * q.w);\n    if (s < 0.0001) {\n       this.x = 1;\n       this.y = 0;\n       this.z = 0;\n    } else {\n       this.x = q.x / s;\n       this.y = q.y / s;\n       this.z = q.z / s;\n    }\n    return this;\n  }\n  setAxisAngleFromRotationMatrix(m: Matrix4): Vector4 {\n    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n    let angle, x, y, z;    // variables for result\n    const epsilon = 0.01,    // margin to allow for rounding errors\n      epsilon2 = 0.1,    // margin to distinguish between 0 and 180 degrees\n      te = m.elements,\n      m11 = te[0], m12 = te[4], m13 = te[8],\n      m21 = te[1], m22 = te[5], m23 = te[9],\n      m31 = te[2], m32 = te[6], m33 = te[10];\n    if ((Math.abs(m12 - m21) < epsilon) &&\n         (Math.abs(m13 - m31) < epsilon) &&\n         (Math.abs(m23 - m32) < epsilon)) {\n      // singularity found\n      // first check for identity matrix which must have +1 for all terms\n      // in leading diagonal and zero in other terms\n      if ((Math.abs(m12 + m21) < epsilon2) &&\n           (Math.abs(m13 + m31) < epsilon2) &&\n           (Math.abs(m23 + m32) < epsilon2) &&\n           (Math.abs(m11 + m22 + m33 - 3) < epsilon2)) {\n        // this singularity is identity matrix so angle = 0\n        this.set(1, 0, 0, 0);\n        return this; // zero angle, arbitrary axis\n      }\n      // otherwise this singularity is angle = 180\n      angle = Math.PI;\n      const xx = (m11 + 1) / 2;\n      const yy = (m22 + 1) / 2;\n      const zz = (m33 + 1) / 2;\n      const xy = (m12 + m21) / 4;\n      const xz = (m13 + m31) / 4;\n      const yz = (m23 + m32) / 4;\n      if ((xx > yy) && (xx > zz)) {\n        // m11 is the largest diagonal term\n        if (xx < epsilon) {\n          x = 0;\n          y = 0.707106781;\n          z = 0.707106781;\n        } else {\n          x = Math.sqrt(xx);\n          y = xy / x;\n          z = xz / x;\n        }\n      } else if (yy > zz) {\n        // m22 is the largest diagonal term\n        if (yy < epsilon) {\n          x = 0.707106781;\n          y = 0;\n          z = 0.707106781;\n        } else {\n          y = Math.sqrt(yy);\n          x = xy / y;\n          z = yz / y;\n        }\n      } else {\n        // m33 is the largest diagonal term so base result on this\n        if (zz < epsilon) {\n          x = 0.707106781;\n          y = 0.707106781;\n          z = 0;\n        } else {\n          z = Math.sqrt(zz);\n          x = xz / z;\n          y = yz / z;\n        }\n      }\n      this.set(x, y, z, angle);\n      return this; // return 180 deg rotation\n    }\n    // as we have reached here there are no singularities so we can handle normally\n    let s = Math.sqrt((m32 - m23) * (m32 - m23) +\n                       (m13 - m31) * (m13 - m31) +\n                       (m21 - m12) * (m21 - m12)); // used to normalize\n    if (Math.abs(s) < 0.001) s = 1;\n    // prevent divide by zero, should not happen if matrix is orthogonal and should be\n    // caught by singularity test above, but I've left it in just in case\n    this.x = (m32 - m23) / s;\n    this.y = (m13 - m31) / s;\n    this.z = (m21 - m12) / s;\n    this.w = Math.acos((m11 + m22 + m33 - 1) / 2);\n    return this;\n  }\n  min(v: Vector4): Vector4 {\n    this.x = Math.min(this.x, v.x);\n    this.y = Math.min(this.y, v.y);\n    this.z = Math.min(this.z, v.z);\n    this.w = Math.min(this.w, v.w);\n    return this;\n  }\n  max(v: Vector4): Vector4 {\n    this.x = Math.max(this.x, v.x);\n    this.y = Math.max(this.y, v.y);\n    this.z = Math.max(this.z, v.z);\n    this.w = Math.max(this.w, v.w);\n    return this;\n  }\n  clamp(min: Vector4, max: Vector4): Vector4 {\n    // This function assumes min < max, if this assumption isn't true it will not operate correctly\n    this.x = Math.max(min.x, Math.min(max.x, this.x));\n    this.y = Math.max(min.y, Math.min(max.y, this.y));\n    this.z = Math.max(min.z, Math.min(max.z, this.z));\n    this.w = Math.max(min.w, Math.min(max.w, this.w));\n    return this;\n  }\n  private static _clampScalar_min = new Vector4();\n  private static _clampScalar_max = new Vector4();\n  clampScalar(minVal: number, maxVal: number): Vector4 {\n    const min = Vector4._clampScalar_min, max = Vector4._clampScalar_max;\n    min.set(minVal, minVal, minVal, minVal);\n    max.set(maxVal, maxVal, maxVal, maxVal);\n    return this.clamp(min, max);\n  }\n  floor(): Vector4 {\n    this.x = Math.floor(this.x);\n    this.y = Math.floor(this.y);\n    this.z = Math.floor(this.z);\n    this.w = Math.floor(this.w);\n    return this;\n  }\n  ceil(): Vector4 {\n    this.x = Math.ceil(this.x);\n    this.y = Math.ceil(this.y);\n    this.z = Math.ceil(this.z);\n    this.w = Math.ceil(this.w);\n    return this;\n  }\n  round(): Vector4 {\n    this.x = Math.round(this.x);\n    this.y = Math.round(this.y);\n    this.z = Math.round(this.z);\n    this.w = Math.round(this.w);\n    return this;\n  }\n  roundToZero(): Vector4 {\n    this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\n    this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\n    this.z = (this.z < 0) ? Math.ceil(this.z) : Math.floor(this.z);\n    this.w = (this.w < 0) ? Math.ceil(this.w) : Math.floor(this.w);\n    return this;\n  }\n  negate(): Vector4 {\n    this.x = - this.x;\n    this.y = - this.y;\n    this.z = - this.z;\n    this.w = - this.w;\n    return this;\n  }\n  dot(v: Vector4): number {\n    return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n  }\n  lengthSq(): number {\n    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n  }\n  length(): number {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n  }\n  lengthManhattan(): number {\n    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);\n  }\n  normalize(): Vector4 {\n    return this.divideScalar(this.length());\n  }\n  setLength(length: number): Vector4 {\n    return this.multiplyScalar(length / this.length());\n  }\n  lerp(v: Vector4, alpha: number): Vector4 {\n    this.x += (v.x - this.x) * alpha;\n    this.y += (v.y - this.y) * alpha;\n    this.z += (v.z - this.z) * alpha;\n    this.w += (v.w - this.w) * alpha;\n    return this;\n  }\n  lerpVectors(v1: Vector4, v2: Vector4, alpha: number): Vector4 {\n    return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n  }\n  equals(v: Vector4) {\n    return ((v.x === this.x) && (v.y === this.y) && (v.z === this.z) && (v.w === this.w));\n  }\n  fromArray(array: Float32Array | number[], offset: number = 0): Vector4 {\n    this.x = array[offset];\n    this.y = array[offset + 1];\n    this.z = array[offset + 2];\n    this.w = array[offset + 3];\n    return this;\n  }\n  toArray(array: Float32Array | number[] = [], offset: number = 0): Float32Array | number[] {\n    array[offset] = this.x;\n    array[offset + 1] = this.y;\n    array[offset + 2] = this.z;\n    array[offset + 3] = this.w;\n    return array;\n  }\n  fromAttribute(attribute: any, index: number, offset: number = 0): Vector4 {\n    index = index * attribute.itemSize + offset;\n    this.x = attribute.array[index];\n    this.y = attribute.array[index + 1];\n    this.z = attribute.array[index + 2];\n    this.w = attribute.array[index + 3];\n    return this;\n  }\n}\n","/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n */\nimport { EventDispatcher } from \"../core/EventDispatcher\";\nimport { Texture } from \"../textures/Texture\";\nimport { TextureFilter } from \"../constants\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Vector4 } from \"../math/Vector4\";\nimport { _Math } from \"../math/Math\";\nexport class WebGLRenderTarget extends EventDispatcher {\n  uuid: string;\n  width: number;\n  height: number;\n  scissor: Vector4;\n  scissorTest: boolean;\n  viewport: Vector4;\n  texture: Texture;\n  depthBuffer: boolean;\n  stencilBuffer: boolean;\n  depthTexture: Texture;\n  readonly isWebGLRenderTarget: boolean = true;\n  /*\n   In options, we can specify:\n   * Texture parameters for an auto-generated target texture\n   * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n  */\n  constructor(width: number, height: number, options?: any) {\n    super();\n    this.uuid = _Math.generateUUID();\n    this.width = width;\n    this.height = height;\n    this.scissor = new Vector4(0, 0, width, height);\n    this.scissorTest = false;\n    this.viewport = new Vector4(0, 0, width, height);\n    options = options || {};\n    if (options.minFilter === undefined) options.minFilter = TextureFilter.Linear;\n    this.texture = new Texture(undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);\n    this.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n    this.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n    this.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n  }\n  setSize(width: number, height: number): void {\n    if (this.width !== width || this.height !== height) {\n      this.width = width;\n      this.height = height;\n      this.dispose();\n    }\n    this.viewport.set(0, 0, width, height);\n    this.scissor.set(0, 0, width, height);\n  }\n  clone(): this {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(source: this): this {\n    this.width = source.width;\n    this.height = source.height;\n    this.viewport.copy(source.viewport);\n    this.texture = source.texture.clone();\n    this.depthBuffer = source.depthBuffer;\n    this.stencilBuffer = source.stencilBuffer;\n    this.depthTexture = source.depthTexture;\n    return this;\n  }\n  dispose(): void {\n    this.dispatchEvent({ type: 'dispose' });\n  }\n  get wrapS(): number {\n    console.warn(\"THREE.WebGLRenderTarget .wrapS is now .texture.wrapS.\");\n    return this.texture.wrapS;\n  }\n  set wrapS(value: number) {\n    console.warn(\"THREE.WebGLRenderTarget .wrapS is now .texture.wrapS.\");\n    this.texture.wrapS = value;\n  }\n  get wrapT(): number {\n    console.warn(\"THREE.WebGLRenderTarget .wrapT is now .texture.wrapT.\");\n    return this.texture.wrapT;\n  }\n  set wrapT(value: number) {\n    console.warn(\"THREE.WebGLRenderTarget .wrapT is now .texture.wrapT.\");\n    this.texture.wrapT = value;\n  }\n  get magFilter(): number {\n    console.warn(\"THREE.WebGLRenderTarget .magFilter is now .texture.magFilter.\");\n    return this.texture.magFilter;\n  }\n  set magFilter(value: number) {\n    console.warn(\"THREE.WebGLRenderTarget .magFilter is now .texture.magFilter.\");\n    this.texture.magFilter = value;\n  }\n  get minFilter(): number {\n    console.warn(\"THREE.WebGLRenderTarget .minFilter is now .texture.minFilter.\");\n    return this.texture.minFilter;\n  }\n  set minFilter(value: number) {\n    console.warn(\"THREE.WebGLRenderTarget .minFilter is now .texture.minFilter.\");\n    this.texture.minFilter = value;\n  }\n  get anisotropy(): number {\n    console.warn(\"THREE.WebGLRenderTarget .anisotropy is now .texture.anisotropy.\");\n    return this.texture.anisotropy;\n  }\n  set anisotropy(value: number) {\n    console.warn(\"THREE.WebGLRenderTarget .anisotropy is now .texture.anisotropy.\");\n    this.texture.anisotropy = value;\n  }\n  get offset(): Vector2 {\n    console.warn(\"THREE.WebGLRenderTarget .offset is now .texture.offset.\");\n    return this.texture.offset;\n  }\n  set offset(value: Vector2) {\n    console.warn(\"THREE.WebGLRenderTarget .offset is now .texture.offset.\");\n    this.texture.offset = value;\n  }\n  get repeat(): Vector2 {\n    console.warn(\"THREE.WebGLRenderTarget .repeat is now .texture.repeat.\");\n    return this.texture.repeat;\n  }\n  set repeat(value: Vector2) {\n    console.warn(\"THREE.WebGLRenderTarget .repeat is now .texture.repeat.\");\n    this.texture.repeat = value;\n  }\n  get format(): number {\n    console.warn(\"THREE.WebGLRenderTarget .format is now .texture.format.\");\n    return this.texture.format;\n  }\n  set format(value: number) {\n    console.warn(\"THREE.WebGLRenderTarget .format is now .texture.format.\");\n    this.texture.format = value;\n  }\n  get type(): number {\n    console.warn(\"THREE.WebGLRenderTarget .type is now .texture.type.\");\n    return this.texture.type;\n  }\n  set type(value: number) {\n    console.warn(\"THREE.WebGLRenderTarget .type is now .texture.type.\");\n    this.texture.type = value;\n  }\n  get generateMipmaps(): boolean {\n    console.warn(\"THREE.WebGLRenderTarget .generateMipmaps is now .texture.generateMipmaps.\");\n    return this.texture.generateMipmaps;\n  }\n  set generateMipmaps(value: boolean) {\n    console.warn(\"THREE.WebGLRenderTarget .generateMipmaps is now .texture.generateMipmaps.\");\n    this.texture.generateMipmaps = value;\n  }\n}\n","/**\n * @author alteredq / http://alteredqualia.com\n */\nimport { WebGLRenderTarget } from \"./WebGLRenderTarget\";\nexport class WebGLRenderTargetCube extends WebGLRenderTarget {\n  activeCubeFace: number = 0; // PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5\n  activeMipMapLevel: number = 0;\n  readonly isWebGLRenderTargetCube: boolean = true;\n  constructor(width: number, height: number, options?: any) {\n    super(width, height, options);\n  }\n}\n","import { Vector3 } from \"./Vector3\";\nimport { Matrix4 } from \"./Matrix4\";\nimport { Euler } from \"./Euler\";\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\nexport class Quaternion {\n  _x: number;\n  _y: number;\n  _z: number;\n  _w: number;\n  onChangeCallback: () => void = function(): void {};\n  constructor(x: number = 0, y: number = 0, z: number = 0, w: number = 1) {\n    this._x = x;\n    this._y = y;\n    this._z = z;\n    this._w = w;\n  }\n  get x(): number { return this._x; }\n  set x(value: number) { this._x = value; this.onChangeCallback(); }\n  get y(): number { return this._y; }\n  set y(value: number) { this._y = value; this.onChangeCallback(); }\n  get z(): number { return this._z; }\n  set z(value: number) { this._z = value; this.onChangeCallback(); }\n  get w(): number { return this._w; }\n  set w(value: number) { this._w = value; this.onChangeCallback(); }\n  set(x: number, y: number, z: number, w: number): Quaternion {\n    this._x = x;\n    this._y = y;\n    this._z = z;\n    this._w = w;\n    this.onChangeCallback();\n    return this;\n  }\n  clone(): Quaternion {\n    return new (this.constructor as any)(this._x, this._y, this._z, this._w);\n  }\n  copy(quaternion: Quaternion): Quaternion {\n    this._x = quaternion.x;\n    this._y = quaternion.y;\n    this._z = quaternion.z;\n    this._w = quaternion.w;\n    this.onChangeCallback();\n    return this;\n  }\n  setFromEuler(euler: Euler, update: boolean = true): Quaternion {\n    // http://www.mathworks.com/matlabcentral/fileexchange/\n    //   20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n    //  content/SpinCalc.m\n    const c1 = Math.cos(euler._x / 2);\n    const c2 = Math.cos(euler._y / 2);\n    const c3 = Math.cos(euler._z / 2);\n    const s1 = Math.sin(euler._x / 2);\n    const s2 = Math.sin(euler._y / 2);\n    const s3 = Math.sin(euler._z / 2);\n    const order = euler.order;\n    if (order === 'XYZ') {\n      this._x = s1 * c2 * c3 + c1 * s2 * s3;\n      this._y = c1 * s2 * c3 - s1 * c2 * s3;\n      this._z = c1 * c2 * s3 + s1 * s2 * c3;\n      this._w = c1 * c2 * c3 - s1 * s2 * s3;\n    } else if (order === 'YXZ') {\n      this._x = s1 * c2 * c3 + c1 * s2 * s3;\n      this._y = c1 * s2 * c3 - s1 * c2 * s3;\n      this._z = c1 * c2 * s3 - s1 * s2 * c3;\n      this._w = c1 * c2 * c3 + s1 * s2 * s3;\n    } else if (order === 'ZXY') {\n      this._x = s1 * c2 * c3 - c1 * s2 * s3;\n      this._y = c1 * s2 * c3 + s1 * c2 * s3;\n      this._z = c1 * c2 * s3 + s1 * s2 * c3;\n      this._w = c1 * c2 * c3 - s1 * s2 * s3;\n    } else if (order === 'ZYX') {\n      this._x = s1 * c2 * c3 - c1 * s2 * s3;\n      this._y = c1 * s2 * c3 + s1 * c2 * s3;\n      this._z = c1 * c2 * s3 - s1 * s2 * c3;\n      this._w = c1 * c2 * c3 + s1 * s2 * s3;\n    } else if (order === 'YZX') {\n      this._x = s1 * c2 * c3 + c1 * s2 * s3;\n      this._y = c1 * s2 * c3 + s1 * c2 * s3;\n      this._z = c1 * c2 * s3 - s1 * s2 * c3;\n      this._w = c1 * c2 * c3 - s1 * s2 * s3;\n    } else if (order === 'XZY') {\n      this._x = s1 * c2 * c3 - c1 * s2 * s3;\n      this._y = c1 * s2 * c3 - s1 * c2 * s3;\n      this._z = c1 * c2 * s3 + s1 * s2 * c3;\n      this._w = c1 * c2 * c3 + s1 * s2 * s3;\n    }\n    if (update !== false) this.onChangeCallback();\n    return this;\n  }\n  setFromAxisAngle(axis: Vector3, angle: number): Quaternion {\n    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n    // assumes axis is normalized\n    const halfAngle = angle / 2, s = Math.sin(halfAngle);\n    this._x = axis.x * s;\n    this._y = axis.y * s;\n    this._z = axis.z * s;\n    this._w = Math.cos(halfAngle);\n    this.onChangeCallback();\n    return this;\n  }\n  setFromRotationMatrix(m: Matrix4): Quaternion {\n    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n    const te: Float32Array = m.elements,\n      m11 = te[0], m12 = te[4], m13 = te[8],\n      m21 = te[1], m22 = te[5], m23 = te[9],\n      m31 = te[2], m32 = te[6], m33 = te[10],\n      trace = m11 + m22 + m33;\n    let s;\n    if (trace > 0) {\n      s = 0.5 / Math.sqrt(trace + 1.0);\n      this._w = 0.25 / s;\n      this._x = (m32 - m23) * s;\n      this._y = (m13 - m31) * s;\n      this._z = (m21 - m12) * s;\n    } else if (m11 > m22 && m11 > m33) {\n      s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);\n      this._w = (m32 - m23) / s;\n      this._x = 0.25 * s;\n      this._y = (m12 + m21) / s;\n      this._z = (m13 + m31) / s;\n    } else if (m22 > m33) {\n      s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);\n      this._w = (m13 - m31) / s;\n      this._x = (m12 + m21) / s;\n      this._y = 0.25 * s;\n      this._z = (m23 + m32) / s;\n    } else {\n      s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);\n      this._w = (m21 - m12) / s;\n      this._x = (m13 + m31) / s;\n      this._y = (m23 + m32) / s;\n      this._z = 0.25 * s;\n    }\n    this.onChangeCallback();\n    return this;\n  }\n  private static _setFromUnitVectors_v1: Vector3;\n  setFromUnitVectors(vFrom: Vector3, vTo: Vector3): Quaternion {\n    // http://lolengine.net/blog/2014/02/24/quaternion-from-two-vectors-final\n    // assumes direction vectors vFrom and vTo are normalized\n    const v1 = Quaternion._setFromUnitVectors_v1 = (Quaternion._setFromUnitVectors_v1 || new Vector3());\n    const EPS = 0.000001;\n    let r = vFrom.dot(vTo) + 1;\n    if (r < EPS) {\n      r = 0;\n      if (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {\n        v1.set(- vFrom.y, vFrom.x, 0);\n      } else {\n        v1.set(0, - vFrom.z, vFrom.y);\n      }\n    } else {\n      v1.crossVectors(vFrom, vTo);\n    }\n    this._x = v1.x;\n    this._y = v1.y;\n    this._z = v1.z;\n    this._w = r;\n    return this.normalize();\n  }\n  inverse(): Quaternion {\n    return this.conjugate().normalize();\n  }\n  conjugate(): Quaternion {\n    this._x *= - 1;\n    this._y *= - 1;\n    this._z *= - 1;\n    this.onChangeCallback();\n    return this;\n  }\n  dot(v: Quaternion): number {\n    return this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n  }\n  lengthSq(): number {\n    return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n  }\n  length(): number {\n    return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);\n  }\n  normalize(): Quaternion {\n    let l = this.length();\n    if (l === 0) {\n      this._x = 0;\n      this._y = 0;\n      this._z = 0;\n      this._w = 1;\n    } else {\n      l = 1 / l;\n      this._x = this._x * l;\n      this._y = this._y * l;\n      this._z = this._z * l;\n      this._w = this._w * l;\n    }\n    this.onChangeCallback();\n    return this;\n  }\n  multiply(q: Quaternion, p?: Quaternion): Quaternion {\n    if (p !== undefined) {\n      console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions(a, b) instead.');\n      return this.multiplyQuaternions(q, p);\n    }\n    return this.multiplyQuaternions(this, q);\n  }\n  premultiply(q: Quaternion): Quaternion {\n    return this.multiplyQuaternions(q, this);\n  }\n  multiplyQuaternions(a: Quaternion, b: Quaternion): Quaternion {\n    // from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n    const qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n    const qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n    this._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n    this._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n    this._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n    this._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n    this.onChangeCallback();\n    return this;\n  }\n  slerp(qb: Quaternion, t: number): Quaternion {\n    if (t === 0) return this;\n    if (t === 1) return this.copy(qb);\n    const x = this._x, y = this._y, z = this._z, w = this._w;\n    // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n    let cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n    if (cosHalfTheta < 0) {\n      this._w = - qb._w;\n      this._x = - qb._x;\n      this._y = - qb._y;\n      this._z = - qb._z;\n      cosHalfTheta = - cosHalfTheta;\n    } else {\n      this.copy(qb);\n    }\n    if (cosHalfTheta >= 1.0) {\n      this._w = w;\n      this._x = x;\n      this._y = y;\n      this._z = z;\n      return this;\n    }\n    const sinHalfTheta = Math.sqrt(1.0 - cosHalfTheta * cosHalfTheta);\n    if (Math.abs(sinHalfTheta) < 0.001) {\n      this._w = 0.5 * (w + this._w);\n      this._x = 0.5 * (x + this._x);\n      this._y = 0.5 * (y + this._y);\n      this._z = 0.5 * (z + this._z);\n      return this;\n    }\n    const halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);\n    const ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,\n    ratioB = Math.sin(t * halfTheta) / sinHalfTheta;\n    this._w = (w * ratioA + this._w * ratioB);\n    this._x = (x * ratioA + this._x * ratioB);\n    this._y = (y * ratioA + this._y * ratioB);\n    this._z = (z * ratioA + this._z * ratioB);\n    this.onChangeCallback();\n    return this;\n  }\n  equals(quaternion: Quaternion): boolean {\n    return (quaternion._x === this._x) && (quaternion._y === this._y) && (quaternion._z === this._z) && (quaternion._w === this._w);\n  }\n  fromArray(array: Float32Array | number[], offset: number = 0): Quaternion {\n    this._x = array[offset];\n    this._y = array[offset + 1];\n    this._z = array[offset + 2];\n    this._w = array[offset + 3];\n    this.onChangeCallback();\n    return this;\n  }\n  toArray(array: Float32Array | number[] = [], offset: number = 0): Float32Array | number[] {\n    array[offset] = this._x;\n    array[offset + 1] = this._y;\n    array[offset + 2] = this._z;\n    array[offset + 3] = this._w;\n    return array;\n  }\n  onChange(callback: () => void): Quaternion {\n    this.onChangeCallback = callback;\n    return this;\n  }\n  static slerp(qa: Quaternion, qb: Quaternion, qm: Quaternion, t: number): Quaternion {\n    return qm.copy(qa).slerp(qb, t);\n  }\n  static slerpFlat(dst: number[] | Float32Array | Float64Array, dstOffset: number, src0: number[] | Float32Array | Float64Array, srcOffset0: number, src1: number[] | Float32Array | Float64Array, srcOffset1: number, t: number): void {\n    // fuzz-free, array-based Quaternion SLERP operation\n    let x0 = src0[srcOffset0 + 0],\n      y0 = src0[srcOffset0 + 1],\n      z0 = src0[srcOffset0 + 2],\n      w0 = src0[srcOffset0 + 3];\n    const x1 = src1[srcOffset1 + 0],\n      y1 = src1[srcOffset1 + 1],\n      z1 = src1[srcOffset1 + 2],\n      w1 = src1[srcOffset1 + 3];\n    if (w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1) {\n      let s = 1 - t,\n        cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n        dir = (cos >= 0 ? 1 : - 1),\n        sqrSin = 1 - cos * cos;\n      // Skip the Slerp for tiny steps to avoid numeric problems:\n      if (sqrSin > Number.EPSILON) {\n        const sin = Math.sqrt(sqrSin),\n          len = Math.atan2(sin, cos * dir);\n        s = Math.sin(s * len) / sin;\n        t = Math.sin(t * len) / sin;\n      }\n      const tDir = t * dir;\n      x0 = x0 * s + x1 * tDir;\n      y0 = y0 * s + y1 * tDir;\n      z0 = z0 * s + z1 * tDir;\n      w0 = w0 * s + w1 * tDir;\n      // Normalize in case we just did a lerp:\n      if (s === 1 - t) {\n        const f = 1 / Math.sqrt(x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0);\n        x0 *= f;\n        y0 *= f;\n        z0 *= f;\n        w0 *= f;\n      }\n    }\n    dst[dstOffset] = x0;\n    dst[dstOffset + 1] = y0;\n    dst[dstOffset + 2] = z0;\n    dst[dstOffset + 3] = w0;\n  }\n  multiplyVector3(vector: Vector3): Vector3 {\n    console.warn(\"THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion(quaternion) instead.\");\n    return vector.applyQuaternion(this);\n  }\n}\n","import { _Math } from \"./Math\";\nimport { Vector2 } from \"./Vector2\";\nimport { Matrix3 } from \"./Matrix3\";\nimport { Matrix4 } from \"./Matrix4\";\nimport { Quaternion } from \"./Quaternion\";\nimport { Euler } from \"./Euler\";\nimport { Spherical } from \"./Spherical\";\nimport { Camera } from \"../cameras/Camera\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author *kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\nexport class Vector3 {\n  x: number;\n  y: number;\n  z: number;\n  index: number; // PolyhedronGeometry\n  uv: Vector2;\n  readonly isVector3: boolean = true;\n  constructor(x: number = 0, y: number = 0, z: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n  set(x: number, y: number, z: number): Vector3 {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    return this;\n  }\n  setScalar(scalar: number): Vector3 {\n    this.x = scalar;\n    this.y = scalar;\n    this.z = scalar;\n    return this;\n  }\n  setX(x: number): Vector3 {\n    this.x = x;\n    return this;\n  }\n  setY(y: number): Vector3 {\n    this.y = y;\n    return this;\n  }\n  setZ(z: number): Vector3 {\n    this.z = z;\n    return this;\n  }\n  setComponent(index: number, value: number): Vector3 {\n    switch (index) {\n      case 0: this.x = value; break;\n      case 1: this.y = value; break;\n      case 2: this.z = value; break;\n      default: throw new Error('index is out of range: ' + index);\n    }\n    return this;\n  }\n  getComponent(index: number): number {\n    switch (index) {\n      case 0: return this.x;\n      case 1: return this.y;\n      case 2: return this.z;\n      default: throw new Error('index is out of range: ' + index);\n    }\n  }\n  clone(): Vector3 {\n    return new (this.constructor as any)(this.x, this.y, this.z);\n  }\n  copy(v: Vector3): Vector3 {\n    this.x = v.x;\n    this.y = v.y;\n    this.z = v.z;\n    return this;\n  }\n  add(v: Vector3, w?: Vector3) {\n    if (w !== undefined) {\n      console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors(a, b) instead.');\n      return this.addVectors(v, w);\n    }\n    this.x += v.x;\n    this.y += v.y;\n    this.z += v.z;\n    return this;\n  }\n  addScalar(s: number): Vector3 {\n    this.x += s;\n    this.y += s;\n    this.z += s;\n    return this;\n  }\n  addVectors(a: Vector3, b: Vector3): Vector3 {\n    this.x = a.x + b.x;\n    this.y = a.y + b.y;\n    this.z = a.z + b.z;\n    return this;\n  }\n  addScaledVector(v: Vector3, s: number): Vector3 {\n    this.x += v.x * s;\n    this.y += v.y * s;\n    this.z += v.z * s;\n    return this;\n  }\n  sub(v: Vector3, w?: Vector3): Vector3 {\n    if (w !== undefined) {\n      console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors(a, b) instead.');\n      return this.subVectors(v, w);\n    }\n    this.x -= v.x;\n    this.y -= v.y;\n    this.z -= v.z;\n    return this;\n  }\n  subScalar(s: number): Vector3 {\n    this.x -= s;\n    this.y -= s;\n    this.z -= s;\n    return this;\n  }\n  subVectors(a: Vector3, b: Vector3): Vector3 {\n    this.x = a.x - b.x;\n    this.y = a.y - b.y;\n    this.z = a.z - b.z;\n    return this;\n  }\n  multiply(v: Vector3, w?: Vector3): Vector3 {\n    if (w !== undefined) {\n      console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors(a, b) instead.');\n      return this.multiplyVectors(v, w);\n    }\n    this.x *= v.x;\n    this.y *= v.y;\n    this.z *= v.z;\n    return this;\n  }\n  multiplyScalar(scalar: number): Vector3 {\n    if (isFinite(scalar)) {\n      this.x *= scalar;\n      this.y *= scalar;\n      this.z *= scalar;\n    } else {\n      this.x = 0;\n      this.y = 0;\n      this.z = 0;\n    }\n    return this;\n  }\n  multiplyVectors(a: Vector3, b: Vector3): Vector3 {\n    this.x = a.x * b.x;\n    this.y = a.y * b.y;\n    this.z = a.z * b.z;\n    return this;\n  }\n  private static _applyEuler_quaternion = new Quaternion();\n  applyEuler(euler: Euler): Vector3 {\n    const quaternion = Vector3._applyEuler_quaternion;\n    return this.applyQuaternion(quaternion.setFromEuler(euler));\n  }\n  private static _applyAxisAngle_quaternion = new Quaternion();\n  applyAxisAngle(axis: Vector3, angle: number): Vector3 {\n    const quaternion = Vector3._applyAxisAngle_quaternion;\n    return this.applyQuaternion(quaternion.setFromAxisAngle(axis, angle));\n  }\n  applyMatrix3(m: Matrix3): Vector3 {\n    const x = this.x, y = this.y, z = this.z;\n    const e: Float32Array = m.elements;\n    this.x = e[0] * x + e[3] * y + e[6] * z;\n    this.y = e[1] * x + e[4] * y + e[7] * z;\n    this.z = e[2] * x + e[5] * y + e[8] * z;\n    return this;\n  }\n  applyMatrix4(m: Matrix4): Vector3 {\n    // input: THREE.Matrix4 affine matrix\n    const x = this.x, y = this.y, z = this.z;\n    const e: Float32Array = m.elements;\n    this.x = e[0] * x + e[4] * y + e[8]  * z + e[12];\n    this.y = e[1] * x + e[5] * y + e[9]  * z + e[13];\n    this.z = e[2] * x + e[6] * y + e[10] * z + e[14];\n    return this;\n  }\n  applyProjection(m: Matrix4): Vector3 {\n    // input: THREE.Matrix4 projection matrix\n    const x = this.x, y = this.y, z = this.z;\n    const e: Float32Array = m.elements;\n    const d = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]); // perspective divide\n    this.x = (e[0] * x + e[4] * y + e[8]  * z + e[12]) * d;\n    this.y = (e[1] * x + e[5] * y + e[9]  * z + e[13]) * d;\n    this.z = (e[2] * x + e[6] * y + e[10] * z + e[14]) * d;\n    return this;\n  }\n  applyQuaternion(q: Quaternion): Vector3 {\n    const x = this.x, y = this.y, z = this.z;\n    const qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n    // calculate quat * vector\n    const ix =  qw * x + qy * z - qz * y;\n    const iy =  qw * y + qz * x - qx * z;\n    const iz =  qw * z + qx * y - qy * x;\n    const iw = - qx * x - qy * y - qz * z;\n    // calculate result * inverse quat\n    this.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n    this.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n    this.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n    return this;\n  }\n  private static _project_matrix: Matrix4;\n  project(camera: Camera): Vector3 {\n    const matrix = Vector3._project_matrix = (Vector3._project_matrix || new Matrix4());\n    matrix.multiplyMatrices(camera.projectionMatrix, matrix.getInverse(camera.matrixWorld));\n    return this.applyProjection(matrix);\n  }\n  private static _unproject_matrix: Matrix4;\n  unproject(camera: Camera): Vector3 {\n    const matrix = Vector3._unproject_matrix = (Vector3._unproject_matrix || new Matrix4());\n    matrix.multiplyMatrices(camera.matrixWorld, matrix.getInverse(camera.projectionMatrix));\n    return this.applyProjection(matrix);\n  }\n  transformDirection(m: Matrix4): Vector3 {\n    // input: THREE.Matrix4 affine matrix\n    // vector interpreted as a direction\n    const x = this.x, y = this.y, z = this.z;\n    const e: Float32Array = m.elements;\n    this.x = e[0] * x + e[4] * y + e[8]  * z;\n    this.y = e[1] * x + e[5] * y + e[9]  * z;\n    this.z = e[2] * x + e[6] * y + e[10] * z;\n    return this.normalize();\n  }\n  divide(v: Vector3): Vector3 {\n    this.x /= v.x;\n    this.y /= v.y;\n    this.z /= v.z;\n    return this;\n  }\n  divideScalar(scalar: number): Vector3 {\n    return this.multiplyScalar(1 / scalar);\n  }\n  min(v: Vector3): Vector3 {\n    this.x = Math.min(this.x, v.x);\n    this.y = Math.min(this.y, v.y);\n    this.z = Math.min(this.z, v.z);\n    return this;\n  }\n  max(v: Vector3): Vector3 {\n    this.x = Math.max(this.x, v.x);\n    this.y = Math.max(this.y, v.y);\n    this.z = Math.max(this.z, v.z);\n    return this;\n  }\n  clamp(min: Vector3, max: Vector3): Vector3 {\n    // This function assumes min < max, if this assumption isn't true it will not operate correctly\n    this.x = Math.max(min.x, Math.min(max.x, this.x));\n    this.y = Math.max(min.y, Math.min(max.y, this.y));\n    this.z = Math.max(min.z, Math.min(max.z, this.z));\n    return this;\n  }\n  private static _clampScalar_min = new Vector3();\n  private static _clampScalar_max = new Vector3();\n  clampScalar(minVal: number, maxVal: number): Vector3 {\n    const min = Vector3._clampScalar_min, max = Vector3._clampScalar_max;\n    min.set(minVal, minVal, minVal);\n    max.set(maxVal, maxVal, maxVal);\n    return this.clamp(min, max);\n  }\n  clampLength(min: number, max: number): Vector3 {\n    const length = this.length();\n    return this.multiplyScalar(Math.max(min, Math.min(max, length)) / length);\n  }\n  floor(): Vector3 {\n    this.x = Math.floor(this.x);\n    this.y = Math.floor(this.y);\n    this.z = Math.floor(this.z);\n    return this;\n  }\n  ceil(): Vector3 {\n    this.x = Math.ceil(this.x);\n    this.y = Math.ceil(this.y);\n    this.z = Math.ceil(this.z);\n    return this;\n  }\n  round(): Vector3 {\n    this.x = Math.round(this.x);\n    this.y = Math.round(this.y);\n    this.z = Math.round(this.z);\n    return this;\n  }\n  roundToZero(): Vector3 {\n    this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\n    this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\n    this.z = (this.z < 0) ? Math.ceil(this.z) : Math.floor(this.z);\n    return this;\n  }\n  negate(): Vector3 {\n    this.x = - this.x;\n    this.y = - this.y;\n    this.z = - this.z;\n    return this;\n  }\n  dot(v: Vector3): number {\n    return this.x * v.x + this.y * v.y + this.z * v.z;\n  }\n  lengthSq(): number {\n    return this.x * this.x + this.y * this.y + this.z * this.z;\n  }\n  length(): number {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n  }\n  lengthManhattan(): number {\n    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\n  }\n  normalize(): Vector3 {\n    return this.divideScalar(this.length());\n  }\n  setLength(length: number): Vector3 {\n    return this.multiplyScalar(length / this.length());\n  }\n  lerp(v: Vector3, alpha: number): Vector3 {\n    this.x += (v.x - this.x) * alpha;\n    this.y += (v.y - this.y) * alpha;\n    this.z += (v.z - this.z) * alpha;\n    return this;\n  }\n  lerpVectors(v1: Vector3, v2: Vector3, alpha: number): Vector3 {\n    return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n  }\n  cross(v: Vector3, w?: Vector3): Vector3 {\n    if (w !== undefined) {\n      console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors(a, b) instead.');\n      return this.crossVectors(v, w);\n    }\n    const x = this.x, y = this.y, z = this.z;\n    this.x = y * v.z - z * v.y;\n    this.y = z * v.x - x * v.z;\n    this.z = x * v.y - y * v.x;\n    return this;\n  }\n  crossVectors(a: Vector3, b: Vector3): Vector3 {\n    const ax = a.x, ay = a.y, az = a.z;\n    const bx = b.x, by = b.y, bz = b.z;\n    this.x = ay * bz - az * by;\n    this.y = az * bx - ax * bz;\n    this.z = ax * by - ay * bx;\n    return this;\n  }\n  projectOnVector(vector: Vector3): Vector3 {\n    const scalar = vector.dot(this) / vector.lengthSq();\n    return this.copy(vector).multiplyScalar(scalar);\n  }\n  private static _projectOnPlane_v1 = new Vector3();\n  projectOnPlane(planeNormal: Vector3): Vector3 {\n    const v1 = Vector3._projectOnPlane_v1;\n    v1.copy(this).projectOnVector(planeNormal);\n    return this.sub(v1);\n  }\n  private static _reflect_v1 = new Vector3();\n  reflect(normal: Vector3): Vector3 {\n    // reflect incident vector off plane orthogonal to normal\n    // normal is assumed to have unit length\n    const v1 = Vector3._reflect_v1;\n    return this.sub(v1.copy(normal).multiplyScalar(2 * this.dot(normal)));\n  }\n  angleTo(v: Vector3): number {\n    const theta = this.dot(v) / (Math.sqrt(this.lengthSq() * v.lengthSq()));\n    // clamp, to handle numerical problems\n    return Math.acos(_Math.clamp(theta, - 1, 1));\n  }\n  distanceTo(v: Vector3): number {\n    return Math.sqrt(this.distanceToSquared(v));\n  }\n  distanceToSquared(v: Vector3): number {\n    const dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n    return dx * dx + dy * dy + dz * dz;\n  }\n  distanceToManhattan(v: Vector3): number {\n    return Math.abs(this.x - v.x) + Math.abs(this.y - v.y) + Math.abs(this.z - v.z);\n  }\n  setFromSpherical(s: Spherical): Vector3 {\n    const sinPhiRadius = Math.sin(s.phi) * s.radius;\n    this.x = sinPhiRadius * Math.sin(s.theta);\n    this.y = Math.cos(s.phi) * s.radius;\n    this.z = sinPhiRadius * Math.cos(s.theta);\n    return this;\n  }\n  setFromMatrixPosition(m: Matrix4): Vector3 {\n    return this.setFromMatrixColumn(m, 3);\n  }\n  setFromMatrixScale(m: Matrix4): Vector3 {\n    const sx = this.setFromMatrixColumn(m, 0).length();\n    const sy = this.setFromMatrixColumn(m, 1).length();\n    const sz = this.setFromMatrixColumn(m, 2).length();\n    this.x = sx;\n    this.y = sy;\n    this.z = sz;\n    return this;\n  }\n  setFromMatrixColumn(m: Matrix4, index: number): Vector3 {\n    //if (typeof m === 'number') {\n    //  console.warn('THREE.Vector3: setFromMatrixColumn now expects (matrix, index).');\n    //  const temp = m;\n    //  m = index;\n    //  index = temp;\n    //}\n    return this.fromArray(m.elements, index * 4);\n  }\n  equals(v: Vector3): boolean {\n    return ((v.x === this.x) && (v.y === this.y) && (v.z === this.z));\n  }\n  fromArray(array: Float32Array | number[], offset: number = 0): Vector3 {\n    this.x = array[offset];\n    this.y = array[offset + 1];\n    this.z = array[offset + 2];\n    return this;\n  }\n  toArray(array: Float32Array | number[] = [], offset: number = 0): Float32Array | number[] {\n    array[offset] = this.x;\n    array[offset + 1] = this.y;\n    array[offset + 2] = this.z;\n    return array;\n  }\n  fromAttribute(attribute: any, index: number, offset: number = 0): Vector3 {\n    index = index * attribute.itemSize + offset;\n    this.x = attribute.array[index];\n    this.y = attribute.array[index + 1];\n    this.z = attribute.array[index + 2];\n    return this;\n  }\n  setEulerFromRotationMatrix(): void {\n    console.error(\"THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.\");\n  }\n  setEulerFromQuaternion(): void {\n    console.error(\"THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.\");\n  }\n  getPositionFromMatrix(m: Matrix4): Vector3 {\n    console.warn(\"THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().\");\n    return this.setFromMatrixPosition(m);\n  }\n  getScaleFromMatrix(m: Matrix4): Vector3 {\n    console.warn(\"THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().\");\n    return this.setFromMatrixScale(m);\n  }\n  getColumnFromMatrix(index: number, matrix: Matrix4): Vector3 {\n    console.warn(\"THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().\");\n    return this.setFromMatrixColumn(matrix, index);\n  }\n}\n","import { Quaternion } from \"./Quaternion\";\nimport { Vector3 } from \"./Vector3\";\nimport { Matrix4 } from \"./Matrix4\";\nimport { _Math } from \"./Math\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\nexport class Euler {\n  _x: number;\n  _y: number;\n  _z: number;\n  _order: string = Euler.DefaultOrder;\n  onChangeCallback: () => void = function(): void {};\n  readonly isEuler: boolean = true;\n  static DefaultOrder: string = 'XYZ';\n  static RotationOrders: string[] = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n  constructor(x: number = 0, y: number = 0, z: number = 0, order: string = Euler.DefaultOrder) {\n    this._x = x;\n    this._y = y;\n    this._z = z;\n    this._order = order;\n  }\n  get x(): number {\n    return this._x;\n  }\n  set x(value: number) {\n    this._x = value;\n    this.onChangeCallback();\n  }\n  get y(): number {\n    return this._y;\n  }\n  set y(value: number) {\n    this._y = value;\n    this.onChangeCallback();\n  }\n  get z(): number {\n    return this._z;\n  }\n  set z(value: number) {\n    this._z = value;\n    this.onChangeCallback();\n  }\n  get order(): string {\n    return this._order;\n  }\n  set order(value: string) {\n    this._order = value;\n    this.onChangeCallback();\n  }\n  set(x: number, y: number, z: number, order: string = this._order): Euler {\n    this._x = x;\n    this._y = y;\n    this._z = z;\n    this._order = order;\n    this.onChangeCallback();\n    return this;\n  }\n  clone(): Euler {\n    return new (this.constructor as any)(this._x, this._y, this._z, this._order);\n  }\n  copy(euler: Euler): Euler {\n    this._x = euler._x;\n    this._y = euler._y;\n    this._z = euler._z;\n    this._order = euler._order;\n    this.onChangeCallback();\n    return this;\n  }\n  setFromRotationMatrix(m: Matrix4, order: string = this._order, update: boolean = true): Euler {\n    const clamp = _Math.clamp;\n    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n    const te: Float32Array = m.elements;\n    const m11 = te[0], m12 = te[4], m13 = te[8];\n    const m21 = te[1], m22 = te[5], m23 = te[9];\n    const m31 = te[2], m32 = te[6], m33 = te[10];\n    if (order === 'XYZ') {\n      this._y = Math.asin(clamp(m13, - 1, 1));\n      if (Math.abs(m13) < 0.99999) {\n        this._x = Math.atan2(- m23, m33);\n        this._z = Math.atan2(- m12, m11);\n      } else {\n        this._x = Math.atan2(m32, m22);\n        this._z = 0;\n      }\n    } else if (order === 'YXZ') {\n      this._x = Math.asin(- clamp(m23, - 1, 1));\n      if (Math.abs(m23) < 0.99999) {\n        this._y = Math.atan2(m13, m33);\n        this._z = Math.atan2(m21, m22);\n      } else {\n        this._y = Math.atan2(- m31, m11);\n        this._z = 0;\n      }\n    } else if (order === 'ZXY') {\n      this._x = Math.asin(clamp(m32, - 1, 1));\n      if (Math.abs(m32) < 0.99999) {\n        this._y = Math.atan2(- m31, m33);\n        this._z = Math.atan2(- m12, m22);\n      } else {\n        this._y = 0;\n        this._z = Math.atan2(m21, m11);\n      }\n    } else if (order === 'ZYX') {\n      this._y = Math.asin(- clamp(m31, - 1, 1));\n      if (Math.abs(m31) < 0.99999) {\n        this._x = Math.atan2(m32, m33);\n        this._z = Math.atan2(m21, m11);\n      } else {\n        this._x = 0;\n        this._z = Math.atan2(- m12, m22);\n      }\n    } else if (order === 'YZX') {\n      this._z = Math.asin(clamp(m21, - 1, 1));\n      if (Math.abs(m21) < 0.99999) {\n        this._x = Math.atan2(- m23, m22);\n        this._y = Math.atan2(- m31, m11);\n      } else {\n        this._x = 0;\n        this._y = Math.atan2(m13, m33);\n      }\n    } else if (order === 'XZY') {\n      this._z = Math.asin(- clamp(m12, - 1, 1));\n      if (Math.abs(m12) < 0.99999) {\n        this._x = Math.atan2(m32, m22);\n        this._y = Math.atan2(m13, m11);\n      } else {\n        this._x = Math.atan2(- m23, m33);\n        this._y = 0;\n      }\n    } else {\n      console.warn('THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order);\n    }\n    this._order = order;\n    if (update !== false) this.onChangeCallback();\n    return this;\n  }\n  private static _setFromQuaternion_matrix: Matrix4;\n  setFromQuaternion(q: Quaternion, order: string, update: boolean = false): Euler {\n    const matrix = Euler._setFromQuaternion_matrix || (Euler._setFromQuaternion_matrix = new Matrix4());\n    matrix.makeRotationFromQuaternion(q);\n    return this.setFromRotationMatrix(matrix, order, update);\n  }\n  setFromVector3(v: Vector3, order: string = this._order): Euler {\n    return this.set(v.x, v.y, v.z, order);\n  }\n  private static _reorder_q: Quaternion;\n  reorder(newOrder: string): Euler {\n    // WARNING: this discards revolution information -bhouston\n    const q = Euler._reorder_q || (Euler._reorder_q = new Quaternion());\n    q.setFromEuler(this);\n    return this.setFromQuaternion(q, newOrder);\n  }\n  equals(euler: Euler): boolean {\n    return (euler._x === this._x) && (euler._y === this._y) && (euler._z === this._z) && (euler._order === this._order);\n  }\n  fromArray(array: any[]): Euler {\n    this._x = array[0];\n    this._y = array[1];\n    this._z = array[2];\n    if (array[3] !== undefined) this._order = array[3];\n    this.onChangeCallback();\n    return this;\n  }\n  toArray(array: any[] = [], offset: number = 0): any[] {\n    array[offset] = this._x;\n    array[offset + 1] = this._y;\n    array[offset + 2] = this._z;\n    array[offset + 3] = this._order;\n    return array;\n  }\n  toVector3(result: Vector3 = new Vector3()): Vector3 {\n    return result.set(this._x, this._y, this._z);\n  }\n  onChange(callback: () => void): Euler {\n    this.onChangeCallback = callback;\n    return this;\n  }\n}\n","import { _Math } from \"./Math\";\nimport { Vector3 } from \"./Vector3\";\nimport { Vector4 } from \"./Vector4\";\nimport { Euler } from \"./Euler\";\nimport { Quaternion } from \"./Quaternion\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\nexport class Matrix4 {\n  elements: Float32Array;\n  readonly isMatrix4: boolean = true;\n  constructor() {\n    this.elements = new Float32Array([\n      1, 0, 0, 0,\n      0, 1, 0, 0,\n      0, 0, 1, 0,\n      0, 0, 0, 1\n    ]);\n    if (arguments.length > 0) {\n      console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');\n    }\n  }\n  set(n11: number, n12: number, n13: number, n14: number, n21: number, n22: number, n23: number, n24: number, n31: number, n32: number, n33: number, n34: number, n41: number, n42: number, n43: number, n44: number): Matrix4 {\n    const te: Float32Array = this.elements;\n    te[0] = n11; te[4] = n12; te[8] = n13; te[12] = n14;\n    te[1] = n21; te[5] = n22; te[9] = n23; te[13] = n24;\n    te[2] = n31; te[6] = n32; te[10] = n33; te[14] = n34;\n    te[3] = n41; te[7] = n42; te[11] = n43; te[15] = n44;\n    return this;\n  }\n  identity(): Matrix4 {\n    this.set(\n      1, 0, 0, 0,\n      0, 1, 0, 0,\n      0, 0, 1, 0,\n      0, 0, 0, 1\n    );\n    return this;\n  }\n  clone(): Matrix4 {\n    return new (this.constructor as any)().fromArray(this.elements);\n  }\n  copy(m: Matrix4): Matrix4 {\n    this.elements.set(m.elements);\n    return this;\n  }\n  copyPosition(m: Matrix4): Matrix4 {\n    const te: Float32Array = this.elements;\n    const me: Float32Array = m.elements;\n    te[12] = me[12];\n    te[13] = me[13];\n    te[14] = me[14];\n    return this;\n  }\n  extractBasis(xAxis: Vector3, yAxis: Vector3, zAxis: Vector3): Matrix4 {\n    xAxis.setFromMatrixColumn(this, 0);\n    yAxis.setFromMatrixColumn(this, 1);\n    zAxis.setFromMatrixColumn(this, 2);\n    return this;\n  }\n  makeBasis(xAxis: Vector3, yAxis: Vector3, zAxis: Vector3): Matrix4 {\n    this.set(\n      xAxis.x, yAxis.x, zAxis.x, 0,\n      xAxis.y, yAxis.y, zAxis.y, 0,\n      xAxis.z, yAxis.z, zAxis.z, 0,\n      0,       0,       0,       1\n    );\n    return this;\n  }\n  private static _extractRotation_v1 = new Vector3();\n  extractRotation(m: Matrix4): Matrix4 {\n    const v1 = Matrix4._extractRotation_v1;\n    const te: Float32Array = this.elements;\n    const me: Float32Array = m.elements;\n    const scaleX = 1 / v1.setFromMatrixColumn(m, 0).length();\n    const scaleY = 1 / v1.setFromMatrixColumn(m, 1).length();\n    const scaleZ = 1 / v1.setFromMatrixColumn(m, 2).length();\n    te[0] = me[0] * scaleX;\n    te[1] = me[1] * scaleX;\n    te[2] = me[2] * scaleX;\n    te[4] = me[4] * scaleY;\n    te[5] = me[5] * scaleY;\n    te[6] = me[6] * scaleY;\n    te[8] = me[8] * scaleZ;\n    te[9] = me[9] * scaleZ;\n    te[10] = me[10] * scaleZ;\n    return this;\n  }\n  makeRotationFromEuler(euler: Euler): Matrix4 {\n    if ((euler && euler instanceof Euler) === false) {\n      console.error('THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');\n    }\n    const te: Float32Array = this.elements;\n    const x = euler.x, y = euler.y, z = euler.z;\n    const a = Math.cos(x), b = Math.sin(x);\n    const c = Math.cos(y), d = Math.sin(y);\n    const e = Math.cos(z), f = Math.sin(z);\n    if (euler.order === 'XYZ') {\n      const ae = a * e, af = a * f, be = b * e, bf = b * f;\n      te[0] = c * e;\n      te[4] = - c * f;\n      te[8] = d;\n      te[1] = af + be * d;\n      te[5] = ae - bf * d;\n      te[9] = - b * c;\n      te[2] = bf - ae * d;\n      te[6] = be + af * d;\n      te[10] = a * c;\n    } else if (euler.order === 'YXZ') {\n      const ce = c * e, cf = c * f, de = d * e, df = d * f;\n      te[0] = ce + df * b;\n      te[4] = de * b - cf;\n      te[8] = a * d;\n      te[1] = a * f;\n      te[5] = a * e;\n      te[9] = - b;\n      te[2] = cf * b - de;\n      te[6] = df + ce * b;\n      te[10] = a * c;\n    } else if (euler.order === 'ZXY') {\n      const ce = c * e, cf = c * f, de = d * e, df = d * f;\n      te[0] = ce - df * b;\n      te[4] = - a * f;\n      te[8] = de + cf * b;\n      te[1] = cf + de * b;\n      te[5] = a * e;\n      te[9] = df - ce * b;\n      te[2] = - a * d;\n      te[6] = b;\n      te[10] = a * c;\n    } else if (euler.order === 'ZYX') {\n      const ae = a * e, af = a * f, be = b * e, bf = b * f;\n      te[0] = c * e;\n      te[4] = be * d - af;\n      te[8] = ae * d + bf;\n      te[1] = c * f;\n      te[5] = bf * d + ae;\n      te[9] = af * d - be;\n      te[2] = - d;\n      te[6] = b * c;\n      te[10] = a * c;\n    } else if (euler.order === 'YZX') {\n      const ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n      te[0] = c * e;\n      te[4] = bd - ac * f;\n      te[8] = bc * f + ad;\n      te[1] = f;\n      te[5] = a * e;\n      te[9] = - b * e;\n      te[2] = - d * e;\n      te[6] = ad * f + bc;\n      te[10] = ac - bd * f;\n    } else if (euler.order === 'XZY') {\n      const ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n      te[0] = c * e;\n      te[4] = - f;\n      te[8] = d * e;\n      te[1] = ac * f + bd;\n      te[5] = a * e;\n      te[9] = ad * f - bc;\n      te[2] = bc * f - ad;\n      te[6] = b * e;\n      te[10] = bd * f + ac;\n    }\n    // last column\n    te[3] = 0;\n    te[7] = 0;\n    te[11] = 0;\n    // bottom row\n    te[12] = 0;\n    te[13] = 0;\n    te[14] = 0;\n    te[15] = 1;\n    return this;\n  }\n  makeRotationFromQuaternion(q: Quaternion): Matrix4 {\n    const te: Float32Array = this.elements;\n    const x = q.x, y = q.y, z = q.z, w = q.w;\n    const x2 = x + x, y2 = y + y, z2 = z + z;\n    const xx = x * x2, xy = x * y2, xz = x * z2;\n    const yy = y * y2, yz = y * z2, zz = z * z2;\n    const wx = w * x2, wy = w * y2, wz = w * z2;\n    te[0] = 1 - (yy + zz);\n    te[4] = xy - wz;\n    te[8] = xz + wy;\n    te[1] = xy + wz;\n    te[5] = 1 - (xx + zz);\n    te[9] = yz - wx;\n    te[2] = xz - wy;\n    te[6] = yz + wx;\n    te[10] = 1 - (xx + yy);\n    // last column\n    te[3] = 0;\n    te[7] = 0;\n    te[11] = 0;\n    // bottom row\n    te[12] = 0;\n    te[13] = 0;\n    te[14] = 0;\n    te[15] = 1;\n    return this;\n  }\n  private static _lookAt_x = new Vector3();\n  private static _lookAt_y = new Vector3();\n  private static _lookAt_z = new Vector3();\n  lookAt(eye: Vector3, target: Vector3, up: Vector3): Matrix4 {\n    const x = Matrix4._lookAt_x;\n    const y = Matrix4._lookAt_y;\n    const z = Matrix4._lookAt_z;\n    const te: Float32Array = this.elements;\n    z.subVectors(eye, target).normalize();\n    if (z.lengthSq() === 0) {\n      z.z = 1;\n    }\n    x.crossVectors(up, z).normalize();\n    if (x.lengthSq() === 0) {\n      z.z += 0.0001;\n      x.crossVectors(up, z).normalize();\n    }\n    y.crossVectors(z, x);\n    te[0] = x.x; te[4] = y.x; te[8] = z.x;\n    te[1] = x.y; te[5] = y.y; te[9] = z.y;\n    te[2] = x.z; te[6] = y.z; te[10] = z.z;\n    return this;\n  }\n  multiply(m: Matrix4, n?: Matrix4): Matrix4 {\n    if (n !== undefined) {\n      console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices(a, b) instead.');\n      return this.multiplyMatrices(m, n);\n    }\n    return this.multiplyMatrices(this, m);\n  }\n  premultiply(m: Matrix4): Matrix4 {\n    return this.multiplyMatrices(m, this);\n  }\n  multiplyMatrices(a: Matrix4, b: Matrix4): Matrix4 {\n    const ae: Float32Array = a.elements;\n    const be: Float32Array = b.elements;\n    const te: Float32Array = this.elements;\n    const a11 = ae[0], a12 = ae[4], a13 = ae[8], a14 = ae[12];\n    const a21 = ae[1], a22 = ae[5], a23 = ae[9], a24 = ae[13];\n    const a31 = ae[2], a32 = ae[6], a33 = ae[10], a34 = ae[14];\n    const a41 = ae[3], a42 = ae[7], a43 = ae[11], a44 = ae[15];\n    const b11 = be[0], b12 = be[4], b13 = be[8], b14 = be[12];\n    const b21 = be[1], b22 = be[5], b23 = be[9], b24 = be[13];\n    const b31 = be[2], b32 = be[6], b33 = be[10], b34 = be[14];\n    const b41 = be[3], b42 = be[7], b43 = be[11], b44 = be[15];\n    te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n    te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n    te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n    te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n    te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n    te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n    te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n    te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n    te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n    te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n    te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n    te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n    te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n    te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n    te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n    te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n    return this;\n  }\n  multiplyToArray(a: Matrix4, b: Matrix4, r: Float32Array | number[]): Matrix4 {\n    const te: Float32Array = this.elements;\n    this.multiplyMatrices(a, b);\n    r[0] = te[0]; r[1] = te[1]; r[2] = te[2]; r[3] = te[3];\n    r[4] = te[4]; r[5] = te[5]; r[6] = te[6]; r[7] = te[7];\n    r[8]  = te[8]; r[9]  = te[9]; r[10] = te[10]; r[11] = te[11];\n    r[12] = te[12]; r[13] = te[13]; r[14] = te[14]; r[15] = te[15];\n    return this;\n  }\n  multiplyScalar(s: number): Matrix4 {\n    const te: Float32Array = this.elements;\n    te[0] *= s; te[4] *= s; te[8] *= s; te[12] *= s;\n    te[1] *= s; te[5] *= s; te[9] *= s; te[13] *= s;\n    te[2] *= s; te[6] *= s; te[10] *= s; te[14] *= s;\n    te[3] *= s; te[7] *= s; te[11] *= s; te[15] *= s;\n    return this;\n  }\n  private static _applyToVector3Array_v1 = new Vector3();\n  applyToVector3Array(array: Float32Array | number[], offset: number = 0, length: number = array.length): Float32Array | number[] {\n    const v1 = Matrix4._applyToVector3Array_v1;\n    for (let i = 0, j = offset; i < length; i += 3, j += 3) {\n      v1.fromArray(array, j);\n      v1.applyMatrix4(this);\n      v1.toArray(array, j);\n    }\n    return array;\n  }\n  private static _applyToBuffer_v1 = new Vector3();\n  applyToBuffer(buffer: any, offset: number = 0, length: number = buffer.length / buffer.itemSize): any {\n    const v1 = Matrix4._applyToBuffer_v1;\n    for (let i = 0, j = offset; i < length; i ++, j ++) {\n      v1.x = buffer.getX(j);\n      v1.y = buffer.getY(j);\n      v1.z = buffer.getZ(j);\n      v1.applyMatrix4(this);\n      buffer.setXYZ(j, v1.x, v1.y, v1.z);\n    }\n    return buffer;\n  }\n  determinant(): number {\n    const te: Float32Array = this.elements;\n    const n11 = te[0], n12 = te[4], n13 = te[8], n14 = te[12];\n    const n21 = te[1], n22 = te[5], n23 = te[9], n24 = te[13];\n    const n31 = te[2], n32 = te[6], n33 = te[10], n34 = te[14];\n    const n41 = te[3], n42 = te[7], n43 = te[11], n44 = te[15];\n    //TODO: make this more efficient\n    //(based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm)\n    return (\n      n41 * (\n        + n14 * n23 * n32\n         - n13 * n24 * n32\n         - n14 * n22 * n33\n         + n12 * n24 * n33\n         + n13 * n22 * n34\n         - n12 * n23 * n34\n      ) +\n      n42 * (\n        + n11 * n23 * n34\n         - n11 * n24 * n33\n         + n14 * n21 * n33\n         - n13 * n21 * n34\n         + n13 * n24 * n31\n         - n14 * n23 * n31\n      ) +\n      n43 * (\n        + n11 * n24 * n32\n         - n11 * n22 * n34\n         - n14 * n21 * n32\n         + n12 * n21 * n34\n         + n14 * n22 * n31\n         - n12 * n24 * n31\n      ) +\n      n44 * (\n        - n13 * n22 * n31\n         - n11 * n23 * n32\n         + n11 * n22 * n33\n         + n13 * n21 * n32\n         - n12 * n21 * n33\n         + n12 * n23 * n31\n      )\n    );\n  }\n  transpose(): Matrix4 {\n    const te: Float32Array = this.elements;\n    let tmp;\n    tmp = te[1]; te[1] = te[4]; te[4] = tmp;\n    tmp = te[2]; te[2] = te[8]; te[8] = tmp;\n    tmp = te[6]; te[6] = te[9]; te[9] = tmp;\n    tmp = te[3]; te[3] = te[12]; te[12] = tmp;\n    tmp = te[7]; te[7] = te[13]; te[13] = tmp;\n    tmp = te[11]; te[11] = te[14]; te[14] = tmp;\n    return this;\n  }\n  flattenToArrayOffset(array: Float32Array | number[] = [], offset: number = 0): Float32Array | number[] {\n    console.warn(\"THREE.Matrix3: .flattenToArrayOffset is deprecated \" +\n        \"- just use .toArray instead.\");\n    return this.toArray(array, offset);\n  }\n  private static _getPosition_v1 = new Vector3();\n  getPosition(): Vector3 {\n    const v1 = Matrix4._getPosition_v1;\n    console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition(matrix) instead.');\n    return v1.setFromMatrixColumn(this, 3);\n  }\n  setPosition(v: Vector3): Matrix4 {\n    const te: Float32Array = this.elements;\n    te[12] = v.x;\n    te[13] = v.y;\n    te[14] = v.z;\n    return this;\n  }\n  getInverse(m: Matrix4, throwOnDegenerate: boolean = false): Matrix4 {\n    // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n    const te: Float32Array = this.elements,\n      me: Float32Array = m.elements,\n      n11 = me[0], n21 = me[1], n31 = me[2], n41 = me[3],\n      n12 = me[4], n22 = me[5], n32 = me[6], n42 = me[7],\n      n13 = me[8], n23 = me[9], n33 = me[10], n43 = me[11],\n      n14 = me[12], n24 = me[13], n34 = me[14], n44 = me[15],\n      t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n      t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n      t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n      t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n    const det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n    if (det === 0) {\n      const msg = \"THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0\";\n      if (throwOnDegenerate === true) {\n        throw new Error(msg);\n      } else {\n        console.warn(msg);\n      }\n      return this.identity();\n    }\n    const detInv = 1 / det;\n    te[0] = t11 * detInv;\n    te[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;\n    te[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;\n    te[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;\n    te[4] = t12 * detInv;\n    te[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;\n    te[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;\n    te[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;\n    te[8] = t13 * detInv;\n    te[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;\n    te[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;\n    te[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;\n    te[12] = t14 * detInv;\n    te[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;\n    te[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;\n    te[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;\n    return this;\n  }\n  scale(v: Vector3): Matrix4 {\n    const te: Float32Array = this.elements;\n    const x = v.x, y = v.y, z = v.z;\n    te[0] *= x; te[4] *= y; te[8] *= z;\n    te[1] *= x; te[5] *= y; te[9] *= z;\n    te[2] *= x; te[6] *= y; te[10] *= z;\n    te[3] *= x; te[7] *= y; te[11] *= z;\n    return this;\n  }\n  getMaxScaleOnAxis(): number {\n    const te: Float32Array = this.elements;\n    const scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];\n    const scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];\n    const scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];\n    return Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));\n  }\n  makeTranslation(x: number, y: number, z: number): Matrix4 {\n    this.set(\n      1, 0, 0, x,\n      0, 1, 0, y,\n      0, 0, 1, z,\n      0, 0, 0, 1\n    );\n    return this;\n  }\n  makeRotationX(theta: number): Matrix4 {\n    const c = Math.cos(theta), s = Math.sin(theta);\n    this.set(\n      1, 0,  0, 0,\n      0, c, - s, 0,\n      0, s,  c, 0,\n      0, 0,  0, 1\n    );\n    return this;\n  }\n  makeRotationY(theta: number): Matrix4 {\n    const c = Math.cos(theta), s = Math.sin(theta);\n    this.set(\n       c, 0, s, 0,\n       0, 1, 0, 0,\n      - s, 0, c, 0,\n       0, 0, 0, 1\n    );\n    return this;\n  }\n  makeRotationZ(theta: number): Matrix4 {\n    const c = Math.cos(theta), s = Math.sin(theta);\n    this.set(\n      c, - s, 0, 0,\n      s,  c, 0, 0,\n      0,  0, 1, 0,\n      0,  0, 0, 1\n    );\n    return this;\n  }\n  makeRotationAxis(axis: Vector3, angle: number): Matrix4 {\n    // Based on http://www.gamedev.net/reference/articles/article1199.asp\n    const c = Math.cos(angle);\n    const s = Math.sin(angle);\n    const t = 1 - c;\n    const x = axis.x, y = axis.y, z = axis.z;\n    const tx = t * x, ty = t * y;\n    this.set(\n      tx * x + c, tx * y - s * z, tx * z + s * y, 0,\n      tx * y + s * z, ty * y + c, ty * z - s * x, 0,\n      tx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n      0, 0, 0, 1\n    );\n     return this;\n  }\n  makeScale(x: number, y: number, z: number): Matrix4 {\n    this.set(\n      x, 0, 0, 0,\n      0, y, 0, 0,\n      0, 0, z, 0,\n      0, 0, 0, 1\n    );\n    return this;\n  }\n  compose(position: Vector3, quaternion: Quaternion, scale: Vector3): Matrix4 {\n    this.makeRotationFromQuaternion(quaternion);\n    this.scale(scale);\n    this.setPosition(position);\n    return this;\n  }\n  private static _decompose_vector = new Vector3();\n  private static _decompose_matrix = new Matrix4();\n  decompose(position: Vector3, quaternion: Quaternion, scale: Vector3): Matrix4 {\n    const vector = Matrix4._decompose_vector, matrix = Matrix4._decompose_matrix;\n    const te: Float32Array = this.elements;\n    let sx = vector.set(te[0], te[1], te[2]).length();\n    const sy = vector.set(te[4], te[5], te[6]).length();\n    const sz = vector.set(te[8], te[9], te[10]).length();\n    // if determine is negative, we need to invert one scale\n    const det = this.determinant();\n    if (det < 0) {\n      sx = - sx;\n    }\n    position.x = te[12];\n    position.y = te[13];\n    position.z = te[14];\n    // scale the rotation part\n    matrix.elements.set(this.elements); // at this point matrix is incomplete so we can't use .copy()\n    const invSX = 1 / sx;\n    const invSY = 1 / sy;\n    const invSZ = 1 / sz;\n    matrix.elements[0] *= invSX;\n    matrix.elements[1] *= invSX;\n    matrix.elements[2] *= invSX;\n    matrix.elements[4] *= invSY;\n    matrix.elements[5] *= invSY;\n    matrix.elements[6] *= invSY;\n    matrix.elements[8] *= invSZ;\n    matrix.elements[9] *= invSZ;\n    matrix.elements[10] *= invSZ;\n    quaternion.setFromRotationMatrix(matrix);\n    scale.x = sx;\n    scale.y = sy;\n    scale.z = sz;\n    return this;\n  }\n  makeFrustum(left: number, right: number, bottom: number, top: number, near: number, far: number): Matrix4 {\n    const te: Float32Array = this.elements;\n    const x = 2 * near / (right - left);\n    const y = 2 * near / (top - bottom);\n    const a = (right + left) / (right - left);\n    const b = (top + bottom) / (top - bottom);\n    const c = - (far + near) / (far - near);\n    const d = - 2 * far * near / (far - near);\n    te[0] = x;  te[4] = 0;  te[8] = a;  te[12] = 0;\n    te[1] = 0;  te[5] = y;  te[9] = b;  te[13] = 0;\n    te[2] = 0;  te[6] = 0;  te[10] = c;  te[14] = d;\n    te[3] = 0;  te[7] = 0;  te[11] = - 1;  te[15] = 0;\n    return this;\n  }\n  makePerspective(fov: number, aspect: number, near: number, far: number): Matrix4 {\n    const ymax = near * Math.tan(_Math.DEG2RAD * fov * 0.5);\n    const ymin = - ymax;\n    const xmin = ymin * aspect;\n    const xmax = ymax * aspect;\n    return this.makeFrustum(xmin, xmax, ymin, ymax, near, far);\n  }\n  makeOrthographic(left: number, right: number, top: number, bottom: number, near: number, far: number): Matrix4 {\n    const te: Float32Array = this.elements;\n    const w = 1.0 / (right - left);\n    const h = 1.0 / (top - bottom);\n    const p = 1.0 / (far - near);\n    const x = (right + left) * w;\n    const y = (top + bottom) * h;\n    const z = (far + near) * p;\n    te[0] = 2 * w;  te[4] = 0;  te[8] = 0;  te[12] = - x;\n    te[1] = 0;  te[5] = 2 * h;  te[9] = 0;  te[13] = - y;\n    te[2] = 0;  te[6] = 0;  te[10] = - 2 * p;  te[14] = - z;\n    te[3] = 0;  te[7] = 0;  te[11] = 0;  te[15] = 1;\n    return this;\n  }\n  equals(matrix: Matrix4): boolean {\n    const te: Float32Array = this.elements;\n    const me: Float32Array = matrix.elements;\n    for (let i = 0; i < 16; i ++) {\n      if (te[i] !== me[i]) return false;\n    }\n    return true;\n  }\n  fromArray(array: Float32Array | number[], offset: number = 0): Matrix4 {\n    for (let i = 0; i < 16; i ++) {\n      this.elements[i] = array[i + offset];\n    }\n    return this;\n  }\n  toArray(array: Float32Array | number[] = [], offset: number = 0): Float32Array | number[] {\n    const te: Float32Array = this.elements;\n    array[offset] = te[0];\n    array[offset + 1] = te[1];\n    array[offset + 2] = te[2];\n    array[offset + 3] = te[3];\n    array[offset + 4] = te[4];\n    array[offset + 5] = te[5];\n    array[offset + 6] = te[6];\n    array[offset + 7] = te[7];\n    array[offset + 8]  = te[8];\n    array[offset + 9]  = te[9];\n    array[offset + 10] = te[10];\n    array[offset + 11] = te[11];\n    array[offset + 12] = te[12];\n    array[offset + 13] = te[13];\n    array[offset + 14] = te[14];\n    array[offset + 15] = te[15];\n    return array;\n  }\n  extractPosition(m: Matrix4): Matrix4 {\n    console.warn(\"THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().\");\n    return this.copyPosition(m);\n  }\n  setRotationFromQuaternion(q: Quaternion): Matrix4 {\n    console.warn(\"THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().\");\n    return this.makeRotationFromQuaternion(q);\n  }\n  multiplyVector3(vector: Vector3): Vector3 {\n    console.warn(\"THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4(matrix) or vector.applyProjection(matrix) instead.\");\n    return vector.applyProjection(this);\n  }\n  multiplyVector4(vector: Vector4): Vector4 {\n    console.warn(\"THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4(matrix) instead.\");\n    return vector.applyMatrix4(this);\n  }\n  multiplyVector3Array(a: Float32Array | number[]): Float32Array | number[] {\n    console.warn(\"THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array(array) instead.\");\n    return this.applyToVector3Array(a);\n  }\n  rotateAxis(v: Vector3): void {\n    console.warn(\"THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection(matrix) instead.\");\n    v.transformDirection(this);\n  }\n  crossVector(vector: Vector3): Vector3 {\n    console.warn(\"THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4(matrix) instead.\");\n    return vector.applyMatrix4(this);\n  }\n  translate(v: Vector3): void {\n    console.error(\"THREE.Matrix4: .translate() has been removed.\");\n  }\n  rotateX(angle: number): void {\n    console.error(\"THREE.Matrix4: .rotateX() has been removed.\");\n  }\n  rotateY(angle: number): void {\n    console.error(\"THREE.Matrix4: .rotateY() has been removed.\");\n  }\n  rotateZ(angle: number): void {\n    console.error(\"THREE.Matrix4: .rotateZ() has been removed.\");\n  }\n  rotateByAxis(axis: Vector3, angle: number): void {\n    console.error(\"THREE.Matrix4: .rotateByAxis() has been removed.\");\n  }\n}\n","import { Texture } from \"./Texture\";\nimport { TextureMapping, TextureWrapping, TextureEncoding, TextureType, TextureFormat, TextureFilter } from \"../constants\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class CubeTexture extends Texture {\n  readonly isCubeTexture: boolean = true;\n  constructor(images: any[] = [], mapping: TextureMapping = TextureMapping.CubeReflection, wrapS?: TextureWrapping, wrapT?: TextureWrapping, magFilter?: TextureFilter, minFilter?: TextureFilter, format?: TextureFormat, type?: TextureType, anisotropy?: number, encoding?: TextureEncoding) {\n    super(images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n    this.flipY = false;\n  }\n  get images(): any[] { return this.image; }\n  set images(value: any[]) { this.image = value; }\n}\n","/**\n * @author tschw\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms(gl, program, renderer)'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue(gl, value, [renderer])\n *\n *     uploads a uniform value(s)\n *    the 'renderer' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (renderer factorizations):\n *\n * .upload(gl, seq, values, renderer)\n *\n *     sets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue(seq, values) : filteredSeq\n *\n *     filters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (renderer factorizations):\n *\n * .setValue(gl, name, value)\n *\n *     sets uniform with  name 'name' to 'value'\n *\n * .set(gl, obj, prop)\n *\n *     sets uniform from object and property with same name than uniform\n *\n * .setOptional(gl, obj, prop)\n *\n *     like .set for an optional property of the object\n *\n */\nimport { CubeTexture } from \"../../textures/CubeTexture\";\nimport { Texture } from \"../../textures/Texture\";\nconst emptyTexture = new Texture();\nconst emptyCubeTexture = new CubeTexture();\n// --- Base for inner nodes (including the root) ---\nclass UniformContainer {\n  seq: any[] = [];\n  map: any[] = [];\n}\n// --- Utilities ---\n// Array Caches (provide typed arrays for temporary by size)\nconst arrayCacheF32: any[] = [];\nconst arrayCacheI32: any[] = [];\n// Flattening for arrays of vectors and matrices\nfunction flatten(array: any, nBlocks: number, blockSize: number): Float32Array {\n  const firstElem = array[0];\n  if (firstElem <= 0 || firstElem > 0) return array;\n  // unoptimized: ! isNaN(firstElem)\n  // see http://jacksondunstan.com/articles/983\n  const n = nBlocks * blockSize;\n  let r = arrayCacheF32[n];\n  if (r === undefined) {\n    r = new Float32Array(n);\n    arrayCacheF32[n] = r;\n  }\n  if (nBlocks !== 0) {\n    firstElem.toArray(r, 0);\n    for (let i = 1, offset = 0; i !== nBlocks; ++ i) {\n      offset += blockSize;\n      array[i].toArray(r, offset);\n    }\n  }\n  return r;\n}\n// Texture unit allocation\nfunction allocTexUnits(renderer: any, n: number): any {\n  let r = arrayCacheI32[n];\n  if (r === undefined) {\n    r = new Int32Array(n);\n    arrayCacheI32[n] = r;\n  }\n  for (let i = 0; i !== n; ++ i)\n    r[i] = renderer.allocTextureUnit();\n  return r;\n}\n// --- Uniform Classes ---\nclass SingleUniform {\n  id: any;\n  addr: any;\n  setValue: any;\n  constructor(id: any, activeInfo: any, addr: any) {\n    this.id = id;\n    this.addr = addr;\n    this.setValue = this.getSingularSetter(activeInfo.type);\n    // this.path = activeInfo.name; // DEBUG\n  }\n  // Note: Defining these methods externally, because they come in a bunch\n  // and this way their names minify.\n  // Single scalar\n  private setValue1f(gl: WebGLRenderingContext, v: any): void { gl.uniform1f(this.addr, v); }\n  private setValue1i(gl: WebGLRenderingContext, v: any): void { gl.uniform1i(this.addr, v); }\n  // Single float vector (from flat array or THREE.VectorN)\n  private setValue2fv(gl: WebGLRenderingContext, v: any): void {\n    if (v.x === undefined) gl.uniform2fv(this.addr, v);\n    else gl.uniform2f(this.addr, v.x, v.y);\n  }\n  private setValue3fv(gl: WebGLRenderingContext, v: any): void {\n    if (v.x !== undefined)\n      gl.uniform3f(this.addr, v.x, v.y, v.z);\n    else if (v.r !== undefined)\n      gl.uniform3f(this.addr, v.r, v.g, v.b);\n    else\n      gl.uniform3fv(this.addr, v);\n  }\n  private setValue4fv(gl: WebGLRenderingContext, v: any): void {\n    if (v.x === undefined) gl.uniform4fv(this.addr, v);\n    else gl.uniform4f(this.addr, v.x, v.y, v.z, v.w);\n  }\n  // Single matrix (from flat array or MatrixN)\n  private setValue2fm(gl: WebGLRenderingContext, v: any): void {\n    gl.uniformMatrix2fv(this.addr, false, v.elements || v);\n  }\n  private setValue3fm(gl: WebGLRenderingContext, v: any): void {\n    gl.uniformMatrix3fv(this.addr, false, v.elements || v);\n  }\n  private setValue4fm(gl: WebGLRenderingContext, v: any): void {\n    gl.uniformMatrix4fv(this.addr, false, v.elements || v);\n  }\n  // Single texture (2D / Cube)\n  private setValueT1(gl: WebGLRenderingContext, v: any, renderer: any): void {\n    const unit = renderer.allocTextureUnit();\n    gl.uniform1i(this.addr, unit);\n    renderer.setTexture2D(v || emptyTexture, unit);\n  }\n  private setValueT6(gl: WebGLRenderingContext, v: any, renderer: any): void {\n    const unit = renderer.allocTextureUnit();\n    gl.uniform1i(this.addr, unit);\n    renderer.setTextureCube(v || emptyCubeTexture, unit);\n  }\n  // Integer / Boolean vectors or arrays thereof (always flat arrays)\n  private setValue2iv(gl: WebGLRenderingContext, v: any): void { gl.uniform2iv(this.addr, v); }\n  private setValue3iv(gl: WebGLRenderingContext, v: any): void { gl.uniform3iv(this.addr, v); }\n  private setValue4iv(gl: WebGLRenderingContext, v: any): void { gl.uniform4iv(this.addr, v); }\n  // Helper to pick the right setter for the singular case\n  private getSingularSetter(type: number): any {\n    switch (type) {\n      case 0x1406: return this.setValue1f; // FLOAT\n      case 0x8b50: return this.setValue2fv; // _VEC2\n      case 0x8b51: return this.setValue3fv; // _VEC3\n      case 0x8b52: return this.setValue4fv; // _VEC4\n      case 0x8b5a: return this.setValue2fm; // _MAT2\n      case 0x8b5b: return this.setValue3fm; // _MAT3\n      case 0x8b5c: return this.setValue4fm; // _MAT4\n      case 0x8b5e: return this.setValueT1; // SAMPLER_2D\n      case 0x8b60: return this.setValueT6; // SAMPLER_CUBE\n      case 0x1404: case 0x8b56: return this.setValue1i; // INT, BOOL\n      case 0x8b53: case 0x8b57: return this.setValue2iv; // _VEC2\n      case 0x8b54: case 0x8b58: return this.setValue3iv; // _VEC3\n      case 0x8b55: case 0x8b59: return this.setValue4iv; // _VEC4\n    }\n  }\n}\nclass PureArrayUniform {\n  id: any;\n  addr: any;\n  size: any;\n  setValue: any;\n  constructor(id: any, activeInfo: any, addr: any) {\n    this.id = id;\n    this.addr = addr;\n    this.size = activeInfo.size;\n    this.setValue = this.getPureArraySetter(activeInfo.type);\n    // this.path = activeInfo.name; // DEBUG\n  }\n  // Array of scalars\n  private setValue1fv(gl: WebGLRenderingContext, v: any): void { gl.uniform1fv(this.addr, v); }\n  private setValue1iv(gl: WebGLRenderingContext, v: any): void { gl.uniform1iv(this.addr, v); }\n  // Array of vectors (flat or from THREE classes)\n  private setValueV2a(gl: WebGLRenderingContext, v: any): void {\n    gl.uniform2fv(this.addr, flatten(v, this.size, 2));\n  }\n  private setValueV3a(gl: WebGLRenderingContext, v: any): void {\n    gl.uniform3fv(this.addr, flatten(v, this.size, 3));\n  }\n  private setValueV4a(gl: WebGLRenderingContext, v: any): void {\n    gl.uniform4fv(this.addr, flatten(v, this.size, 4));\n  }\n  // Array of matrices (flat or from THREE clases)\n  private setValueM2a(gl: WebGLRenderingContext, v: any): void {\n    gl.uniformMatrix2fv(this.addr, false, flatten(v, this.size, 4));\n  }\n  private setValueM3a(gl: WebGLRenderingContext, v: any): void {\n    gl.uniformMatrix3fv(this.addr, false, flatten(v, this.size, 9));\n  }\n  private setValueM4a(gl: WebGLRenderingContext, v: any): void {\n    gl.uniformMatrix4fv(this.addr, false, flatten(v, this.size, 16));\n  }\n  // Array of textures (2D / Cube)\n  private setValueT1a(gl: WebGLRenderingContext, v: any, renderer: any): void {\n    const n = v.length,\n      units = allocTexUnits(renderer, n);\n    gl.uniform1iv(this.addr, units);\n    for (let i = 0; i !== n; ++ i) {\n      renderer.setTexture2D(v[i] || emptyTexture, units[i]);\n    }\n  }\n  private setValueT6a(gl: WebGLRenderingContext, v: any, renderer: any): void {\n    const n = v.length,\n      units = allocTexUnits(renderer, n);\n    gl.uniform1iv(this.addr, units);\n    for (let i = 0; i !== n; ++ i) {\n      renderer.setTextureCube(v[i] || emptyCubeTexture, units[i]);\n    }\n  }\n  // Integer / Boolean vectors or arrays thereof (always flat arrays)\n  private setValue2iv(gl: WebGLRenderingContext, v: any): void { gl.uniform2iv(this.addr, v); }\n  private setValue3iv(gl: WebGLRenderingContext, v: any): void { gl.uniform3iv(this.addr, v); }\n  private setValue4iv(gl: WebGLRenderingContext, v: any): void { gl.uniform4iv(this.addr, v); }\n  // Helper to pick the right setter for a pure (bottom-level) array\n  private getPureArraySetter(type: number): any {\n    switch (type) {\n      case 0x1406: return this.setValue1fv; // FLOAT\n      case 0x8b50: return this.setValueV2a; // _VEC2\n      case 0x8b51: return this.setValueV3a; // _VEC3\n      case 0x8b52: return this.setValueV4a; // _VEC4\n      case 0x8b5a: return this.setValueM2a; // _MAT2\n      case 0x8b5b: return this.setValueM3a; // _MAT3\n      case 0x8b5c: return this.setValueM4a; // _MAT4\n      case 0x8b5e: return this.setValueT1a; // SAMPLER_2D\n      case 0x8b60: return this.setValueT6a; // SAMPLER_CUBE\n      case 0x1404: case 0x8b56: return this.setValue1iv; // INT, BOOL\n      case 0x8b53: case 0x8b57: return this.setValue2iv; // _VEC2\n      case 0x8b54: case 0x8b58: return this.setValue3iv; // _VEC3\n      case 0x8b55: case 0x8b59: return this.setValue4iv; // _VEC4\n    }\n  }\n}\nclass StructuredUniform extends UniformContainer {\n  id: any;\n  constructor(id: any) {\n    super(); // mix-in\n    this.id = id;\n  }\n  setValue(gl: WebGLRenderingContext, value: any) {\n    // Note: Don't need an extra 'renderer' parameter, since samplers\n    // are not allowed in structured uniforms.\n    const seq = this.seq;\n    for (let i = 0, n = seq.length; i !== n; ++ i) {\n      const u = seq[i];\n      u.setValue(gl, value[u.id]);\n    }\n  }\n}\n// --- Top-level ---\n// Parser - builds up the property tree from the path strings\nconst RePathPart: RegExp = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n// extracts\n//   - the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\nfunction addUniform(container: any, uniformObject: any) {\n  container.seq.push(uniformObject);\n  container.map[uniformObject.id] = uniformObject;\n}\nfunction parseUniform(activeInfo: any, addr: any, container: any) {\n  const path = activeInfo.name;\n  const pathLength = path.length;\n  // reset RegExp object, because of the early exit of a previous run\n  RePathPart.lastIndex = 0;\n  for (; ; ) {\n    const match = RePathPart.exec(path);\n    const matchEnd = RePathPart.lastIndex;\n    let id = match[1];\n    const idIsIndex = match[2] === ']';\n    const subscript = match[3];\n    //if (idIsIndex) id = id | 0; // convert to integer\n    if (idIsIndex) id = parseInt(id, 10).toString(); // convert to integer\n    if (subscript === undefined ||\n        subscript === '[' && matchEnd + 2 === pathLength) {\n      // bare name or \"pure\" bottom-level array \"[0]\" suffix\n      addUniform(container, subscript === undefined ?\n          new SingleUniform(id, activeInfo, addr) :\n          new PureArrayUniform(id, activeInfo, addr));\n      break;\n    } else {\n      // step into inner node / create it in case it doesn't exist\n      const map = container.map;\n      let next = map[id];\n      if (next === undefined) {\n        next = new StructuredUniform(id);\n        addUniform(container, next);\n      }\n      container = next;\n    }\n  }\n}\n// Root Container\nexport class WebGLUniforms extends UniformContainer {\n  renderer: any;\n  constructor(gl: WebGLRenderingContext, program: any, renderer: any) {\n    super();\n    this.renderer = renderer;\n    const n = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n    for (let i = 0; i !== n; ++ i) {\n      const info = gl.getActiveUniform(program, i),\n        path = info.name,\n        addr = gl.getUniformLocation(program, path);\n      parseUniform(info, addr, this);\n    }\n  }\n  setValue(gl: WebGLRenderingContext, name: any, value: any): void {\n    const u = this.map[name];\n    if (u !== undefined) u.setValue(gl, value, this.renderer);\n  }\n  set(gl: WebGLRenderingContext, object: any, name: any): void {\n    const u = this.map[name];\n    if (u !== undefined) u.setValue(gl, object[name], this.renderer);\n  }\n  setOptional(gl: WebGLRenderingContext, object: any, name: any): void {\n    const v = object[name];\n    if (v !== undefined) this.setValue(gl, name, v);\n  }\n  // Static interface\n  static upload(gl: WebGLRenderingContext, seq: any, values: any, renderer: any): void {\n    for (let i = 0, n = seq.length; i !== n; ++ i) {\n      const u = seq[i],\n        v = values[u.id];\n      if (v.needsUpdate !== false) {\n        // note: always updating when .needsUpdate is undefined\n        u.setValue(gl, v.value, renderer);\n      }\n    }\n  }\n  static seqWithValue(seq: any, values: any): any[] {\n    const r = [];\n    for (let i = 0, n = seq.length; i !== n; ++ i) {\n      const u = seq[i];\n      if (u.id in values) r.push(u);\n    }\n    return r;\n  }\n}\n","import { _Math } from \"./Math\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class Color {\n  r: number = 1;\n  g: number = 1;\n  b: number = 1;\n  readonly isColor: boolean = true;\n  constructor(r?: Color | string | number, g?: number, b?: number) {\n    //if (g === undefined && b === undefined) {\n    //  // r is THREE.Color, hex or string\n    //  this.set(r);\n    //}\n    //this.setRGB(r, g, b);\n    if (r instanceof Color) {\n      this.copy(r);\n    } else if (typeof(r) === 'string') {\n      this.setStyle(r);\n    } else if (typeof(r) === 'number') {\n      if (typeof(g) === 'number' && typeof(b) === 'number') {\n        this.setRGB(r, g, b);\n      } else {\n        this.setHex(r);\n      }\n    }\n  }\n  set(value: Color | number | string): Color {\n    if (value && value instanceof Color) {\n      this.copy(value);\n    } else if (typeof(value) === 'number') {\n      this.setHex(value);\n    } else if (typeof(value) === 'string') {\n      this.setStyle(value);\n    }\n    return this;\n  }\n  setScalar(scalar: number): Color {\n    this.r = scalar;\n    this.g = scalar;\n    this.b = scalar;\n    return this;\n  }\n  setHex(hex: number): Color {\n    hex = Math.floor(hex);\n    this.r = (hex >> 16 & 255) / 255;\n    this.g = (hex >> 8 & 255) / 255;\n    this.b = (hex & 255) / 255;\n    return this;\n  }\n  setRGB(r: number, g: number, b: number): Color {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    return this;\n  }\n  setHSL(h: number, s: number, l: number): Color {\n    function hue2rgb(p: number, q: number, t: number): number {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * 6 * (2 / 3 - t);\n      return p;\n    }\n    // h,s,l ranges are in 0.0 - 1.0\n    h = _Math.euclideanModulo(h, 1);\n    s = _Math.clamp(s, 0, 1);\n    l = _Math.clamp(l, 0, 1);\n    if (s === 0) {\n      this.r = this.g = this.b = l;\n    } else {\n      const p = l <= 0.5 ? l * (1 + s) : l + s - (l * s);\n      const q = (2 * l) - p;\n      this.r = hue2rgb(q, p, h + 1 / 3);\n      this.g = hue2rgb(q, p, h);\n      this.b = hue2rgb(q, p, h - 1 / 3);\n    }\n    return this;\n  }\n  setStyle(style: string): Color {\n    function handleAlpha(alpha: string): void {\n      if (alpha === undefined) return;\n      if (parseFloat(alpha) < 1) {\n        console.warn('THREE.Color: Alpha component of ' + style + ' will be ignored.');\n      }\n    }\n    let m;\n    if (m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(style)) {\n      // rgb / hsl\n      let color;\n      const name = m[1];\n      const components = m[2];\n      switch (name) {\n        case 'rgb':\n        case 'rgba':\n          if (color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n            // rgb(255,0,0) rgba(255,0,0,0.5)\n            this.r = Math.min(255, parseInt(color[1], 10)) / 255;\n            this.g = Math.min(255, parseInt(color[2], 10)) / 255;\n            this.b = Math.min(255, parseInt(color[3], 10)) / 255;\n            handleAlpha(color[5]);\n            return this;\n          }\n          if (color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n            // rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n            this.r = Math.min(100, parseInt(color[1], 10)) / 100;\n            this.g = Math.min(100, parseInt(color[2], 10)) / 100;\n            this.b = Math.min(100, parseInt(color[3], 10)) / 100;\n            handleAlpha(color[5]);\n            return this;\n          }\n          break;\n        case 'hsl':\n        case 'hsla':\n          if (color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n            // hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n            const h = parseFloat(color[1]) / 360;\n            const s = parseInt(color[2], 10) / 100;\n            const l = parseInt(color[3], 10) / 100;\n            handleAlpha(color[5]);\n            return this.setHSL(h, s, l);\n          }\n          break;\n      }\n    } else if (m = /^\\#([A-Fa-f0-9]+)$/.exec(style)) {\n      // hex color\n      const hex = m[1];\n      const size = hex.length;\n      if (size === 3) {\n        // #ff0\n        this.r = parseInt(hex.charAt(0) + hex.charAt(0), 16) / 255;\n        this.g = parseInt(hex.charAt(1) + hex.charAt(1), 16) / 255;\n        this.b = parseInt(hex.charAt(2) + hex.charAt(2), 16) / 255;\n        return this;\n      } else if (size === 6) {\n        // #ff0000\n        this.r = parseInt(hex.charAt(0) + hex.charAt(1), 16) / 255;\n        this.g = parseInt(hex.charAt(2) + hex.charAt(3), 16) / 255;\n        this.b = parseInt(hex.charAt(4) + hex.charAt(5), 16) / 255;\n        return this;\n      }\n    }\n    if (style && style.length > 0) {\n      // color keywords\n      const hex = ColorKeywords[style];\n      if (hex !== undefined) {\n        // red\n        this.setHex(hex);\n      } else {\n        // unknown color\n        console.warn('THREE.Color: Unknown color ' + style);\n      }\n    }\n    return this;\n  }\n  clone(): Color {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(color: Color): Color {\n    this.r = color.r;\n    this.g = color.g;\n    this.b = color.b;\n    return this;\n  }\n  copyGammaToLinear(color: Color, gammaFactor: number = 2.0): Color {\n    this.r = Math.pow(color.r, gammaFactor);\n    this.g = Math.pow(color.g, gammaFactor);\n    this.b = Math.pow(color.b, gammaFactor);\n    return this;\n  }\n  copyLinearToGamma(color: Color, gammaFactor = 2.0): Color {\n    const safeInverse = (gammaFactor > 0) ? (1.0 / gammaFactor) : 1.0;\n    this.r = Math.pow(color.r, safeInverse);\n    this.g = Math.pow(color.g, safeInverse);\n    this.b = Math.pow(color.b, safeInverse);\n    return this;\n  }\n  convertGammaToLinear(): Color {\n    const r = this.r, g = this.g, b = this.b;\n    this.r = r * r;\n    this.g = g * g;\n    this.b = b * b;\n    return this;\n  }\n  convertLinearToGamma(): Color {\n    this.r = Math.sqrt(this.r);\n    this.g = Math.sqrt(this.g);\n    this.b = Math.sqrt(this.b);\n    return this;\n  }\n  getHex(): number {\n    return (this.r * 255) << 16 ^ (this.g * 255) << 8 ^ (this.b * 255) << 0;\n  }\n  getHexString(): string {\n    return ('000000' + this.getHex().toString(16)).slice(- 6);\n  }\n  getHSL(hsl: any = { h: 0, s: 0, l: 0 }): any {\n    // h,s,l ranges are in 0.0 - 1.0\n    const r = this.r, g = this.g, b = this.b;\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n    let hue, saturation;\n    const lightness = (min + max) / 2.0;\n    if (min === max) {\n      hue = 0;\n      saturation = 0;\n    } else {\n      const delta = max - min;\n      saturation = lightness <= 0.5 ? delta / (max + min) : delta / (2 - max - min);\n      switch (max) {\n        case r: hue = (g - b) / delta + (g < b ? 6 : 0); break;\n        case g: hue = (b - r) / delta + 2; break;\n        case b: hue = (r - g) / delta + 4; break;\n      }\n      hue /= 6;\n    }\n    hsl.h = hue;\n    hsl.s = saturation;\n    hsl.l = lightness;\n    return hsl;\n  }\n  getStyle(): string {\n    return 'rgb(' + ((this.r * 255) | 0) + ',' + ((this.g * 255) | 0) + ',' + ((this.b * 255) | 0) + ')';\n  }\n  offsetHSL(h: number, s: number, l: number): Color {\n    const hsl = this.getHSL();\n    hsl.h += h; hsl.s += s; hsl.l += l;\n    this.setHSL(hsl.h, hsl.s, hsl.l);\n    return this;\n  }\n  add(color: Color): Color {\n    this.r += color.r;\n    this.g += color.g;\n    this.b += color.b;\n    return this;\n  }\n  addColors(color1: Color, color2: Color): Color {\n    this.r = color1.r + color2.r;\n    this.g = color1.g + color2.g;\n    this.b = color1.b + color2.b;\n    return this;\n  }\n  addScalar(s: number): Color {\n    this.r += s;\n    this.g += s;\n    this.b += s;\n    return this;\n  }\n  sub(color: Color): Color {\n    this.r = Math.max(0, this.r - color.r);\n    this.g = Math.max(0, this.g - color.g);\n    this.b = Math.max(0, this.b - color.b);\n    return this;\n  }\n  multiply(color: Color): Color {\n    this.r *= color.r;\n    this.g *= color.g;\n    this.b *= color.b;\n    return this;\n  }\n  multiplyScalar(s: number): Color {\n    this.r *= s;\n    this.g *= s;\n    this.b *= s;\n    return this;\n  }\n  lerp(color: Color, alpha: number): Color {\n    this.r += (color.r - this.r) * alpha;\n    this.g += (color.g - this.g) * alpha;\n    this.b += (color.b - this.b) * alpha;\n    return this;\n  }\n  equals(c: Color): boolean {\n    return (c.r === this.r) && (c.g === this.g) && (c.b === this.b);\n  }\n  fromArray(array: Float32Array | number[], offset: number = 0): Color {\n    this.r = array[offset];\n    this.g = array[offset + 1];\n    this.b = array[offset + 2];\n    return this;\n  }\n  toArray(array: Float32Array | number[] = [], offset: number = 0): Float32Array | number[] {\n    array[offset] = this.r;\n    array[offset + 1] = this.g;\n    array[offset + 2] = this.b;\n    return array;\n  }\n  toJSON(meta: any): any {\n    return this.getHex();\n  }\n}\nexport const ColorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n","import { Vector3 } from \"./Vector3\";\nimport { Matrix4 } from \"./Matrix4\";\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\nexport class Matrix3 {\n  elements: Float32Array = new Float32Array([\n    1, 0, 0,\n    0, 1, 0,\n    0, 0, 1\n  ]);\n  readonly isMatrix3: boolean = true;\n  constructor() {\n    if (arguments.length > 0) {\n      console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');\n    }\n  }\n  set(n11: number, n12: number, n13: number, n21: number, n22: number, n23: number, n31: number, n32: number, n33: number): Matrix3 {\n    const te: Float32Array = this.elements;\n    te[0] = n11; te[1] = n21; te[2] = n31;\n    te[3] = n12; te[4] = n22; te[5] = n32;\n    te[6] = n13; te[7] = n23; te[8] = n33;\n    return this;\n  }\n  identity(): Matrix3 {\n    this.set(\n      1, 0, 0,\n      0, 1, 0,\n      0, 0, 1\n    );\n    return this;\n  }\n  clone(): Matrix3 {\n    return new (this.constructor as any)().fromArray(this.elements);\n  }\n  copy(m: Matrix3): Matrix3 {\n    const me: Float32Array = m.elements;\n    this.set(\n      me[0], me[3], me[6],\n      me[1], me[4], me[7],\n      me[2], me[5], me[8]\n    );\n    return this;\n  }\n  setFromMatrix4(m: Matrix4): Matrix3 {\n    const me: Float32Array = m.elements;\n    this.set(\n      me[0], me[4], me[8],\n      me[1], me[5], me[9],\n      me[2], me[6], me[10]\n    );\n    return this;\n  }\n  private static applyToVector3Array_v1 = new Vector3();\n  applyToVector3Array(array: Float32Array | number[], offset: number = 0, length: number = array.length): Float32Array | number[] {\n    const v1 = Matrix3.applyToVector3Array_v1;\n    for (let i = 0, j = offset; i < length; i += 3, j += 3) {\n      v1.fromArray(array, j);\n      v1.applyMatrix3(this);\n      v1.toArray(array, j);\n    }\n    return array;\n  }\n  private static applyToBuffer_v1 = new Vector3();\n  applyToBuffer(buffer: any, offset: number = 0, length: number = buffer.length / buffer.itemSize) {\n    const v1 = Matrix3.applyToBuffer_v1;\n    for (let i = 0, j = offset; i < length; i ++, j ++) {\n      v1.x = buffer.getX(j);\n      v1.y = buffer.getY(j);\n      v1.z = buffer.getZ(j);\n      v1.applyMatrix3(this);\n      buffer.setXYZ(j, v1.x, v1.y, v1.z);\n    }\n    return buffer;\n  }\n  multiplyScalar(s: number): Matrix3 {\n    const te: Float32Array = this.elements;\n    te[0] *= s; te[3] *= s; te[6] *= s;\n    te[1] *= s; te[4] *= s; te[7] *= s;\n    te[2] *= s; te[5] *= s; te[8] *= s;\n    return this;\n  }\n  determinant(): number {\n    const te: Float32Array = this.elements;\n    const a = te[0], b = te[1], c = te[2],\n      d = te[3], e = te[4], f = te[5],\n      g = te[6], h = te[7], i = te[8];\n    return a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n  }\n  getInverse(matrix: Matrix3 = new Matrix3(), throwOnDegenerate: boolean = false): Matrix3 {\n    const me: Float32Array = matrix.elements,\n      te: Float32Array = this.elements,\n      n11 = me[0], n21 = me[1], n31 = me[2],\n      n12 = me[3], n22 = me[4], n32 = me[5],\n      n13 = me[6], n23 = me[7], n33 = me[8],\n      t11 = n33 * n22 - n32 * n23,\n      t12 = n32 * n13 - n33 * n12,\n      t13 = n23 * n12 - n22 * n13,\n      det = n11 * t11 + n21 * t12 + n31 * t13;\n    if (det === 0) {\n      const msg = \"THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0\";\n      if (throwOnDegenerate === true) {\n        throw new Error(msg);\n      } else {\n        console.warn(msg);\n      }\n      return this.identity();\n    }\n    const detInv = 1 / det;\n    te[0] = t11 * detInv;\n    te[1] = (n31 * n23 - n33 * n21) * detInv;\n    te[2] = (n32 * n21 - n31 * n22) * detInv;\n    te[3] = t12 * detInv;\n    te[4] = (n33 * n11 - n31 * n13) * detInv;\n    te[5] = (n31 * n12 - n32 * n11) * detInv;\n    te[6] = t13 * detInv;\n    te[7] = (n21 * n13 - n23 * n11) * detInv;\n    te[8] = (n22 * n11 - n21 * n12) * detInv;\n    return this;\n  }\n  transpose(): Matrix3 {\n    let tmp;\n    const m: Float32Array = this.elements;\n    tmp = m[1]; m[1] = m[3]; m[3] = tmp;\n    tmp = m[2]; m[2] = m[6]; m[6] = tmp;\n    tmp = m[5]; m[5] = m[7]; m[7] = tmp;\n    return this;\n  }\n  flattenToArrayOffset(array: Float32Array | number[] = [], offset: number): Float32Array | number[] {\n    console.warn(\"THREE.Matrix3: .flattenToArrayOffset is deprecated \" +\n        \"- just use .toArray instead.\");\n    return this.toArray(array, offset);\n  }\n  getNormalMatrix(matrix4: Matrix4): Matrix3 {\n    return this.setFromMatrix4(matrix4).getInverse(this).transpose();\n  }\n  transposeIntoArray(r: Float32Array | number[]): Matrix3 {\n    const m: Float32Array = this.elements;\n    r[0] = m[0];\n    r[1] = m[3];\n    r[2] = m[6];\n    r[3] = m[1];\n    r[4] = m[4];\n    r[5] = m[7];\n    r[6] = m[2];\n    r[7] = m[5];\n    r[8] = m[8];\n    return this;\n  }\n  fromArray(array: Float32Array | number[], offset: number = 0): Matrix3 {\n    for (let i = 0; i < 9; i ++) {\n      this.elements[i] = array[i + offset];\n    }\n    return this;\n  }\n  toArray(array: Float32Array | number[] = [], offset: number = 0): Float32Array | number[] {\n    const te: Float32Array = this.elements;\n    array[offset] = te[0];\n    array[offset + 1] = te[1];\n    array[offset + 2] = te[2];\n    array[offset + 3] = te[3];\n    array[offset + 4] = te[4];\n    array[offset + 5] = te[5];\n    array[offset + 6] = te[6];\n    array[offset + 7] = te[7];\n    array[offset + 8]  = te[8];\n    return array;\n  }\n  multiplyVector3(vector: Vector3): Vector3 {\n    console.warn(\"THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3(matrix) instead.\");\n    return vector.applyMatrix3(this);\n  }\n  multiplyVector3Array(a: Float32Array | number[]): Float32Array | number[] {\n    console.warn(\"THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array(array) instead.\");\n    return this.applyToVector3Array(a);\n  }\n}\n","/**\n * Uniform Utilities\n */\nimport { Color } from \"../../math/Color\";\nimport { Vector2 } from \"../../math/Vector2\";\nimport { Vector3 } from \"../../math/Vector3\";\nimport { Vector4 } from \"../../math/Vector4\";\nimport { Matrix3 } from \"../../math/Matrix3\";\nimport { Matrix4 } from \"../../math/Matrix4\";\nimport { Texture } from \"../../textures/Texture\";\nexport class UniformsUtils {\n  static merge(uniforms: any): any {\n    const merged = {};\n    for (let u = 0; u < uniforms.length; u ++) {\n      const tmp = UniformsUtils.clone(uniforms[u]);\n      for (let p in tmp) {\n        merged[p] = tmp[p];\n      }\n    }\n    return merged;\n  }\n  static clone(uniforms_src: any): any {\n    const uniforms_dst = {};\n    for (let u in uniforms_src) {\n      uniforms_dst[u] = {};\n      for (let p in uniforms_src[u]) {\n        const parameter_src = uniforms_src[u][p];\n        if (parameter_src && (parameter_src instanceof Color ||\n          parameter_src instanceof Matrix3 || parameter_src instanceof Matrix4 ||\n          parameter_src instanceof Vector2 || parameter_src instanceof Vector3 || parameter_src instanceof Vector4 ||\n          parameter_src instanceof Texture)) {\n          uniforms_dst[u][p] = parameter_src.clone();\n        } else if (Array.isArray(parameter_src)) {\n          uniforms_dst[u][p] = parameter_src.slice();\n        } else {\n          uniforms_dst[u][p] = parameter_src;\n        }\n      }\n    }\n    return uniforms_dst;\n  }\n}\n","export default [\n\"#ifdef USE_ALPHAMAP\",\n\"\",\n\"\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_ALPHAMAP\",\n\"\",\n\"\tuniform sampler2D alphaMap;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef ALPHATEST\",\n\"\",\n\"\tif ( diffuseColor.a < ALPHATEST ) discard;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_AOMAP\",\n\"\",\n\"\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\",\n\"\",\n\"\treflectedLight.indirectDiffuse *= ambientOcclusion;\",\n\"\",\n\"\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\",\n\"\",\n\"\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\",\n\"\",\n\"\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\",\n\"\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_AOMAP\",\n\"\",\n\"\tuniform sampler2D aoMap;\",\n\"\tuniform float aoMapIntensity;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"\",\n\"vec3 transformed = vec3( position );\",\n\"\",\n].join('\\n');","export default [\n\"\",\n\"vec3 objectNormal = vec3( normal );\",\n\"\",\n].join('\\n');","export default [\n\"bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\",\n\"\",\n\"\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\",\n\"\",\n\"}\",\n\"\",\n\"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\",\n\"\",\n\"\t\tif( decayExponent > 0.0 ) {\",\n\"\",\n\"#if defined ( PHYSICALLY_CORRECT_LIGHTS )\",\n\"\",\n\"\t\t\t// based upon Frostbite 3 Moving to Physically-based Rendering\",\n\"\t\t\t// page 32, equation 26: E[window1]\",\n\"\t\t\t// http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr_v2.pdf\",\n\"\t\t\t// this is intended to be used on spot and point lights who are represented as luminous intensity\",\n\"\t\t\t// but who must be converted to luminous irradiance for surface lighting calculation\",\n\"\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\",\n\"\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\",\n\"\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\",\n\"\",\n\"#else\",\n\"\",\n\"\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\",\n\"\",\n\"#endif\",\n\"\",\n\"\t\t}\",\n\"\",\n\"\t\treturn 1.0;\",\n\"}\",\n\"\",\n\"vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\",\n\"\",\n\"\treturn RECIPROCAL_PI * diffuseColor;\",\n\"\",\n\"} // validated\",\n\"\",\n\"\",\n\"vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\",\n\"\",\n\"\t// Original approximation by Christophe Schlick '94\",\n\"\t//;float fresnel = pow( 1.0 - dotLH, 5.0 );\",\n\"\",\n\"\t// Optimized variant (presented by Epic at SIGGRAPH '13)\",\n\"\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\",\n\"\",\n\"\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\",\n\"\",\n\"} // validated\",\n\"\",\n\"\",\n\"// Microfacet Models for Refraction through Rough Surfaces - equation (34)\",\n\"// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\",\n\"// alpha is \\\"roughness squared\\\" in Disney’s reparameterization\",\n\"float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\",\n\"\",\n\"\t// geometry term = G(l)⋅G(v) / 4(n⋅l)(n⋅v)\",\n\"\",\n\"\tfloat a2 = pow2( alpha );\",\n\"\",\n\"\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\",\n\"\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\",\n\"\",\n\"\treturn 1.0 / ( gl * gv );\",\n\"\",\n\"} // validated\",\n\"\",\n\"// from page 12, listing 2 of http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr_v2.pdf\",\n\"float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\",\n\"\",\n\"\tfloat a2 = pow2( alpha );\",\n\"\",\n\"\t// dotNL and dotNV are explicitly swapped. This is not a mistake.\",\n\"\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\",\n\"\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\",\n\"\",\n\"\treturn 0.5 / max( gv + gl, EPSILON );\",\n\"}\",\n\"\",\n\"\",\n\"\",\n\"// Microfacet Models for Refraction through Rough Surfaces - equation (33)\",\n\"// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\",\n\"// alpha is \\\"roughness squared\\\" in Disney’s reparameterization\",\n\"float D_GGX( const in float alpha, const in float dotNH ) {\",\n\"\",\n\"\tfloat a2 = pow2( alpha );\",\n\"\",\n\"\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1\",\n\"\",\n\"\treturn RECIPROCAL_PI * a2 / pow2( denom );\",\n\"\",\n\"}\",\n\"\",\n\"\",\n\"// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility\",\n\"vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\",\n\"\",\n\"\tfloat alpha = pow2( roughness ); // UE4's roughness\",\n\"\",\n\"\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\",\n\"\",\n\"\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\",\n\"\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\",\n\"\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\",\n\"\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\",\n\"\",\n\"\tvec3 F = F_Schlick( specularColor, dotLH );\",\n\"\",\n\"\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\",\n\"\",\n\"\tfloat D = D_GGX( alpha, dotNH );\",\n\"\",\n\"\treturn F * ( G * D );\",\n\"\",\n\"} // validated\",\n\"\",\n\"\",\n\"// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\",\n\"vec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\",\n\"\",\n\"\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\",\n\"\",\n\"\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\",\n\"\",\n\"\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\",\n\"\",\n\"\tvec4 r = roughness * c0 + c1;\",\n\"\",\n\"\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\",\n\"\",\n\"\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\",\n\"\",\n\"\treturn specularColor * AB.x + AB.y;\",\n\"\",\n\"} // validated\",\n\"\",\n\"\",\n\"float G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {\",\n\"\",\n\"\t// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\",\n\"\treturn 0.25;\",\n\"\",\n\"}\",\n\"\",\n\"float D_BlinnPhong( const in float shininess, const in float dotNH ) {\",\n\"\",\n\"\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\",\n\"\",\n\"}\",\n\"\",\n\"vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\",\n\"\",\n\"\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\",\n\"\",\n\"\t//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\",\n\"\t//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\",\n\"\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\",\n\"\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\",\n\"\",\n\"\tvec3 F = F_Schlick( specularColor, dotLH );\",\n\"\",\n\"\tfloat G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\",\n\"\",\n\"\tfloat D = D_BlinnPhong( shininess, dotNH );\",\n\"\",\n\"\treturn F * ( G * D );\",\n\"\",\n\"} // validated\",\n\"\",\n\"// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html\",\n\"float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\",\n\"\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\",\n\"}\",\n\"\",\n\"float BlinnExponentToGGXRoughness( const in float blinnExponent ) {\",\n\"\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_BUMPMAP\",\n\"\",\n\"\tuniform sampler2D bumpMap;\",\n\"\tuniform float bumpScale;\",\n\"\",\n\"\t// Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen\",\n\"\t// http://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html\",\n\"\",\n\"\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\",\n\"\",\n\"\tvec2 dHdxy_fwd() {\",\n\"\",\n\"\t\tvec2 dSTdx = dFdx( vUv );\",\n\"\t\tvec2 dSTdy = dFdy( vUv );\",\n\"\",\n\"\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\",\n\"\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\",\n\"\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\",\n\"\",\n\"\t\treturn vec2( dBx, dBy );\",\n\"\",\n\"\t}\",\n\"\",\n\"\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\",\n\"\",\n\"\t\tvec3 vSigmaX = dFdx( surf_pos );\",\n\"\t\tvec3 vSigmaY = dFdy( surf_pos );\",\n\"\t\tvec3 vN = surf_norm;\t\t// normalized\",\n\"\",\n\"\t\tvec3 R1 = cross( vSigmaY, vN );\",\n\"\t\tvec3 R2 = cross( vN, vSigmaX );\",\n\"\",\n\"\t\tfloat fDet = dot( vSigmaX, R1 );\",\n\"\",\n\"\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\",\n\"\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#if NUM_CLIPPING_PLANES > 0\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\",\n\"\",\n\"\t\tvec4 plane = clippingPlanes[ i ];\",\n\"\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#if NUM_CLIPPING_PLANES > 0\",\n\"\",\n\"\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\",\n\"\t\tvarying vec3 vViewPosition;\",\n\"\t#endif\",\n\"\",\n\"\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\",\n\"\tvarying vec3 vViewPosition;\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\",\n\"\tvViewPosition = - mvPosition.xyz;\",\n\"#endif\",\n\"\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_COLOR\",\n\"\",\n\"\tdiffuseColor.rgb *= vColor;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#ifdef USE_COLOR\",\n\"\",\n\"\tvarying vec3 vColor;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_COLOR\",\n\"\",\n\"\tvarying vec3 vColor;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#ifdef USE_COLOR\",\n\"\",\n\"\tvColor.xyz = color.xyz;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#define PI 3.14159265359\",\n\"#define PI2 6.28318530718\",\n\"#define RECIPROCAL_PI 0.31830988618\",\n\"#define RECIPROCAL_PI2 0.15915494\",\n\"#define LOG2 1.442695\",\n\"#define EPSILON 1e-6\",\n\"\",\n\"#define saturate(a) clamp( a, 0.0, 1.0 )\",\n\"#define whiteCompliment(a) ( 1.0 - saturate( a ) )\",\n\"\",\n\"float pow2( const in float x ) { return x*x; }\",\n\"float pow3( const in float x ) { return x*x*x; }\",\n\"float pow4( const in float x ) { float x2 = x*x; return x2*x2; }\",\n\"float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\",\n\"// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.\",\n\"// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\",\n\"highp float rand( const in vec2 uv ) {\",\n\"\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\",\n\"\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\",\n\"\treturn fract(sin(sn) * c);\",\n\"}\",\n\"\",\n\"struct IncidentLight {\",\n\"\tvec3 color;\",\n\"\tvec3 direction;\",\n\"\tbool visible;\",\n\"};\",\n\"\",\n\"struct ReflectedLight {\",\n\"\tvec3 directDiffuse;\",\n\"\tvec3 directSpecular;\",\n\"\tvec3 indirectDiffuse;\",\n\"\tvec3 indirectSpecular;\",\n\"};\",\n\"\",\n\"struct GeometricContext {\",\n\"\tvec3 position;\",\n\"\tvec3 normal;\",\n\"\tvec3 viewDir;\",\n\"};\",\n\"\",\n\"\",\n\"vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\",\n\"\",\n\"\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\",\n\"\",\n\"}\",\n\"\",\n\"// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\",\n\"vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\",\n\"\",\n\"\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\",\n\"\",\n\"}\",\n\"\",\n\"vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\",\n\"\",\n\"\tfloat distance = dot( planeNormal, point - pointOnPlane );\",\n\"\",\n\"\treturn - distance * planeNormal + point;\",\n\"\",\n\"}\",\n\"\",\n\"float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\",\n\"\",\n\"\treturn sign( dot( point - pointOnPlane, planeNormal ) );\",\n\"\",\n\"}\",\n\"\",\n\"vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\",\n\"\",\n\"\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef ENVMAP_TYPE_CUBE_UV\",\n\"\",\n\"#define cubeUV_textureSize (1024.0)\",\n\"\",\n\"int getFaceFromDirection(vec3 direction) {\",\n\"\tvec3 absDirection = abs(direction);\",\n\"\tint face = -1;\",\n\"\tif( absDirection.x > absDirection.z ) {\",\n\"\t\tif(absDirection.x > absDirection.y )\",\n\"\t\t\tface = direction.x > 0.0 ? 0 : 3;\",\n\"\t\telse\",\n\"\t\t\tface = direction.y > 0.0 ? 1 : 4;\",\n\"\t}\",\n\"\telse {\",\n\"\t\tif(absDirection.z > absDirection.y )\",\n\"\t\t\tface = direction.z > 0.0 ? 2 : 5;\",\n\"\t\telse\",\n\"\t\t\tface = direction.y > 0.0 ? 1 : 4;\",\n\"\t}\",\n\"\treturn face;\",\n\"}\",\n\"#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\",\n\"#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\",\n\"\",\n\"vec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\",\n\"\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\",\n\"\tfloat dxRoughness = dFdx(roughness);\",\n\"\tfloat dyRoughness = dFdy(roughness);\",\n\"\tvec3 dx = dFdx( vec * scale * dxRoughness );\",\n\"\tvec3 dy = dFdy( vec * scale * dyRoughness );\",\n\"\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\",\n\"\t// Clamp the value to the max mip level counts. hard coded to 6 mips\",\n\"\td = clamp(d, 1.0, cubeUV_rangeClamp);\",\n\"\tfloat mipLevel = 0.5 * log2(d);\",\n\"\treturn vec2(floor(mipLevel), fract(mipLevel));\",\n\"}\",\n\"\",\n\"#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\",\n\"#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\",\n\"\",\n\"vec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\",\n\"\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\",\n\"\tfloat a = 16.0 * cubeUV_rcpTextureSize;\",\n\"\",\n\"\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\",\n\"\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\",\n\"\t// float powScale = exp2(roughnessLevel + mipLevel);\",\n\"\tfloat powScale = exp2_packed.x * exp2_packed.y;\",\n\"\t// float scale =  1.0 / exp2(roughnessLevel + 2.0 + mipLevel);\",\n\"\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\",\n\"\t// float mipOffset = 0.75*(1.0 - 1.0/exp2(mipLevel))/exp2(roughnessLevel);\",\n\"\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\",\n\"\",\n\"\tbool bRes = mipLevel == 0.0;\",\n\"\tscale =  bRes && (scale < a) ? a : scale;\",\n\"\",\n\"\tvec3 r;\",\n\"\tvec2 offset;\",\n\"\tint face = getFaceFromDirection(direction);\",\n\"\",\n\"\tfloat rcpPowScale = 1.0 / powScale;\",\n\"\",\n\"\tif( face == 0) {\",\n\"\t\tr = vec3(direction.x, -direction.z, direction.y);\",\n\"\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\",\n\"\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\",\n\"\t}\",\n\"\telse if( face == 1) {\",\n\"\t\tr = vec3(direction.y, direction.x, direction.z);\",\n\"\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\",\n\"\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\",\n\"\t}\",\n\"\telse if( face == 2) {\",\n\"\t\tr = vec3(direction.z, direction.x, direction.y);\",\n\"\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\",\n\"\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\",\n\"\t}\",\n\"\telse if( face == 3) {\",\n\"\t\tr = vec3(direction.x, direction.z, direction.y);\",\n\"\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\",\n\"\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\",\n\"\t}\",\n\"\telse if( face == 4) {\",\n\"\t\tr = vec3(direction.y, direction.x, -direction.z);\",\n\"\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\",\n\"\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\",\n\"\t}\",\n\"\telse {\",\n\"\t\tr = vec3(direction.z, -direction.x, direction.y);\",\n\"\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\",\n\"\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\",\n\"\t}\",\n\"\tr = normalize(r);\",\n\"\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\",\n\"\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\",\n\"\tvec2 base = offset + vec2( texelOffset );\",\n\"\treturn base + s * ( scale - 2.0 * texelOffset );\",\n\"}\",\n\"\",\n\"#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\",\n\"\",\n\"vec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\",\n\"\tfloat roughnessVal = roughness* cubeUV_maxLods3;\",\n\"\tfloat r1 = floor(roughnessVal);\",\n\"\tfloat r2 = r1 + 1.0;\",\n\"\tfloat t = fract(roughnessVal);\",\n\"\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\",\n\"\tfloat s = mipInfo.y;\",\n\"\tfloat level0 = mipInfo.x;\",\n\"\tfloat level1 = level0 + 1.0;\",\n\"\tlevel1 = level1 > 5.0 ? 5.0 : level1;\",\n\"\",\n\"\t// round to nearest mipmap if we are not interpolating.\",\n\"\tlevel0 += min( floor( s + 0.5 ), 5.0 );\",\n\"\",\n\"\t// Tri linear interpolation.\",\n\"\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\",\n\"\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\",\n\"\",\n\"\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\",\n\"\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\",\n\"\",\n\"\tvec4 result = mix(color10, color20, t);\",\n\"\",\n\"\treturn vec4(result.rgb, 1.0);\",\n\"}\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef FLIP_SIDED\",\n\"\",\n\"\tobjectNormal = -objectNormal;\",\n\"\",\n\"#endif\",\n\"\",\n\"vec3 transformedNormal = normalMatrix * objectNormal;\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_DISPLACEMENTMAP\",\n\"\",\n\"\tuniform sampler2D displacementMap;\",\n\"\tuniform float displacementScale;\",\n\"\tuniform float displacementBias;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_DISPLACEMENTMAP\",\n\"\",\n\"\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_EMISSIVEMAP\",\n\"\",\n\"\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\",\n\"\",\n\"\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\",\n\"\",\n\"\ttotalEmissiveRadiance *= emissiveColor.rgb;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_EMISSIVEMAP\",\n\"\",\n\"\tuniform sampler2D emissiveMap;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"  gl_FragColor = linearToOutputTexel( gl_FragColor );\",\n\"\",\n].join('\\n');","export default [\n\"// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/\",\n\"\",\n\"vec4 LinearToLinear( in vec4 value ) {\",\n\"  return value;\",\n\"}\",\n\"\",\n\"vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\",\n\"  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\",\n\"}\",\n\"vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\",\n\"  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\",\n\"}\",\n\"\",\n\"vec4 sRGBToLinear( in vec4 value ) {\",\n\"  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\",\n\"}\",\n\"vec4 LinearTosRGB( in vec4 value ) {\",\n\"  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\",\n\"}\",\n\"\",\n\"vec4 RGBEToLinear( in vec4 value ) {\",\n\"  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\",\n\"}\",\n\"vec4 LinearToRGBE( in vec4 value ) {\",\n\"  float maxComponent = max( max( value.r, value.g ), value.b );\",\n\"  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\",\n\"  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\",\n\"//  return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );\",\n\"}\",\n\"\",\n\"// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\",\n\"vec4 RGBMToLinear( in vec4 value, in float maxRange ) {\",\n\"  return vec4( value.xyz * value.w * maxRange, 1.0 );\",\n\"}\",\n\"vec4 LinearToRGBM( in vec4 value, in float maxRange ) {\",\n\"  float maxRGB = max( value.x, max( value.g, value.b ) );\",\n\"  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\",\n\"  M            = ceil( M * 255.0 ) / 255.0;\",\n\"  return vec4( value.rgb / ( M * maxRange ), M );\",\n\"}\",\n\"\",\n\"// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\",\n\"vec4 RGBDToLinear( in vec4 value, in float maxRange ) {\",\n\"    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\",\n\"}\",\n\"vec4 LinearToRGBD( in vec4 value, in float maxRange ) {\",\n\"    float maxRGB = max( value.x, max( value.g, value.b ) );\",\n\"    float D      = max( maxRange / maxRGB, 1.0 );\",\n\"    D            = min( floor( D ) / 255.0, 1.0 );\",\n\"    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\",\n\"}\",\n\"\",\n\"// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html\",\n\"\",\n\"// M matrix, for encoding\",\n\"const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\",\n\"vec4 LinearToLogLuv( in vec4 value )  {\",\n\"  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\",\n\"  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\",\n\"  vec4 vResult;\",\n\"  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\",\n\"  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\",\n\"  vResult.w = fract(Le);\",\n\"  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\",\n\"  return vResult;\",\n\"}\",\n\"\",\n\"// Inverse M matrix, for decoding\",\n\"const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\",\n\"vec4 LogLuvToLinear( in vec4 value ) {\",\n\"  float Le = value.z * 255.0 + value.w;\",\n\"  vec3 Xp_Y_XYZp;\",\n\"  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\",\n\"  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\",\n\"  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\",\n\"  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\",\n\"  return vec4( max(vRGB, 0.0), 1.0 );\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_ENVMAP\",\n\"\",\n\"\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\",\n\"\",\n\"\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\",\n\"\",\n\"\t\t// Transforming Normal Vectors with the Inverse Transformation\",\n\"\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\",\n\"\",\n\"\t\t#ifdef ENVMAP_MODE_REFLECTION\",\n\"\",\n\"\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\",\n\"\",\n\"\t\t#else\",\n\"\",\n\"\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\",\n\"\",\n\"\t\t#endif\",\n\"\",\n\"\t#else\",\n\"\",\n\"\t\tvec3 reflectVec = vReflect;\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#ifdef ENVMAP_TYPE_CUBE\",\n\"\",\n\"\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\",\n\"\",\n\"\t#elif defined( ENVMAP_TYPE_EQUIREC )\",\n\"\",\n\"\t\tvec2 sampleUV;\",\n\"\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\",\n\"\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\",\n\"\t\tvec4 envColor = texture2D( envMap, sampleUV );\",\n\"\",\n\"\t#elif defined( ENVMAP_TYPE_SPHERE )\",\n\"\",\n\"\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\",\n\"\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\",\n\"\",\n\"\t#else\",\n\"\",\n\"\t\tvec4 envColor = vec4( 0.0 );\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\tenvColor = envMapTexelToLinear( envColor );\",\n\"\",\n\"\t#ifdef ENVMAP_BLENDING_MULTIPLY\",\n\"\",\n\"\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\",\n\"\",\n\"\t#elif defined( ENVMAP_BLENDING_MIX )\",\n\"\",\n\"\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\",\n\"\",\n\"\t#elif defined( ENVMAP_BLENDING_ADD )\",\n\"\",\n\"\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\",\n\"\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\",\n\"\tuniform float reflectivity;\",\n\"\tuniform float envMapIntenstiy;\",\n\"#endif\",\n\"\",\n\"#ifdef USE_ENVMAP\",\n\"\",\n\"\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\",\n\"\t\tvarying vec3 vWorldPosition;\",\n\"\t#endif\",\n\"\",\n\"\t#ifdef ENVMAP_TYPE_CUBE\",\n\"\t\tuniform samplerCube envMap;\",\n\"\t#else\",\n\"\t\tuniform sampler2D envMap;\",\n\"\t#endif\",\n\"\tuniform float flipEnvMap;\",\n\"\",\n\"\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\",\n\"\t\tuniform float refractionRatio;\",\n\"\t#else\",\n\"\t\tvarying vec3 vReflect;\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_ENVMAP\",\n\"\",\n\"\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\",\n\"\t\tvarying vec3 vWorldPosition;\",\n\"\",\n\"\t#else\",\n\"\",\n\"\t\tvarying vec3 vReflect;\",\n\"\t\tuniform float refractionRatio;\",\n\"\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_ENVMAP\",\n\"\",\n\"\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\",\n\"\",\n\"\t\tvWorldPosition = worldPosition.xyz;\",\n\"\",\n\"\t#else\",\n\"\",\n\"\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\",\n\"\",\n\"\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\",\n\"\",\n\"\t\t#ifdef ENVMAP_MODE_REFLECTION\",\n\"\",\n\"\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\",\n\"\",\n\"\t\t#else\",\n\"\",\n\"\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\",\n\"\",\n\"\t\t#endif\",\n\"\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_FOG\",\n\"\",\n\"\t#ifdef USE_LOGDEPTHBUF_EXT\",\n\"\",\n\"\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\",\n\"\",\n\"\t#else\",\n\"\",\n\"\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#ifdef FOG_EXP2\",\n\"\",\n\"\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\",\n\"\",\n\"\t#else\",\n\"\",\n\"\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_FOG\",\n\"\",\n\"\tuniform vec3 fogColor;\",\n\"\",\n\"\t#ifdef FOG_EXP2\",\n\"\",\n\"\t\tuniform float fogDensity;\",\n\"\",\n\"\t#else\",\n\"\",\n\"\t\tuniform float fogNear;\",\n\"\t\tuniform float fogFar;\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#ifdef USE_LIGHTMAP\",\n\"\",\n\"\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity; // factor of PI should not be present; included here to prevent breakage\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_LIGHTMAP\",\n\"\",\n\"\tuniform sampler2D lightMap;\",\n\"\tuniform float lightMapIntensity;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"vec3 diffuse = vec3( 1.0 );\",\n\"\",\n\"GeometricContext geometry;\",\n\"geometry.position = mvPosition.xyz;\",\n\"geometry.normal = normalize( transformedNormal );\",\n\"geometry.viewDir = normalize( -mvPosition.xyz );\",\n\"\",\n\"GeometricContext backGeometry;\",\n\"backGeometry.position = geometry.position;\",\n\"backGeometry.normal = -geometry.normal;\",\n\"backGeometry.viewDir = geometry.viewDir;\",\n\"\",\n\"vLightFront = vec3( 0.0 );\",\n\"\",\n\"#ifdef DOUBLE_SIDED\",\n\"\tvLightBack = vec3( 0.0 );\",\n\"#endif\",\n\"\",\n\"IncidentLight directLight;\",\n\"float dotNL;\",\n\"vec3 directLightColor_Diffuse;\",\n\"\",\n\"#if NUM_POINT_LIGHTS > 0\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\",\n\"\",\n\"\t\tdotNL = dot( geometry.normal, directLight.direction );\",\n\"\t\tdirectLightColor_Diffuse = PI * directLight.color;\",\n\"\",\n\"\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\",\n\"\",\n\"\t\t#ifdef DOUBLE_SIDED\",\n\"\",\n\"\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\",\n\"\",\n\"\t\t#endif\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n\"#if NUM_SPOT_LIGHTS > 0\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\",\n\"\",\n\"\t\tdotNL = dot( geometry.normal, directLight.direction );\",\n\"\t\tdirectLightColor_Diffuse = PI * directLight.color;\",\n\"\",\n\"\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\",\n\"\",\n\"\t\t#ifdef DOUBLE_SIDED\",\n\"\",\n\"\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\",\n\"\",\n\"\t\t#endif\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n\"#if NUM_DIR_LIGHTS > 0\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\",\n\"\",\n\"\t\tdotNL = dot( geometry.normal, directLight.direction );\",\n\"\t\tdirectLightColor_Diffuse = PI * directLight.color;\",\n\"\",\n\"\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\",\n\"\",\n\"\t\t#ifdef DOUBLE_SIDED\",\n\"\",\n\"\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\",\n\"\",\n\"\t\t#endif\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n\"#if NUM_HEMI_LIGHTS > 0\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\",\n\"\",\n\"\t\t#ifdef DOUBLE_SIDED\",\n\"\",\n\"\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\",\n\"\",\n\"\t\t#endif\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"uniform vec3 ambientLightColor;\",\n\"\",\n\"vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\",\n\"\",\n\"\tvec3 irradiance = ambientLightColor;\",\n\"\",\n\"\t#ifndef PHYSICALLY_CORRECT_LIGHTS\",\n\"\",\n\"\t\tirradiance *= PI;\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\treturn irradiance;\",\n\"\",\n\"}\",\n\"\",\n\"#if NUM_DIR_LIGHTS > 0\",\n\"\",\n\"\tstruct DirectionalLight {\",\n\"\t\tvec3 direction;\",\n\"\t\tvec3 color;\",\n\"\",\n\"\t\tint shadow;\",\n\"\t\tfloat shadowBias;\",\n\"\t\tfloat shadowRadius;\",\n\"\t\tvec2 shadowMapSize;\",\n\"\t};\",\n\"\",\n\"\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\",\n\"\",\n\"\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\",\n\"\",\n\"\t\tdirectLight.color = directionalLight.color;\",\n\"\t\tdirectLight.direction = directionalLight.direction;\",\n\"\t\tdirectLight.visible = true;\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n\"\",\n\"#if NUM_POINT_LIGHTS > 0\",\n\"\",\n\"\tstruct PointLight {\",\n\"\t\tvec3 position;\",\n\"\t\tvec3 color;\",\n\"\t\tfloat distance;\",\n\"\t\tfloat decay;\",\n\"\",\n\"\t\tint shadow;\",\n\"\t\tfloat shadowBias;\",\n\"\t\tfloat shadowRadius;\",\n\"\t\tvec2 shadowMapSize;\",\n\"\t};\",\n\"\",\n\"\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\",\n\"\",\n\"\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\",\n\"\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\",\n\"\",\n\"\t\tvec3 lVector = pointLight.position - geometry.position;\",\n\"\t\tdirectLight.direction = normalize( lVector );\",\n\"\",\n\"\t\tfloat lightDistance = length( lVector );\",\n\"\",\n\"\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\",\n\"\",\n\"\t\t\tdirectLight.color = pointLight.color;\",\n\"\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\",\n\"\",\n\"\t\t\tdirectLight.visible = true;\",\n\"\",\n\"\t\t} else {\",\n\"\",\n\"\t\t\tdirectLight.color = vec3( 0.0 );\",\n\"\t\t\tdirectLight.visible = false;\",\n\"\",\n\"\t\t}\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n\"\",\n\"#if NUM_SPOT_LIGHTS > 0\",\n\"\",\n\"\tstruct SpotLight {\",\n\"\t\tvec3 position;\",\n\"\t\tvec3 direction;\",\n\"\t\tvec3 color;\",\n\"\t\tfloat distance;\",\n\"\t\tfloat decay;\",\n\"\t\tfloat coneCos;\",\n\"\t\tfloat penumbraCos;\",\n\"\",\n\"\t\tint shadow;\",\n\"\t\tfloat shadowBias;\",\n\"\t\tfloat shadowRadius;\",\n\"\t\tvec2 shadowMapSize;\",\n\"\t};\",\n\"\",\n\"\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\",\n\"\",\n\"\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\",\n\"\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\",\n\"\",\n\"\t\tvec3 lVector = spotLight.position - geometry.position;\",\n\"\t\tdirectLight.direction = normalize( lVector );\",\n\"\",\n\"\t\tfloat lightDistance = length( lVector );\",\n\"\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\",\n\"\",\n\"\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\",\n\"\",\n\"\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\",\n\"\",\n\"\t\t\tdirectLight.color = spotLight.color;\",\n\"\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\",\n\"\",\n\"\t\t\tdirectLight.visible = true;\",\n\"\",\n\"\t\t} else {\",\n\"\",\n\"\t\t\tdirectLight.color = vec3( 0.0 );\",\n\"\t\t\tdirectLight.visible = false;\",\n\"\",\n\"\t\t}\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n\"\",\n\"#if NUM_HEMI_LIGHTS > 0\",\n\"\",\n\"\tstruct HemisphereLight {\",\n\"\t\tvec3 direction;\",\n\"\t\tvec3 skyColor;\",\n\"\t\tvec3 groundColor;\",\n\"\t};\",\n\"\",\n\"\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\",\n\"\",\n\"\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\",\n\"\",\n\"\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\",\n\"\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\",\n\"\",\n\"\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\",\n\"\",\n\"\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\",\n\"\",\n\"\t\t\tirradiance *= PI;\",\n\"\",\n\"\t\t#endif\",\n\"\",\n\"\t\treturn irradiance;\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n\"\",\n\"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\",\n\"\",\n\"\tvec3 getLightProbeIndirectIrradiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in int maxMIPLevel ) {\",\n\"\",\n\"\t\t#include <normal_flip>\",\n\"\",\n\"\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\",\n\"\",\n\"\t\t#ifdef ENVMAP_TYPE_CUBE\",\n\"\",\n\"\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\",\n\"\",\n\"\t\t\t// TODO: replace with properly filtered cubemaps and access the irradiance LOD level, be it the last LOD level\",\n\"\t\t\t// of a specular cubemap, or just the default level of a specially created irradiance cubemap.\",\n\"\",\n\"\t\t\t#ifdef TEXTURE_LOD_EXT\",\n\"\",\n\"\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\",\n\"\",\n\"\t\t\t#else\",\n\"\",\n\"\t\t\t\t// force the bias high to get the last LOD level as it is the most blurred.\",\n\"\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\",\n\"\",\n\"\t\t\t#endif\",\n\"\",\n\"\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\",\n\"\",\n\"\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\",\n\"\",\n\"\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\",\n\"\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\",\n\"\",\n\"\t\t#else\",\n\"\",\n\"\t\t\tvec4 envMapColor = vec4( 0.0 );\",\n\"\",\n\"\t\t#endif\",\n\"\",\n\"\t\treturn PI * envMapColor.rgb * envMapIntensity;\",\n\"\",\n\"\t}\",\n\"\",\n\"\t// taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\",\n\"\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\",\n\"\",\n\"\t\t//float envMapWidth = pow( 2.0, maxMIPLevelScalar );\",\n\"\t\t//float desiredMIPLevel = log2( envMapWidth * sqrt( 3.0 ) ) - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\",\n\"\",\n\"\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\",\n\"\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\",\n\"\",\n\"\t\t// clamp to allowable LOD ranges.\",\n\"\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\",\n\"\",\n\"\t}\",\n\"\",\n\"\tvec3 getLightProbeIndirectRadiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\",\n\"\",\n\"\t\t#ifdef ENVMAP_MODE_REFLECTION\",\n\"\",\n\"\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\",\n\"\",\n\"\t\t#else\",\n\"\",\n\"\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\",\n\"\",\n\"\t\t#endif\",\n\"\",\n\"\t\t#include <normal_flip>\",\n\"\",\n\"\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\",\n\"\",\n\"\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\",\n\"\",\n\"\t\t#ifdef ENVMAP_TYPE_CUBE\",\n\"\",\n\"\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\",\n\"\",\n\"\t\t\t#ifdef TEXTURE_LOD_EXT\",\n\"\",\n\"\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\",\n\"\",\n\"\t\t\t#else\",\n\"\",\n\"\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\",\n\"\",\n\"\t\t\t#endif\",\n\"\",\n\"\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\",\n\"\",\n\"\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\",\n\"\",\n\"\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\",\n\"\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\",\n\"\",\n\"\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\",\n\"\",\n\"\t\t\tvec2 sampleUV;\",\n\"\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\",\n\"\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\",\n\"\",\n\"\t\t\t#ifdef TEXTURE_LOD_EXT\",\n\"\",\n\"\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\",\n\"\",\n\"\t\t\t#else\",\n\"\",\n\"\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\",\n\"\",\n\"\t\t\t#endif\",\n\"\",\n\"\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\",\n\"\",\n\"\t\t#elif defined( ENVMAP_TYPE_SPHERE )\",\n\"\",\n\"\t\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\",\n\"\",\n\"\t\t\t#ifdef TEXTURE_LOD_EXT\",\n\"\",\n\"\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\",\n\"\",\n\"\t\t\t#else\",\n\"\",\n\"\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\",\n\"\",\n\"\t\t\t#endif\",\n\"\",\n\"\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\",\n\"\",\n\"\t\t#endif\",\n\"\",\n\"\t\treturn envMapColor.rgb * envMapIntensity;\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"BlinnPhongMaterial material;\",\n\"material.diffuseColor = diffuseColor.rgb;\",\n\"material.specularColor = specular;\",\n\"material.specularShininess = shininess;\",\n\"material.specularStrength = specularStrength;\",\n\"\",\n].join('\\n');","export default [\n\"varying vec3 vViewPosition;\",\n\"\",\n\"#ifndef FLAT_SHADED\",\n\"\",\n\"\tvarying vec3 vNormal;\",\n\"\",\n\"#endif\",\n\"\",\n\"\",\n\"struct BlinnPhongMaterial {\",\n\"\",\n\"\tvec3\tdiffuseColor;\",\n\"\tvec3\tspecularColor;\",\n\"\tfloat\tspecularShininess;\",\n\"\tfloat\tspecularStrength;\",\n\"\",\n\"};\",\n\"\",\n\"void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\",\n\"\",\n\"\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\",\n\"\",\n\"\tvec3 irradiance = dotNL * directLight.color;\",\n\"\",\n\"\t#ifndef PHYSICALLY_CORRECT_LIGHTS\",\n\"\",\n\"\t\tirradiance *= PI; // punctual light\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\",\n\"\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\",\n\"\",\n\"}\",\n\"\",\n\"void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\",\n\"\",\n\"\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\",\n\"\",\n\"}\",\n\"\",\n\"#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\",\n\"#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\",\n\"\",\n\"#define Material_LightProbeLOD( material )\t(0)\",\n\"\",\n].join('\\n');","export default [\n\"PhysicalMaterial material;\",\n\"material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\",\n\"material.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\",\n\"#ifdef STANDARD\",\n\"\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\",\n\"#else\",\n\"\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\",\n\"\tmaterial.clearCoat = saturate( clearCoat ); // Burley clearcoat model\",\n\"\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"struct PhysicalMaterial {\",\n\"\",\n\"\tvec3\tdiffuseColor;\",\n\"\tfloat\tspecularRoughness;\",\n\"\tvec3\tspecularColor;\",\n\"\",\n\"\t#ifndef STANDARD\",\n\"\t\tfloat clearCoat;\",\n\"\t\tfloat clearCoatRoughness;\",\n\"\t#endif\",\n\"\",\n\"};\",\n\"\",\n\"#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\",\n\"#define DEFAULT_SPECULAR_COEFFICIENT 0.04\",\n\"\",\n\"// Clear coat directional hemishperical reflectance (this approximation should be improved)\",\n\"float clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\",\n\"\",\n\"\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\",\n\"\",\n\"}\",\n\"\",\n\"void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\",\n\"\",\n\"\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\",\n\"\",\n\"\tvec3 irradiance = dotNL * directLight.color;\",\n\"\",\n\"\t#ifndef PHYSICALLY_CORRECT_LIGHTS\",\n\"\",\n\"\t\tirradiance *= PI; // punctual light\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#ifndef STANDARD\",\n\"\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\",\n\"\t#else\",\n\"\t\tfloat clearCoatDHR = 0.0;\",\n\"\t#endif\",\n\"\",\n\"\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\",\n\"\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\",\n\"\",\n\"\t#ifndef STANDARD\",\n\"\",\n\"\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\",\n\"\",\n\"\t#endif\",\n\"\",\n\"}\",\n\"\",\n\"void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\",\n\"\",\n\"\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\",\n\"\",\n\"}\",\n\"\",\n\"void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\",\n\"\",\n\"\t#ifndef STANDARD\",\n\"\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\",\n\"\t\tfloat dotNL = dotNV;\",\n\"\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\",\n\"\t#else\",\n\"\t\tfloat clearCoatDHR = 0.0;\",\n\"\t#endif\",\n\"\",\n\"\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\",\n\"\",\n\"\t#ifndef STANDARD\",\n\"\",\n\"\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\",\n\"\",\n\"\t#endif\",\n\"\",\n\"}\",\n\"\",\n\"#define RE_Direct\t\t\t\tRE_Direct_Physical\",\n\"#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\",\n\"#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\",\n\"\",\n\"#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\",\n\"#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\",\n\"\",\n\"// ref: http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr_v2.pdf\",\n\"float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\",\n\"\",\n\"\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"//\",\n\"// This is a template that can be used to light a material, it uses pluggable RenderEquations (RE)\",\n\"//   for specific lighting scenarios.\",\n\"//\",\n\"// Instructions for use:\",\n\"//  - Ensure that both RE_Direct, RE_IndirectDiffuse and RE_IndirectSpecular are defined\",\n\"//  - If you have defined an RE_IndirectSpecular, you need to also provide a Material_LightProbeLOD. <---- ???\",\n\"//  - Create a material parameter that is to be passed as the third parameter to your lighting functions.\",\n\"//\",\n\"// TODO:\",\n\"//  - Add area light support.\",\n\"//  - Add sphere light support.\",\n\"//  - Add diffuse light probe (irradiance cubemap) support.\",\n\"//\",\n\"\",\n\"GeometricContext geometry;\",\n\"\",\n\"geometry.position = - vViewPosition;\",\n\"geometry.normal = normal;\",\n\"geometry.viewDir = normalize( vViewPosition );\",\n\"\",\n\"IncidentLight directLight;\",\n\"\",\n\"#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\",\n\"\",\n\"\tPointLight pointLight;\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\tpointLight = pointLights[ i ];\",\n\"\",\n\"\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\",\n\"\",\n\"\t\t#ifdef USE_SHADOWMAP\",\n\"\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\",\n\"\t\t#endif\",\n\"\",\n\"\t\tRE_Direct( directLight, geometry, material, reflectedLight );\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n\"#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\",\n\"\",\n\"\tSpotLight spotLight;\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\tspotLight = spotLights[ i ];\",\n\"\",\n\"\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\",\n\"\",\n\"\t\t#ifdef USE_SHADOWMAP\",\n\"\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\",\n\"\t\t#endif\",\n\"\",\n\"\t\tRE_Direct( directLight, geometry, material, reflectedLight );\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n\"#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\",\n\"\",\n\"\tDirectionalLight directionalLight;\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\tdirectionalLight = directionalLights[ i ];\",\n\"\",\n\"\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\",\n\"\",\n\"\t\t#ifdef USE_SHADOWMAP\",\n\"\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\",\n\"\t\t#endif\",\n\"\",\n\"\t\tRE_Direct( directLight, geometry, material, reflectedLight );\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n\"#if defined( RE_IndirectDiffuse )\",\n\"\",\n\"\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\",\n\"\",\n\"\t#ifdef USE_LIGHTMAP\",\n\"\",\n\"\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\",\n\"\",\n\"\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\",\n\"\",\n\"\t\t\tlightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage\",\n\"\",\n\"\t\t#endif\",\n\"\",\n\"\t\tirradiance += lightMapIrradiance;\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#if ( NUM_HEMI_LIGHTS > 0 )\",\n\"\",\n\"\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\",\n\"\",\n\"\t\t}\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\",\n\"\",\n\"\t\t// TODO, replace 8 with the real maxMIPLevel\",\n\"\t \tirradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, 8 );\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\",\n\"\",\n\"#endif\",\n\"\",\n\"#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\",\n\"\",\n\"\t// TODO, replace 8 with the real maxMIPLevel\",\n\"\tvec3 radiance = getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry, Material_BlinnShininessExponent( material ), 8 );\",\n\"\",\n\"\t#ifndef STANDARD\",\n\"\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\",\n\"\t#else\",\n\"\t\tvec3 clearCoatRadiance = vec3( 0.0 );\",\n\"\t#endif\",\n\"\t\t\",\n\"\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\",\n\"\",\n\"\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#ifdef USE_LOGDEPTHBUF\",\n\"\",\n\"\tuniform float logDepthBufFC;\",\n\"\",\n\"\t#ifdef USE_LOGDEPTHBUF_EXT\",\n\"\",\n\"\t\tvarying float vFragDepth;\",\n\"\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_LOGDEPTHBUF\",\n\"\",\n\"\t#ifdef USE_LOGDEPTHBUF_EXT\",\n\"\",\n\"\t\tvarying float vFragDepth;\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\tuniform float logDepthBufFC;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#ifdef USE_LOGDEPTHBUF\",\n\"\",\n\"\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\",\n\"\",\n\"\t#ifdef USE_LOGDEPTHBUF_EXT\",\n\"\",\n\"\t\tvFragDepth = 1.0 + gl_Position.w;\",\n\"\",\n\"\t#else\",\n\"\",\n\"\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\",\n\"\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_MAP\",\n\"\",\n\"\tvec4 texelColor = texture2D( map, vUv );\",\n\"\",\n\"\ttexelColor = mapTexelToLinear( texelColor );\",\n\"\tdiffuseColor *= texelColor;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_MAP\",\n\"\",\n\"\tuniform sampler2D map;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_MAP\",\n\"\",\n\"\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\",\n\"\tdiffuseColor *= mapTexelToLinear( mapTexel );\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_MAP\",\n\"\",\n\"\tuniform vec4 offsetRepeat;\",\n\"\tuniform sampler2D map;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"float metalnessFactor = metalness;\",\n\"\",\n\"#ifdef USE_METALNESSMAP\",\n\"\",\n\"\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\",\n\"\tmetalnessFactor *= texelMetalness.r;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_METALNESSMAP\",\n\"\",\n\"\tuniform sampler2D metalnessMap;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#ifdef USE_MORPHNORMALS\",\n\"\",\n\"\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\",\n\"\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\",\n\"\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\",\n\"\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_MORPHTARGETS\",\n\"\",\n\"\t#ifndef USE_MORPHNORMALS\",\n\"\",\n\"\tuniform float morphTargetInfluences[ 8 ];\",\n\"\",\n\"\t#else\",\n\"\",\n\"\tuniform float morphTargetInfluences[ 4 ];\",\n\"\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#ifdef USE_MORPHTARGETS\",\n\"\",\n\"\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\",\n\"\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\",\n\"\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\",\n\"\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\",\n\"\",\n\"\t#ifndef USE_MORPHNORMALS\",\n\"\",\n\"\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\",\n\"\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\",\n\"\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\",\n\"\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\",\n\"\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef DOUBLE_SIDED\",\n\"\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\",\n\"#else\",\n\"\tfloat flipNormal = 1.0;\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef FLAT_SHADED\",\n\"\",\n\"\t// Workaround for Adreno/Nexus5 not able able to do dFdx( vViewPosition ) ...\",\n\"\",\n\"\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\",\n\"\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\",\n\"\tvec3 normal = normalize( cross( fdx, fdy ) );\",\n\"\",\n\"#else\",\n\"\",\n\"\tvec3 normal = normalize( vNormal ) * flipNormal;\",\n\"\",\n\"#endif\",\n\"\",\n\"#ifdef USE_NORMALMAP\",\n\"\",\n\"\tnormal = perturbNormal2Arb( -vViewPosition, normal );\",\n\"\",\n\"#elif defined( USE_BUMPMAP )\",\n\"\",\n\"\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_NORMALMAP\",\n\"\",\n\"\tuniform sampler2D normalMap;\",\n\"\tuniform vec2 normalScale;\",\n\"\",\n\"\t// Per-Pixel Tangent Space Normal Mapping\",\n\"\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\",\n\"\",\n\"\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\",\n\"\",\n\"\t\tvec3 q0 = dFdx( eye_pos.xyz );\",\n\"\t\tvec3 q1 = dFdy( eye_pos.xyz );\",\n\"\t\tvec2 st0 = dFdx( vUv.st );\",\n\"\t\tvec2 st1 = dFdy( vUv.st );\",\n\"\",\n\"\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\",\n\"\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\",\n\"\t\tvec3 N = normalize( surf_norm );\",\n\"\",\n\"\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\",\n\"\t\tmapN.xy = normalScale * mapN.xy;\",\n\"\t\tmat3 tsn = mat3( S, T, N );\",\n\"\t\treturn normalize( tsn * mapN );\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"vec3 packNormalToRGB( const in vec3 normal ) {\",\n\"  return normalize( normal ) * 0.5 + 0.5;\",\n\"}\",\n\"\",\n\"vec3 unpackRGBToNormal( const in vec3 rgb ) {\",\n\"  return 1.0 - 2.0 * rgb.xyz;\",\n\"}\",\n\"\",\n\"const float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)\",\n\"const float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)\",\n\"\",\n\"const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\",\n\"const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\",\n\"\",\n\"const float ShiftRight8 = 1. / 256.;\",\n\"\",\n\"vec4 packDepthToRGBA( const in float v ) {\",\n\"\",\n\"\tvec4 r = vec4( fract( v * PackFactors ), v );\",\n\"\tr.yzw -= r.xyz * ShiftRight8; // tidy overflow\",\n\"\treturn r * PackUpscale;\",\n\"\",\n\"}\",\n\"\",\n\"float unpackRGBAToDepth( const in vec4 v ) {\",\n\"\",\n\"\treturn dot( v, UnpackFactors );\",\n\"\",\n\"}\",\n\"\",\n\"// NOTE: viewZ/eyeZ is < 0 when in front of the camera per OpenGL conventions\",\n\"\",\n\"float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\",\n\"  return ( viewZ + near ) / ( near - far );\",\n\"}\",\n\"float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\",\n\"  return linearClipZ * ( near - far ) - near;\",\n\"}\",\n\"\",\n\"float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\",\n\"  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\",\n\"}\",\n\"float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\",\n\"  return ( near * far ) / ( ( far - near ) * invClipZ - far );\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef PREMULTIPLIED_ALPHA\",\n\"\",\n\"\t// Get get normal blending with premultipled, use with CustomBlending, OneFactor, OneMinusSrcAlphaFactor, AddEquation.\",\n\"\tgl_FragColor.rgb *= gl_FragColor.a;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_SKINNING\",\n\"\",\n\"\tvec4 mvPosition = modelViewMatrix * skinned;\",\n\"\",\n\"#else\",\n\"\",\n\"\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\",\n\"\",\n\"#endif\",\n\"\",\n\"gl_Position = projectionMatrix * mvPosition;\",\n\"\",\n].join('\\n');","export default [\n\"float roughnessFactor = roughness;\",\n\"\",\n\"#ifdef USE_ROUGHNESSMAP\",\n\"\",\n\"\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\",\n\"\troughnessFactor *= texelRoughness.r;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_ROUGHNESSMAP\",\n\"\",\n\"\tuniform sampler2D roughnessMap;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#ifdef USE_SHADOWMAP\",\n\"\",\n\"\t#if NUM_DIR_LIGHTS > 0\",\n\"\",\n\"\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\",\n\"\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#if NUM_SPOT_LIGHTS > 0\",\n\"\",\n\"\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\",\n\"\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#if NUM_POINT_LIGHTS > 0\",\n\"\",\n\"\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\",\n\"\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\",\n\"\",\n\"\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\",\n\"\",\n\"\t}\",\n\"\",\n\"\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\",\n\"\",\n\"\t\tconst vec2 offset = vec2( 0.0, 1.0 );\",\n\"\",\n\"\t\tvec2 texelSize = vec2( 1.0 ) / size;\",\n\"\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\",\n\"\",\n\"\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\",\n\"\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\",\n\"\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\",\n\"\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\",\n\"\",\n\"\t\tvec2 f = fract( uv * size + 0.5 );\",\n\"\",\n\"\t\tfloat a = mix( lb, lt, f.y );\",\n\"\t\tfloat b = mix( rb, rt, f.y );\",\n\"\t\tfloat c = mix( a, b, f.x );\",\n\"\",\n\"\t\treturn c;\",\n\"\",\n\"\t}\",\n\"\",\n\"\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\",\n\"\",\n\"\t\tshadowCoord.xyz /= shadowCoord.w;\",\n\"\t\tshadowCoord.z += shadowBias;\",\n\"\",\n\"\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\",\n\"\t\t// if ( all( something, something ) ) using this instead\",\n\"\",\n\"\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\",\n\"\t\tbool inFrustum = all( inFrustumVec );\",\n\"\",\n\"\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\",\n\"\",\n\"\t\tbool frustumTest = all( frustumTestVec );\",\n\"\",\n\"\t\tif ( frustumTest ) {\",\n\"\",\n\"\t\t#if defined( SHADOWMAP_TYPE_PCF )\",\n\"\",\n\"\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\",\n\"\",\n\"\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\",\n\"\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\",\n\"\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\",\n\"\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\",\n\"\",\n\"\t\t\treturn (\",\n\"\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\",\n\"\t\t\t) * ( 1.0 / 9.0 );\",\n\"\",\n\"\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\",\n\"\",\n\"\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\",\n\"\",\n\"\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\",\n\"\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\",\n\"\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\",\n\"\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\",\n\"\",\n\"\t\t\treturn (\",\n\"\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\",\n\"\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\",\n\"\t\t\t) * ( 1.0 / 9.0 );\",\n\"\",\n\"\t\t#else // no percentage-closer filtering:\",\n\"\",\n\"\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\",\n\"\",\n\"\t\t#endif\",\n\"\",\n\"\t\t}\",\n\"\",\n\"\t\treturn 1.0;\",\n\"\",\n\"\t}\",\n\"\",\n\"\t// cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\",\n\"\t// vector suitable for 2D texture mapping. This code uses the following layout for the\",\n\"\t// 2D texture:\",\n\"\t//\",\n\"\t// xzXZ\",\n\"\t//  y Y\",\n\"\t//\",\n\"\t// Y - Positive y direction\",\n\"\t// y - Negative y direction\",\n\"\t// X - Positive x direction\",\n\"\t// x - Negative x direction\",\n\"\t// Z - Positive z direction\",\n\"\t// z - Negative z direction\",\n\"\t//\",\n\"\t// Source and test bed:\",\n\"\t// https://gist.github.com/tschw/da10c43c467ce8afd0c4\",\n\"\",\n\"\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\",\n\"\",\n\"\t\t// Number of texels to avoid at the edge of each square\",\n\"\",\n\"\t\tvec3 absV = abs( v );\",\n\"\",\n\"\t\t// Intersect unit cube\",\n\"\",\n\"\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\",\n\"\t\tabsV *= scaleToCube;\",\n\"\",\n\"\t\t// Apply scale to avoid seams\",\n\"\",\n\"\t\t// two texels less per square (one texel will do for NEAREST)\",\n\"\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\",\n\"\",\n\"\t\t// Unwrap\",\n\"\",\n\"\t\t// space: -1 ... 1 range for each square\",\n\"\t\t//\",\n\"\t\t// #X##\t\tdim    := ( 4 , 2 )\",\n\"\t\t//  # #\t\tcenter := ( 1 , 1 )\",\n\"\",\n\"\t\tvec2 planar = v.xy;\",\n\"\",\n\"\t\tfloat almostATexel = 1.5 * texelSizeY;\",\n\"\t\tfloat almostOne = 1.0 - almostATexel;\",\n\"\",\n\"\t\tif ( absV.z >= almostOne ) {\",\n\"\",\n\"\t\t\tif ( v.z > 0.0 )\",\n\"\t\t\t\tplanar.x = 4.0 - v.x;\",\n\"\",\n\"\t\t} else if ( absV.x >= almostOne ) {\",\n\"\",\n\"\t\t\tfloat signX = sign( v.x );\",\n\"\t\t\tplanar.x = v.z * signX + 2.0 * signX;\",\n\"\",\n\"\t\t} else if ( absV.y >= almostOne ) {\",\n\"\",\n\"\t\t\tfloat signY = sign( v.y );\",\n\"\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\",\n\"\t\t\tplanar.y = v.z * signY - 2.0;\",\n\"\",\n\"\t\t}\",\n\"\",\n\"\t\t// Transform to UV space\",\n\"\",\n\"\t\t// scale := 0.5 / dim\",\n\"\t\t// translate := ( center + 0.5 ) / dim\",\n\"\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\",\n\"\",\n\"\t}\",\n\"\",\n\"\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\",\n\"\",\n\"\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\",\n\"\",\n\"\t\t// for point lights, the uniform @vShadowCoord is re-purposed to hold\",\n\"\t\t// the distance from the light to the world-space position of the fragment.\",\n\"\t\tvec3 lightToPosition = shadowCoord.xyz;\",\n\"\",\n\"\t\t// bd3D = base direction 3D\",\n\"\t\tvec3 bd3D = normalize( lightToPosition );\",\n\"\t\t// dp = distance from light to fragment position\",\n\"\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\",\n\"\",\n\"\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\",\n\"\",\n\"\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\",\n\"\",\n\"\t\t\treturn (\",\n\"\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\",\n\"\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\",\n\"\t\t\t) * ( 1.0 / 9.0 );\",\n\"\",\n\"\t\t#else // no percentage-closer filtering\",\n\"\",\n\"\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\",\n\"\",\n\"\t\t#endif\",\n\"\",\n\"\t}\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_SHADOWMAP\",\n\"\",\n\"\t#if NUM_DIR_LIGHTS > 0\",\n\"\",\n\"\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\",\n\"\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#if NUM_SPOT_LIGHTS > 0\",\n\"\",\n\"\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\",\n\"\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#if NUM_POINT_LIGHTS > 0\",\n\"\",\n\"\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\",\n\"\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\",\n\"\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_SHADOWMAP\",\n\"\",\n\"\t#if NUM_DIR_LIGHTS > 0\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\",\n\"\",\n\"\t}\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#if NUM_SPOT_LIGHTS > 0\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\",\n\"\",\n\"\t}\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#if NUM_POINT_LIGHTS > 0\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\",\n\"\",\n\"\t}\",\n\"\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"float getShadowMask() {\",\n\"\",\n\"\tfloat shadow = 1.0;\",\n\"\",\n\"\t#ifdef USE_SHADOWMAP\",\n\"\",\n\"\t#if NUM_DIR_LIGHTS > 0\",\n\"\",\n\"\tDirectionalLight directionalLight;\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\tdirectionalLight = directionalLights[ i ];\",\n\"\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\",\n\"\",\n\"\t}\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#if NUM_SPOT_LIGHTS > 0\",\n\"\",\n\"\tSpotLight spotLight;\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\tspotLight = spotLights[ i ];\",\n\"\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\",\n\"\",\n\"\t}\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#if NUM_POINT_LIGHTS > 0\",\n\"\",\n\"\tPointLight pointLight;\",\n\"\",\n\"\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\",\n\"\",\n\"\t\tpointLight = pointLights[ i ];\",\n\"\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\",\n\"\",\n\"\t}\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\treturn shadow;\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_SKINNING\",\n\"\",\n\"\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\",\n\"\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\",\n\"\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\",\n\"\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#ifdef USE_SKINNING\",\n\"\",\n\"\tuniform mat4 bindMatrix;\",\n\"\tuniform mat4 bindMatrixInverse;\",\n\"\",\n\"\t#ifdef BONE_TEXTURE\",\n\"\",\n\"\t\tuniform sampler2D boneTexture;\",\n\"\t\tuniform int boneTextureWidth;\",\n\"\t\tuniform int boneTextureHeight;\",\n\"\",\n\"\t\tmat4 getBoneMatrix( const in float i ) {\",\n\"\",\n\"\t\t\tfloat j = i * 4.0;\",\n\"\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\",\n\"\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\",\n\"\",\n\"\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\",\n\"\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\",\n\"\",\n\"\t\t\ty = dy * ( y + 0.5 );\",\n\"\",\n\"\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\",\n\"\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\",\n\"\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\",\n\"\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\",\n\"\",\n\"\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\",\n\"\",\n\"\t\t\treturn bone;\",\n\"\",\n\"\t\t}\",\n\"\",\n\"\t#else\",\n\"\",\n\"\t\tuniform mat4 boneMatrices[ MAX_BONES ];\",\n\"\",\n\"\t\tmat4 getBoneMatrix( const in float i ) {\",\n\"\",\n\"\t\t\tmat4 bone = boneMatrices[ int(i) ];\",\n\"\t\t\treturn bone;\",\n\"\",\n\"\t\t}\",\n\"\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_SKINNING\",\n\"\",\n\"\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\",\n\"\",\n\"\tvec4 skinned = vec4( 0.0 );\",\n\"\tskinned += boneMatX * skinVertex * skinWeight.x;\",\n\"\tskinned += boneMatY * skinVertex * skinWeight.y;\",\n\"\tskinned += boneMatZ * skinVertex * skinWeight.z;\",\n\"\tskinned += boneMatW * skinVertex * skinWeight.w;\",\n\"\tskinned  = bindMatrixInverse * skinned;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#ifdef USE_SKINNING\",\n\"\",\n\"\tmat4 skinMatrix = mat4( 0.0 );\",\n\"\tskinMatrix += skinWeight.x * boneMatX;\",\n\"\tskinMatrix += skinWeight.y * boneMatY;\",\n\"\tskinMatrix += skinWeight.z * boneMatZ;\",\n\"\tskinMatrix += skinWeight.w * boneMatW;\",\n\"\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\",\n\"\",\n\"\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"float specularStrength;\",\n\"\",\n\"#ifdef USE_SPECULARMAP\",\n\"\",\n\"\tvec4 texelSpecular = texture2D( specularMap, vUv );\",\n\"\tspecularStrength = texelSpecular.r;\",\n\"\",\n\"#else\",\n\"\",\n\"\tspecularStrength = 1.0;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#ifdef USE_SPECULARMAP\",\n\"\",\n\"\tuniform sampler2D specularMap;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#if defined( TONE_MAPPING )\",\n\"\",\n\"  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#define saturate(a) clamp( a, 0.0, 1.0 )\",\n\"\",\n\"uniform float toneMappingExposure;\",\n\"uniform float toneMappingWhitePoint;\",\n\"\",\n\"// exposure only\",\n\"vec3 LinearToneMapping( vec3 color ) {\",\n\"\",\n\"  return toneMappingExposure * color;\",\n\"\",\n\"}\",\n\"\",\n\"// source: https://www.cs.utah.edu/~reinhard/cdrom/\",\n\"vec3 ReinhardToneMapping( vec3 color ) {\",\n\"\",\n\"  color *= toneMappingExposure;\",\n\"  return saturate( color / ( vec3( 1.0 ) + color ) );\",\n\"\",\n\"}\",\n\"\",\n\"// source: http://filmicgames.com/archives/75\",\n\"#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\",\n\"vec3 Uncharted2ToneMapping( vec3 color ) {\",\n\"\",\n\"  // John Hable's filmic operator from Uncharted 2 video game\",\n\"  color *= toneMappingExposure;\",\n\"  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\",\n\"\",\n\"}\",\n\"\",\n\"// source: http://filmicgames.com/archives/75\",\n\"vec3 OptimizedCineonToneMapping( vec3 color ) {\",\n\"\",\n\"  // optimized filmic operator by Jim Hejl and Richard Burgess-Dawson\",\n\"  color *= toneMappingExposure;\",\n\"  color = max( vec3( 0.0 ), color - 0.004 );\",\n\"  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\",\n\"\",\n\"\tvarying vec2 vUv;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\",\n\"\",\n\"\tvarying vec2 vUv;\",\n\"\tuniform vec4 offsetRepeat;\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\",\n\"\",\n\"\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\",\n\"\",\n\"\tvarying vec2 vUv2;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\",\n\"\",\n\"\tattribute vec2 uv2;\",\n\"\tvarying vec2 vUv2;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\",\n\"\",\n\"\tvUv2 = uv2;\",\n\"\",\n\"#endif\",\n].join('\\n');","export default [\n\"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\",\n\"\",\n\"\t#ifdef USE_SKINNING\",\n\"\",\n\"\t\tvec4 worldPosition = modelMatrix * skinned;\",\n\"\",\n\"\t#else\",\n\"\",\n\"\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\",\n\"\",\n\"\t#endif\",\n\"\",\n\"#endif\",\n\"\",\n].join('\\n');","export default [\n\"uniform samplerCube tCube;\",\n\"uniform float tFlip;\",\n\"uniform float opacity;\",\n\"\",\n\"varying vec3 vWorldPosition;\",\n\"\",\n\"#include <common>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\",\n\"\tgl_FragColor.a *= opacity;\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"varying vec3 vWorldPosition;\",\n\"\",\n\"#include <common>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\tvWorldPosition = transformDirection( position, modelMatrix );\",\n\"\",\n\"\t#include <begin_vertex>\",\n\"\t#include <project_vertex>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#if DEPTH_PACKING == 3200\",\n\"\",\n\"\tuniform float opacity;\",\n\"\",\n\"#endif\",\n\"\",\n\"#include <common>\",\n\"#include <packing>\",\n\"#include <uv_pars_fragment>\",\n\"#include <map_pars_fragment>\",\n\"#include <alphamap_pars_fragment>\",\n\"#include <logdepthbuf_pars_fragment>\",\n\"#include <clipping_planes_pars_fragment>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <clipping_planes_fragment>\",\n\"\",\n\"\tvec4 diffuseColor = vec4( 1.0 );\",\n\"\",\n\"\t#if DEPTH_PACKING == 3200\",\n\"\",\n\"\t\tdiffuseColor.a = opacity;\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#include <map_fragment>\",\n\"\t#include <alphamap_fragment>\",\n\"\t#include <alphatest_fragment>\",\n\"\",\n\"\t#include <logdepthbuf_fragment>\",\n\"\",\n\"\t#if DEPTH_PACKING == 3200\",\n\"\",\n\"\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\",\n\"\",\n\"\t#elif DEPTH_PACKING == 3201\",\n\"\",\n\"\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\",\n\"\",\n\"\t#endif\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#include <common>\",\n\"#include <uv_pars_vertex>\",\n\"#include <displacementmap_pars_vertex>\",\n\"#include <morphtarget_pars_vertex>\",\n\"#include <skinning_pars_vertex>\",\n\"#include <logdepthbuf_pars_vertex>\",\n\"#include <clipping_planes_pars_vertex>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <uv_vertex>\",\n\"\",\n\"\t#include <skinbase_vertex>\",\n\"\",\n\"\t#include <begin_vertex>\",\n\"\t#include <displacementmap_vertex>\",\n\"\t#include <morphtarget_vertex>\",\n\"\t#include <skinning_vertex>\",\n\"\t#include <project_vertex>\",\n\"\t#include <logdepthbuf_vertex>\",\n\"\t#include <clipping_planes_vertex>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"uniform vec3 lightPos;\",\n\"varying vec4 vWorldPosition;\",\n\"\",\n\"#include <common>\",\n\"#include <packing>\",\n\"#include <clipping_planes_pars_fragment>\",\n\"\",\n\"void main () {\",\n\"\",\n\"\t#include <clipping_planes_fragment>\",\n\"\",\n\"\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"varying vec4 vWorldPosition;\",\n\"\",\n\"#include <common>\",\n\"#include <morphtarget_pars_vertex>\",\n\"#include <skinning_pars_vertex>\",\n\"#include <clipping_planes_pars_vertex>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <skinbase_vertex>\",\n\"\t#include <begin_vertex>\",\n\"\t#include <morphtarget_vertex>\",\n\"\t#include <skinning_vertex>\",\n\"\t#include <project_vertex>\",\n\"\t#include <worldpos_vertex>\",\n\"\t#include <clipping_planes_vertex>\",\n\"\",\n\"\tvWorldPosition = worldPosition;\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"uniform sampler2D tEquirect;\",\n\"uniform float tFlip;\",\n\"\",\n\"varying vec3 vWorldPosition;\",\n\"\",\n\"#include <common>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t// \tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\",\n\"\tvec3 direction = normalize( vWorldPosition );\",\n\"\tvec2 sampleUV;\",\n\"\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\",\n\"\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\",\n\"\tgl_FragColor = texture2D( tEquirect, sampleUV );\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"varying vec3 vWorldPosition;\",\n\"\",\n\"#include <common>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\tvWorldPosition = transformDirection( position, modelMatrix );\",\n\"\",\n\"\t#include <begin_vertex>\",\n\"\t#include <project_vertex>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"uniform vec3 diffuse;\",\n\"uniform float opacity;\",\n\"\",\n\"uniform float dashSize;\",\n\"uniform float totalSize;\",\n\"\",\n\"varying float vLineDistance;\",\n\"\",\n\"#include <common>\",\n\"#include <color_pars_fragment>\",\n\"#include <fog_pars_fragment>\",\n\"#include <logdepthbuf_pars_fragment>\",\n\"#include <clipping_planes_pars_fragment>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <clipping_planes_fragment>\",\n\"\",\n\"\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\",\n\"\",\n\"\t\tdiscard;\",\n\"\",\n\"\t}\",\n\"\",\n\"\tvec3 outgoingLight = vec3( 0.0 );\",\n\"\tvec4 diffuseColor = vec4( diffuse, opacity );\",\n\"\",\n\"\t#include <logdepthbuf_fragment>\",\n\"\t#include <color_fragment>\",\n\"\",\n\"\toutgoingLight = diffuseColor.rgb; // simple shader\",\n\"\",\n\"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\",\n\"\",\n\"\t#include <premultiplied_alpha_fragment>\",\n\"\t#include <tonemapping_fragment>\",\n\"\t#include <encodings_fragment>\",\n\"\t#include <fog_fragment>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"uniform float scale;\",\n\"attribute float lineDistance;\",\n\"\",\n\"varying float vLineDistance;\",\n\"\",\n\"#include <common>\",\n\"#include <color_pars_vertex>\",\n\"#include <logdepthbuf_pars_vertex>\",\n\"#include <clipping_planes_pars_vertex>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <color_vertex>\",\n\"\",\n\"\tvLineDistance = scale * lineDistance;\",\n\"\",\n\"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\",\n\"\tgl_Position = projectionMatrix * mvPosition;\",\n\"\",\n\"\t#include <logdepthbuf_vertex>\",\n\"\t#include <clipping_planes_vertex>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"uniform vec3 diffuse;\",\n\"uniform float opacity;\",\n\"\",\n\"#ifndef FLAT_SHADED\",\n\"\",\n\"\tvarying vec3 vNormal;\",\n\"\",\n\"#endif\",\n\"\",\n\"#include <common>\",\n\"#include <color_pars_fragment>\",\n\"#include <uv_pars_fragment>\",\n\"#include <uv2_pars_fragment>\",\n\"#include <map_pars_fragment>\",\n\"#include <alphamap_pars_fragment>\",\n\"#include <aomap_pars_fragment>\",\n\"#include <envmap_pars_fragment>\",\n\"#include <fog_pars_fragment>\",\n\"#include <specularmap_pars_fragment>\",\n\"#include <logdepthbuf_pars_fragment>\",\n\"#include <clipping_planes_pars_fragment>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <clipping_planes_fragment>\",\n\"\",\n\"\tvec4 diffuseColor = vec4( diffuse, opacity );\",\n\"\",\n\"\t#include <logdepthbuf_fragment>\",\n\"\t#include <map_fragment>\",\n\"\t#include <color_fragment>\",\n\"\t#include <alphamap_fragment>\",\n\"\t#include <alphatest_fragment>\",\n\"\t#include <specularmap_fragment>\",\n\"\",\n\"\tReflectedLight reflectedLight;\",\n\"\treflectedLight.directDiffuse = vec3( 0.0 );\",\n\"\treflectedLight.directSpecular = vec3( 0.0 );\",\n\"\treflectedLight.indirectDiffuse = diffuseColor.rgb;\",\n\"\treflectedLight.indirectSpecular = vec3( 0.0 );\",\n\"\",\n\"\t#include <aomap_fragment>\",\n\"\",\n\"\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\",\n\"\",\n\"\t#include <normal_flip>\",\n\"\t#include <envmap_fragment>\",\n\"\",\n\"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\",\n\"\",\n\"\t#include <premultiplied_alpha_fragment>\",\n\"\t#include <tonemapping_fragment>\",\n\"\t#include <encodings_fragment>\",\n\"\t#include <fog_fragment>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#include <common>\",\n\"#include <uv_pars_vertex>\",\n\"#include <uv2_pars_vertex>\",\n\"#include <envmap_pars_vertex>\",\n\"#include <color_pars_vertex>\",\n\"#include <morphtarget_pars_vertex>\",\n\"#include <skinning_pars_vertex>\",\n\"#include <logdepthbuf_pars_vertex>\",\n\"#include <clipping_planes_pars_vertex>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <uv_vertex>\",\n\"\t#include <uv2_vertex>\",\n\"\t#include <color_vertex>\",\n\"\t#include <skinbase_vertex>\",\n\"\",\n\"\t#ifdef USE_ENVMAP\",\n\"\",\n\"\t#include <beginnormal_vertex>\",\n\"\t#include <morphnormal_vertex>\",\n\"\t#include <skinnormal_vertex>\",\n\"\t#include <defaultnormal_vertex>\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\t#include <begin_vertex>\",\n\"\t#include <morphtarget_vertex>\",\n\"\t#include <skinning_vertex>\",\n\"\t#include <project_vertex>\",\n\"\t#include <logdepthbuf_vertex>\",\n\"\",\n\"\t#include <worldpos_vertex>\",\n\"\t#include <clipping_planes_vertex>\",\n\"\t#include <envmap_vertex>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"uniform vec3 diffuse;\",\n\"uniform vec3 emissive;\",\n\"uniform float opacity;\",\n\"\",\n\"varying vec3 vLightFront;\",\n\"\",\n\"#ifdef DOUBLE_SIDED\",\n\"\",\n\"\tvarying vec3 vLightBack;\",\n\"\",\n\"#endif\",\n\"\",\n\"#include <common>\",\n\"#include <packing>\",\n\"#include <color_pars_fragment>\",\n\"#include <uv_pars_fragment>\",\n\"#include <uv2_pars_fragment>\",\n\"#include <map_pars_fragment>\",\n\"#include <alphamap_pars_fragment>\",\n\"#include <aomap_pars_fragment>\",\n\"#include <lightmap_pars_fragment>\",\n\"#include <emissivemap_pars_fragment>\",\n\"#include <envmap_pars_fragment>\",\n\"#include <bsdfs>\",\n\"#include <lights_pars>\",\n\"#include <fog_pars_fragment>\",\n\"#include <shadowmap_pars_fragment>\",\n\"#include <shadowmask_pars_fragment>\",\n\"#include <specularmap_pars_fragment>\",\n\"#include <logdepthbuf_pars_fragment>\",\n\"#include <clipping_planes_pars_fragment>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <clipping_planes_fragment>\",\n\"\",\n\"\tvec4 diffuseColor = vec4( diffuse, opacity );\",\n\"\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\",\n\"\tvec3 totalEmissiveRadiance = emissive;\",\n\"\",\n\"\t#include <logdepthbuf_fragment>\",\n\"\t#include <map_fragment>\",\n\"\t#include <color_fragment>\",\n\"\t#include <alphamap_fragment>\",\n\"\t#include <alphatest_fragment>\",\n\"\t#include <specularmap_fragment>\",\n\"\t#include <emissivemap_fragment>\",\n\"\",\n\"\t// accumulation\",\n\"\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\",\n\"\",\n\"\t#include <lightmap_fragment>\",\n\"\",\n\"\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\",\n\"\",\n\"\t#ifdef DOUBLE_SIDED\",\n\"\",\n\"\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\",\n\"\",\n\"\t#else\",\n\"\",\n\"\t\treflectedLight.directDiffuse = vLightFront;\",\n\"\",\n\"\t#endif\",\n\"\",\n\"\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\",\n\"\",\n\"\t// modulation\",\n\"\t#include <aomap_fragment>\",\n\"\",\n\"\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\",\n\"\",\n\"\t#include <normal_flip>\",\n\"\t#include <envmap_fragment>\",\n\"\",\n\"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\",\n\"\",\n\"\t#include <premultiplied_alpha_fragment>\",\n\"\t#include <tonemapping_fragment>\",\n\"\t#include <encodings_fragment>\",\n\"\t#include <fog_fragment>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#define LAMBERT\",\n\"\",\n\"varying vec3 vLightFront;\",\n\"\",\n\"#ifdef DOUBLE_SIDED\",\n\"\",\n\"\tvarying vec3 vLightBack;\",\n\"\",\n\"#endif\",\n\"\",\n\"#include <common>\",\n\"#include <uv_pars_vertex>\",\n\"#include <uv2_pars_vertex>\",\n\"#include <envmap_pars_vertex>\",\n\"#include <bsdfs>\",\n\"#include <lights_pars>\",\n\"#include <color_pars_vertex>\",\n\"#include <morphtarget_pars_vertex>\",\n\"#include <skinning_pars_vertex>\",\n\"#include <shadowmap_pars_vertex>\",\n\"#include <logdepthbuf_pars_vertex>\",\n\"#include <clipping_planes_pars_vertex>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <uv_vertex>\",\n\"\t#include <uv2_vertex>\",\n\"\t#include <color_vertex>\",\n\"\",\n\"\t#include <beginnormal_vertex>\",\n\"\t#include <morphnormal_vertex>\",\n\"\t#include <skinbase_vertex>\",\n\"\t#include <skinnormal_vertex>\",\n\"\t#include <defaultnormal_vertex>\",\n\"\",\n\"\t#include <begin_vertex>\",\n\"\t#include <morphtarget_vertex>\",\n\"\t#include <skinning_vertex>\",\n\"\t#include <project_vertex>\",\n\"\t#include <logdepthbuf_vertex>\",\n\"\t#include <clipping_planes_vertex>\",\n\"\",\n\"\t#include <worldpos_vertex>\",\n\"\t#include <envmap_vertex>\",\n\"\t#include <lights_lambert_vertex>\",\n\"\t#include <shadowmap_vertex>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#define PHONG\",\n\"\",\n\"uniform vec3 diffuse;\",\n\"uniform vec3 emissive;\",\n\"uniform vec3 specular;\",\n\"uniform float shininess;\",\n\"uniform float opacity;\",\n\"\",\n\"#include <common>\",\n\"#include <packing>\",\n\"#include <color_pars_fragment>\",\n\"#include <uv_pars_fragment>\",\n\"#include <uv2_pars_fragment>\",\n\"#include <map_pars_fragment>\",\n\"#include <alphamap_pars_fragment>\",\n\"#include <aomap_pars_fragment>\",\n\"#include <lightmap_pars_fragment>\",\n\"#include <emissivemap_pars_fragment>\",\n\"#include <envmap_pars_fragment>\",\n\"#include <fog_pars_fragment>\",\n\"#include <bsdfs>\",\n\"#include <lights_pars>\",\n\"#include <lights_phong_pars_fragment>\",\n\"#include <shadowmap_pars_fragment>\",\n\"#include <bumpmap_pars_fragment>\",\n\"#include <normalmap_pars_fragment>\",\n\"#include <specularmap_pars_fragment>\",\n\"#include <logdepthbuf_pars_fragment>\",\n\"#include <clipping_planes_pars_fragment>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <clipping_planes_fragment>\",\n\"\",\n\"\tvec4 diffuseColor = vec4( diffuse, opacity );\",\n\"\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\",\n\"\tvec3 totalEmissiveRadiance = emissive;\",\n\"\",\n\"\t#include <logdepthbuf_fragment>\",\n\"\t#include <map_fragment>\",\n\"\t#include <color_fragment>\",\n\"\t#include <alphamap_fragment>\",\n\"\t#include <alphatest_fragment>\",\n\"\t#include <specularmap_fragment>\",\n\"\t#include <normal_flip>\",\n\"\t#include <normal_fragment>\",\n\"\t#include <emissivemap_fragment>\",\n\"\",\n\"\t// accumulation\",\n\"\t#include <lights_phong_fragment>\",\n\"\t#include <lights_template>\",\n\"\",\n\"\t// modulation\",\n\"\t#include <aomap_fragment>\",\n\"\",\n\"\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\",\n\"\",\n\"\t#include <envmap_fragment>\",\n\"\",\n\"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\",\n\"\",\n\"\t#include <premultiplied_alpha_fragment>\",\n\"\t#include <tonemapping_fragment>\",\n\"\t#include <encodings_fragment>\",\n\"\t#include <fog_fragment>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#define PHONG\",\n\"\",\n\"varying vec3 vViewPosition;\",\n\"\",\n\"#ifndef FLAT_SHADED\",\n\"\",\n\"\tvarying vec3 vNormal;\",\n\"\",\n\"#endif\",\n\"\",\n\"#include <common>\",\n\"#include <uv_pars_vertex>\",\n\"#include <uv2_pars_vertex>\",\n\"#include <displacementmap_pars_vertex>\",\n\"#include <envmap_pars_vertex>\",\n\"#include <color_pars_vertex>\",\n\"#include <morphtarget_pars_vertex>\",\n\"#include <skinning_pars_vertex>\",\n\"#include <shadowmap_pars_vertex>\",\n\"#include <logdepthbuf_pars_vertex>\",\n\"#include <clipping_planes_pars_vertex>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <uv_vertex>\",\n\"\t#include <uv2_vertex>\",\n\"\t#include <color_vertex>\",\n\"\",\n\"\t#include <beginnormal_vertex>\",\n\"\t#include <morphnormal_vertex>\",\n\"\t#include <skinbase_vertex>\",\n\"\t#include <skinnormal_vertex>\",\n\"\t#include <defaultnormal_vertex>\",\n\"\",\n\"#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\",\n\"\",\n\"\tvNormal = normalize( transformedNormal );\",\n\"\",\n\"#endif\",\n\"\",\n\"\t#include <begin_vertex>\",\n\"\t#include <displacementmap_vertex>\",\n\"\t#include <morphtarget_vertex>\",\n\"\t#include <skinning_vertex>\",\n\"\t#include <project_vertex>\",\n\"\t#include <logdepthbuf_vertex>\",\n\"\t#include <clipping_planes_vertex>\",\n\"\",\n\"\tvViewPosition = - mvPosition.xyz;\",\n\"\",\n\"\t#include <worldpos_vertex>\",\n\"\t#include <envmap_vertex>\",\n\"\t#include <shadowmap_vertex>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#define PHYSICAL\",\n\"\",\n\"uniform vec3 diffuse;\",\n\"uniform vec3 emissive;\",\n\"uniform float roughness;\",\n\"uniform float metalness;\",\n\"uniform float opacity;\",\n\"\",\n\"#ifndef STANDARD\",\n\"\tuniform float clearCoat;\",\n\"\tuniform float clearCoatRoughness;\",\n\"#endif\",\n\"\",\n\"uniform float envMapIntensity; // temporary\",\n\"\",\n\"varying vec3 vViewPosition;\",\n\"\",\n\"#ifndef FLAT_SHADED\",\n\"\",\n\"\tvarying vec3 vNormal;\",\n\"\",\n\"#endif\",\n\"\",\n\"#include <common>\",\n\"#include <packing>\",\n\"#include <color_pars_fragment>\",\n\"#include <uv_pars_fragment>\",\n\"#include <uv2_pars_fragment>\",\n\"#include <map_pars_fragment>\",\n\"#include <alphamap_pars_fragment>\",\n\"#include <aomap_pars_fragment>\",\n\"#include <lightmap_pars_fragment>\",\n\"#include <emissivemap_pars_fragment>\",\n\"#include <envmap_pars_fragment>\",\n\"#include <fog_pars_fragment>\",\n\"#include <bsdfs>\",\n\"#include <cube_uv_reflection_fragment>\",\n\"#include <lights_pars>\",\n\"#include <lights_physical_pars_fragment>\",\n\"#include <shadowmap_pars_fragment>\",\n\"#include <bumpmap_pars_fragment>\",\n\"#include <normalmap_pars_fragment>\",\n\"#include <roughnessmap_pars_fragment>\",\n\"#include <metalnessmap_pars_fragment>\",\n\"#include <logdepthbuf_pars_fragment>\",\n\"#include <clipping_planes_pars_fragment>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <clipping_planes_fragment>\",\n\"\",\n\"\tvec4 diffuseColor = vec4( diffuse, opacity );\",\n\"\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\",\n\"\tvec3 totalEmissiveRadiance = emissive;\",\n\"\",\n\"\t#include <logdepthbuf_fragment>\",\n\"\t#include <map_fragment>\",\n\"\t#include <color_fragment>\",\n\"\t#include <alphamap_fragment>\",\n\"\t#include <alphatest_fragment>\",\n\"\t#include <specularmap_fragment>\",\n\"\t#include <roughnessmap_fragment>\",\n\"\t#include <metalnessmap_fragment>\",\n\"\t#include <normal_flip>\",\n\"\t#include <normal_fragment>\",\n\"\t#include <emissivemap_fragment>\",\n\"\",\n\"\t// accumulation\",\n\"\t#include <lights_physical_fragment>\",\n\"\t#include <lights_template>\",\n\"\",\n\"\t// modulation\",\n\"\t#include <aomap_fragment>\",\n\"\",\n\"\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\",\n\"\",\n\"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\",\n\"\",\n\"\t#include <premultiplied_alpha_fragment>\",\n\"\t#include <tonemapping_fragment>\",\n\"\t#include <encodings_fragment>\",\n\"\t#include <fog_fragment>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#define PHYSICAL\",\n\"\",\n\"varying vec3 vViewPosition;\",\n\"\",\n\"#ifndef FLAT_SHADED\",\n\"\",\n\"\tvarying vec3 vNormal;\",\n\"\",\n\"#endif\",\n\"\",\n\"#include <common>\",\n\"#include <uv_pars_vertex>\",\n\"#include <uv2_pars_vertex>\",\n\"#include <displacementmap_pars_vertex>\",\n\"#include <color_pars_vertex>\",\n\"#include <morphtarget_pars_vertex>\",\n\"#include <skinning_pars_vertex>\",\n\"#include <shadowmap_pars_vertex>\",\n\"#include <specularmap_pars_fragment>\",\n\"#include <logdepthbuf_pars_vertex>\",\n\"#include <clipping_planes_pars_vertex>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <uv_vertex>\",\n\"\t#include <uv2_vertex>\",\n\"\t#include <color_vertex>\",\n\"\",\n\"\t#include <beginnormal_vertex>\",\n\"\t#include <morphnormal_vertex>\",\n\"\t#include <skinbase_vertex>\",\n\"\t#include <skinnormal_vertex>\",\n\"\t#include <defaultnormal_vertex>\",\n\"\",\n\"#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\",\n\"\",\n\"\tvNormal = normalize( transformedNormal );\",\n\"\",\n\"#endif\",\n\"\",\n\"\t#include <begin_vertex>\",\n\"\t#include <displacementmap_vertex>\",\n\"\t#include <morphtarget_vertex>\",\n\"\t#include <skinning_vertex>\",\n\"\t#include <project_vertex>\",\n\"\t#include <logdepthbuf_vertex>\",\n\"\t#include <clipping_planes_vertex>\",\n\"\",\n\"\tvViewPosition = - mvPosition.xyz;\",\n\"\",\n\"\t#include <worldpos_vertex>\",\n\"\t#include <shadowmap_vertex>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"uniform float opacity;\",\n\"varying vec3 vNormal;\",\n\"\",\n\"#include <common>\",\n\"#include <packing>\",\n\"#include <logdepthbuf_pars_fragment>\",\n\"#include <clipping_planes_pars_fragment>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <clipping_planes_fragment>\",\n\"\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\",\n\"\",\n\"\t#include <logdepthbuf_fragment>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"varying vec3 vNormal;\",\n\"\",\n\"#include <common>\",\n\"#include <morphtarget_pars_vertex>\",\n\"#include <logdepthbuf_pars_vertex>\",\n\"#include <clipping_planes_pars_vertex>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\tvNormal = normalize( normalMatrix * normal );\",\n\"\",\n\"\t#include <begin_vertex>\",\n\"\t#include <morphtarget_vertex>\",\n\"\t#include <project_vertex>\",\n\"\t#include <logdepthbuf_vertex>\",\n\"\t#include <clipping_planes_vertex>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"uniform vec3 diffuse;\",\n\"uniform float opacity;\",\n\"\",\n\"#include <common>\",\n\"#include <packing>\",\n\"#include <color_pars_fragment>\",\n\"#include <map_particle_pars_fragment>\",\n\"#include <fog_pars_fragment>\",\n\"#include <shadowmap_pars_fragment>\",\n\"#include <logdepthbuf_pars_fragment>\",\n\"#include <clipping_planes_pars_fragment>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <clipping_planes_fragment>\",\n\"\",\n\"\tvec3 outgoingLight = vec3( 0.0 );\",\n\"\tvec4 diffuseColor = vec4( diffuse, opacity );\",\n\"\",\n\"\t#include <logdepthbuf_fragment>\",\n\"\t#include <map_particle_fragment>\",\n\"\t#include <color_fragment>\",\n\"\t#include <alphatest_fragment>\",\n\"\",\n\"\toutgoingLight = diffuseColor.rgb;\",\n\"\",\n\"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\",\n\"\",\n\"\t#include <premultiplied_alpha_fragment>\",\n\"\t#include <tonemapping_fragment>\",\n\"\t#include <encodings_fragment>\",\n\"\t#include <fog_fragment>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"uniform float size;\",\n\"uniform float scale;\",\n\"\",\n\"#include <common>\",\n\"#include <color_pars_vertex>\",\n\"#include <shadowmap_pars_vertex>\",\n\"#include <logdepthbuf_pars_vertex>\",\n\"#include <clipping_planes_pars_vertex>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <color_vertex>\",\n\"\t#include <begin_vertex>\",\n\"\t#include <project_vertex>\",\n\"\",\n\"\t#ifdef USE_SIZEATTENUATION\",\n\"\t\tgl_PointSize = size * ( scale / - mvPosition.z );\",\n\"\t#else\",\n\"\t\tgl_PointSize = size;\",\n\"\t#endif\",\n\"\",\n\"\t#include <logdepthbuf_vertex>\",\n\"\t#include <clipping_planes_vertex>\",\n\"\t#include <worldpos_vertex>\",\n\"\t#include <shadowmap_vertex>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"uniform float opacity;\",\n\"\",\n\"#include <common>\",\n\"#include <packing>\",\n\"#include <bsdfs>\",\n\"#include <lights_pars>\",\n\"#include <shadowmap_pars_fragment>\",\n\"#include <shadowmask_pars_fragment>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","export default [\n\"#include <shadowmap_pars_vertex>\",\n\"\",\n\"void main() {\",\n\"\",\n\"\t#include <begin_vertex>\",\n\"\t#include <project_vertex>\",\n\"\t#include <worldpos_vertex>\",\n\"\t#include <shadowmap_vertex>\",\n\"\",\n\"}\",\n\"\",\n].join('\\n');","import alphamap_fragment from \"./ShaderChunk/alphamap_fragment.glsl\";\nimport alphamap_pars_fragment from \"./ShaderChunk/alphamap_pars_fragment.glsl\";\nimport alphatest_fragment from \"./ShaderChunk/alphatest_fragment.glsl\";\nimport aomap_fragment from \"./ShaderChunk/aomap_fragment.glsl\";\nimport aomap_pars_fragment from \"./ShaderChunk/aomap_pars_fragment.glsl\";\nimport begin_vertex from \"./ShaderChunk/begin_vertex.glsl\";\nimport beginnormal_vertex from \"./ShaderChunk/beginnormal_vertex.glsl\";\nimport bsdfs from \"./ShaderChunk/bsdfs.glsl\";\nimport bumpmap_pars_fragment from \"./ShaderChunk/bumpmap_pars_fragment.glsl\";\nimport clipping_planes_fragment from \"./ShaderChunk/clipping_planes_fragment.glsl\";\nimport clipping_planes_pars_fragment from \"./ShaderChunk/clipping_planes_pars_fragment.glsl\";\nimport clipping_planes_pars_vertex from \"./ShaderChunk/clipping_planes_pars_vertex.glsl\";\nimport clipping_planes_vertex from \"./ShaderChunk/clipping_planes_vertex.glsl\";\nimport color_fragment from \"./ShaderChunk/color_fragment.glsl\";\nimport color_pars_fragment from \"./ShaderChunk/color_pars_fragment.glsl\";\nimport color_pars_vertex from \"./ShaderChunk/color_pars_vertex.glsl\";\nimport color_vertex from \"./ShaderChunk/color_vertex.glsl\";\nimport common from \"./ShaderChunk/common.glsl\";\nimport cube_uv_reflection_fragment from \"./ShaderChunk/cube_uv_reflection_fragment.glsl\";\nimport defaultnormal_vertex from \"./ShaderChunk/defaultnormal_vertex.glsl\";\nimport displacementmap_pars_vertex from \"./ShaderChunk/displacementmap_pars_vertex.glsl\";\nimport displacementmap_vertex from \"./ShaderChunk/displacementmap_vertex.glsl\";\nimport emissivemap_fragment from \"./ShaderChunk/emissivemap_fragment.glsl\";\nimport emissivemap_pars_fragment from \"./ShaderChunk/emissivemap_pars_fragment.glsl\";\nimport encodings_fragment from \"./ShaderChunk/encodings_fragment.glsl\";\nimport encodings_pars_fragment from \"./ShaderChunk/encodings_pars_fragment.glsl\";\nimport envmap_fragment from \"./ShaderChunk/envmap_fragment.glsl\";\nimport envmap_pars_fragment from \"./ShaderChunk/envmap_pars_fragment.glsl\";\nimport envmap_pars_vertex from \"./ShaderChunk/envmap_pars_vertex.glsl\";\nimport envmap_vertex from \"./ShaderChunk/envmap_vertex.glsl\";\nimport fog_fragment from \"./ShaderChunk/fog_fragment.glsl\";\nimport fog_pars_fragment from \"./ShaderChunk/fog_pars_fragment.glsl\";\nimport lightmap_fragment from \"./ShaderChunk/lightmap_fragment.glsl\";\nimport lightmap_pars_fragment from \"./ShaderChunk/lightmap_pars_fragment.glsl\";\nimport lights_lambert_vertex from \"./ShaderChunk/lights_lambert_vertex.glsl\";\nimport lights_pars from \"./ShaderChunk/lights_pars.glsl\";\nimport lights_phong_fragment from \"./ShaderChunk/lights_phong_fragment.glsl\";\nimport lights_phong_pars_fragment from \"./ShaderChunk/lights_phong_pars_fragment.glsl\";\nimport lights_physical_fragment from \"./ShaderChunk/lights_physical_fragment.glsl\";\nimport lights_physical_pars_fragment from \"./ShaderChunk/lights_physical_pars_fragment.glsl\";\nimport lights_template from \"./ShaderChunk/lights_template.glsl\";\nimport logdepthbuf_fragment from \"./ShaderChunk/logdepthbuf_fragment.glsl\";\nimport logdepthbuf_pars_fragment from \"./ShaderChunk/logdepthbuf_pars_fragment.glsl\";\nimport logdepthbuf_pars_vertex from \"./ShaderChunk/logdepthbuf_pars_vertex.glsl\";\nimport logdepthbuf_vertex from \"./ShaderChunk/logdepthbuf_vertex.glsl\";\nimport map_fragment from \"./ShaderChunk/map_fragment.glsl\";\nimport map_pars_fragment from \"./ShaderChunk/map_pars_fragment.glsl\";\nimport map_particle_fragment from \"./ShaderChunk/map_particle_fragment.glsl\";\nimport map_particle_pars_fragment from \"./ShaderChunk/map_particle_pars_fragment.glsl\";\nimport metalnessmap_fragment from \"./ShaderChunk/metalnessmap_fragment.glsl\";\nimport metalnessmap_pars_fragment from \"./ShaderChunk/metalnessmap_pars_fragment.glsl\";\nimport morphnormal_vertex from \"./ShaderChunk/morphnormal_vertex.glsl\";\nimport morphtarget_pars_vertex from \"./ShaderChunk/morphtarget_pars_vertex.glsl\";\nimport morphtarget_vertex from \"./ShaderChunk/morphtarget_vertex.glsl\";\nimport normal_flip from \"./ShaderChunk/normal_flip.glsl\";\nimport normal_fragment from \"./ShaderChunk/normal_fragment.glsl\";\nimport normalmap_pars_fragment from \"./ShaderChunk/normalmap_pars_fragment.glsl\";\nimport packing from \"./ShaderChunk/packing.glsl\";\nimport premultiplied_alpha_fragment from \"./ShaderChunk/premultiplied_alpha_fragment.glsl\";\nimport project_vertex from \"./ShaderChunk/project_vertex.glsl\";\nimport roughnessmap_fragment from \"./ShaderChunk/roughnessmap_fragment.glsl\";\nimport roughnessmap_pars_fragment from \"./ShaderChunk/roughnessmap_pars_fragment.glsl\";\nimport shadowmap_pars_fragment from \"./ShaderChunk/shadowmap_pars_fragment.glsl\";\nimport shadowmap_pars_vertex from \"./ShaderChunk/shadowmap_pars_vertex.glsl\";\nimport shadowmap_vertex from \"./ShaderChunk/shadowmap_vertex.glsl\";\nimport shadowmask_pars_fragment from \"./ShaderChunk/shadowmask_pars_fragment.glsl\";\nimport skinbase_vertex from \"./ShaderChunk/skinbase_vertex.glsl\";\nimport skinning_pars_vertex from \"./ShaderChunk/skinning_pars_vertex.glsl\";\nimport skinning_vertex from \"./ShaderChunk/skinning_vertex.glsl\";\nimport skinnormal_vertex from \"./ShaderChunk/skinnormal_vertex.glsl\";\nimport specularmap_fragment from \"./ShaderChunk/specularmap_fragment.glsl\";\nimport specularmap_pars_fragment from \"./ShaderChunk/specularmap_pars_fragment.glsl\";\nimport tonemapping_fragment from \"./ShaderChunk/tonemapping_fragment.glsl\";\nimport tonemapping_pars_fragment from \"./ShaderChunk/tonemapping_pars_fragment.glsl\";\nimport uv_pars_fragment from \"./ShaderChunk/uv_pars_fragment.glsl\";\nimport uv_pars_vertex from \"./ShaderChunk/uv_pars_vertex.glsl\";\nimport uv_vertex from \"./ShaderChunk/uv_vertex.glsl\";\nimport uv2_pars_fragment from \"./ShaderChunk/uv2_pars_fragment.glsl\";\nimport uv2_pars_vertex from \"./ShaderChunk/uv2_pars_vertex.glsl\";\nimport uv2_vertex from \"./ShaderChunk/uv2_vertex.glsl\";\nimport worldpos_vertex from \"./ShaderChunk/worldpos_vertex.glsl\";\nimport cube_frag from \"./ShaderLib/cube_frag.glsl\";\nimport cube_vert from \"./ShaderLib/cube_vert.glsl\";\nimport depth_frag from \"./ShaderLib/depth_frag.glsl\";\nimport depth_vert from \"./ShaderLib/depth_vert.glsl\";\nimport distanceRGBA_frag from \"./ShaderLib/distanceRGBA_frag.glsl\";\nimport distanceRGBA_vert from \"./ShaderLib/distanceRGBA_vert.glsl\";\nimport equirect_frag from \"./ShaderLib/equirect_frag.glsl\";\nimport equirect_vert from \"./ShaderLib/equirect_vert.glsl\";\nimport linedashed_frag from \"./ShaderLib/linedashed_frag.glsl\";\nimport linedashed_vert from \"./ShaderLib/linedashed_vert.glsl\";\nimport meshbasic_frag from \"./ShaderLib/meshbasic_frag.glsl\";\nimport meshbasic_vert from \"./ShaderLib/meshbasic_vert.glsl\";\nimport meshlambert_frag from \"./ShaderLib/meshlambert_frag.glsl\";\nimport meshlambert_vert from \"./ShaderLib/meshlambert_vert.glsl\";\nimport meshphong_frag from \"./ShaderLib/meshphong_frag.glsl\";\nimport meshphong_vert from \"./ShaderLib/meshphong_vert.glsl\";\nimport meshphysical_frag from \"./ShaderLib/meshphysical_frag.glsl\";\nimport meshphysical_vert from \"./ShaderLib/meshphysical_vert.glsl\";\nimport normal_frag from \"./ShaderLib/normal_frag.glsl\";\nimport normal_vert from \"./ShaderLib/normal_vert.glsl\";\nimport points_frag from \"./ShaderLib/points_frag.glsl\";\nimport points_vert from \"./ShaderLib/points_vert.glsl\";\nimport shadow_frag from \"./ShaderLib/shadow_frag.glsl\";\nimport shadow_vert from \"./ShaderLib/shadow_vert.glsl\";\nexport const ShaderChunk: any = {\n  alphamap_fragment: alphamap_fragment,\n  alphamap_pars_fragment: alphamap_pars_fragment,\n  alphatest_fragment: alphatest_fragment,\n  aomap_fragment: aomap_fragment,\n  aomap_pars_fragment: aomap_pars_fragment,\n  begin_vertex: begin_vertex,\n  beginnormal_vertex: beginnormal_vertex,\n  bsdfs: bsdfs,\n  bumpmap_pars_fragment: bumpmap_pars_fragment,\n  clipping_planes_fragment: clipping_planes_fragment,\n  clipping_planes_pars_fragment: clipping_planes_pars_fragment,\n  clipping_planes_pars_vertex: clipping_planes_pars_vertex,\n  clipping_planes_vertex: clipping_planes_vertex,\n  color_fragment: color_fragment,\n  color_pars_fragment: color_pars_fragment,\n  color_pars_vertex: color_pars_vertex,\n  color_vertex: color_vertex,\n  common: common,\n  cube_uv_reflection_fragment: cube_uv_reflection_fragment,\n  defaultnormal_vertex: defaultnormal_vertex,\n  displacementmap_pars_vertex: displacementmap_pars_vertex,\n  displacementmap_vertex: displacementmap_vertex,\n  emissivemap_fragment: emissivemap_fragment,\n  emissivemap_pars_fragment: emissivemap_pars_fragment,\n  encodings_fragment: encodings_fragment,\n  encodings_pars_fragment: encodings_pars_fragment,\n  envmap_fragment: envmap_fragment,\n  envmap_pars_fragment: envmap_pars_fragment,\n  envmap_pars_vertex: envmap_pars_vertex,\n  envmap_vertex: envmap_vertex,\n  fog_fragment: fog_fragment,\n  fog_pars_fragment: fog_pars_fragment,\n  lightmap_fragment: lightmap_fragment,\n  lightmap_pars_fragment: lightmap_pars_fragment,\n  lights_lambert_vertex: lights_lambert_vertex,\n  lights_pars: lights_pars,\n  lights_phong_fragment: lights_phong_fragment,\n  lights_phong_pars_fragment: lights_phong_pars_fragment,\n  lights_physical_fragment: lights_physical_fragment,\n  lights_physical_pars_fragment: lights_physical_pars_fragment,\n  lights_template: lights_template,\n  logdepthbuf_fragment: logdepthbuf_fragment,\n  logdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n  logdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n  logdepthbuf_vertex: logdepthbuf_vertex,\n  map_fragment: map_fragment,\n  map_pars_fragment: map_pars_fragment,\n  map_particle_fragment: map_particle_fragment,\n  map_particle_pars_fragment: map_particle_pars_fragment,\n  metalnessmap_fragment: metalnessmap_fragment,\n  metalnessmap_pars_fragment: metalnessmap_pars_fragment,\n  morphnormal_vertex: morphnormal_vertex,\n  morphtarget_pars_vertex: morphtarget_pars_vertex,\n  morphtarget_vertex: morphtarget_vertex,\n  normal_flip: normal_flip,\n  normal_fragment: normal_fragment,\n  normalmap_pars_fragment: normalmap_pars_fragment,\n  packing: packing,\n  premultiplied_alpha_fragment: premultiplied_alpha_fragment,\n  project_vertex: project_vertex,\n  roughnessmap_fragment: roughnessmap_fragment,\n  roughnessmap_pars_fragment: roughnessmap_pars_fragment,\n  shadowmap_pars_fragment: shadowmap_pars_fragment,\n  shadowmap_pars_vertex: shadowmap_pars_vertex,\n  shadowmap_vertex: shadowmap_vertex,\n  shadowmask_pars_fragment: shadowmask_pars_fragment,\n  skinbase_vertex: skinbase_vertex,\n  skinning_pars_vertex: skinning_pars_vertex,\n  skinning_vertex: skinning_vertex,\n  skinnormal_vertex: skinnormal_vertex,\n  specularmap_fragment: specularmap_fragment,\n  specularmap_pars_fragment: specularmap_pars_fragment,\n  tonemapping_fragment: tonemapping_fragment,\n  tonemapping_pars_fragment: tonemapping_pars_fragment,\n  uv_pars_fragment: uv_pars_fragment,\n  uv_pars_vertex: uv_pars_vertex,\n  uv_vertex: uv_vertex,\n  uv2_pars_fragment: uv2_pars_fragment,\n  uv2_pars_vertex: uv2_pars_vertex,\n  uv2_vertex: uv2_vertex,\n  worldpos_vertex: worldpos_vertex,\n  cube_frag: cube_frag,\n  cube_vert: cube_vert,\n  depth_frag: depth_frag,\n  depth_vert: depth_vert,\n  distanceRGBA_frag: distanceRGBA_frag,\n  distanceRGBA_vert: distanceRGBA_vert,\n  equirect_frag: equirect_frag,\n  equirect_vert: equirect_vert,\n  linedashed_frag: linedashed_frag,\n  linedashed_vert: linedashed_vert,\n  meshbasic_frag: meshbasic_frag,\n  meshbasic_vert: meshbasic_vert,\n  meshlambert_frag: meshlambert_frag,\n  meshlambert_vert: meshlambert_vert,\n  meshphong_frag: meshphong_frag,\n  meshphong_vert: meshphong_vert,\n  meshphysical_frag: meshphysical_frag,\n  meshphysical_vert: meshphysical_vert,\n  normal_frag: normal_frag,\n  normal_vert: normal_vert,\n  points_frag: points_frag,\n  points_vert: points_vert,\n  shadow_frag: shadow_frag,\n  shadow_vert: shadow_vert\n};\n","/**\n * Uniforms library for shared webgl shaders\n */\nimport { Vector4 } from \"../../math/Vector4\";\nimport { Color } from \"../../math/Color\";\nimport { Vector2 } from \"../../math/Vector2\";\nexport const UniformsLib: any = {\n  common: {\n    diffuse: { value: new Color(0xeeeeee) },\n    opacity: { value: 1.0 },\n    map: { value: null },\n    offsetRepeat: { value: new Vector4(0, 0, 1, 1) },\n    specularMap: { value: null },\n    alphaMap: { value: null },\n    envMap: { value: null },\n    flipEnvMap: { value: - 1 },\n    reflectivity: { value: 1.0 },\n    refractionRatio: { value: 0.98 }\n  },\n  aomap: {\n    aoMap: { value: null },\n    aoMapIntensity: { value: 1 }\n  },\n  lightmap: {\n    lightMap: { value: null },\n    lightMapIntensity: { value: 1 }\n  },\n  emissivemap: {\n    emissiveMap: { value: null }\n  },\n  bumpmap: {\n    bumpMap: { value: null },\n    bumpScale: { value: 1 }\n  },\n  normalmap: {\n    normalMap: { value: null },\n    normalScale: { value: new Vector2(1, 1) }\n  },\n  displacementmap: {\n    displacementMap: { value: null },\n    displacementScale: { value: 1 },\n    displacementBias: { value: 0 }\n  },\n  roughnessmap: {\n    roughnessMap: { value: null }\n  },\n  metalnessmap: {\n    metalnessMap: { value: null }\n  },\n  fog: {\n    fogDensity: { value: 0.00025 },\n    fogNear: { value: 1 },\n    fogFar: { value: 2000 },\n    fogColor: { value: new Color(0xffffff) }\n  },\n  lights: {\n    ambientLightColor: { value: [] },\n    directionalLights: { value: [], properties: {\n      direction: {},\n      color: {},\n      shadow: {},\n      shadowBias: {},\n      shadowRadius: {},\n      shadowMapSize: {}\n    } },\n    directionalShadowMap: { value: [] },\n    directionalShadowMatrix: { value: [] },\n    spotLights: { value: [], properties: {\n      color: {},\n      position: {},\n      direction: {},\n      distance: {},\n      coneCos: {},\n      penumbraCos: {},\n      decay: {},\n      shadow: {},\n      shadowBias: {},\n      shadowRadius: {},\n      shadowMapSize: {}\n    } },\n    spotShadowMap: { value: [] },\n    spotShadowMatrix: { value: [] },\n    pointLights: { value: [], properties: {\n      color: {},\n      position: {},\n      decay: {},\n      distance: {},\n      shadow: {},\n      shadowBias: {},\n      shadowRadius: {},\n      shadowMapSize: {}\n    } },\n    pointShadowMap: { value: [] },\n    pointShadowMatrix: { value: [] },\n    hemisphereLights: { value: [], properties: {\n      direction: {},\n      skyColor: {},\n      groundColor: {}\n    } }\n  },\n  points: {\n    diffuse: { value: new Color(0xeeeeee) },\n    opacity: { value: 1.0 },\n    size: { value: 1.0 },\n    scale: { value: 1.0 },\n    map: { value: null },\n    offsetRepeat: { value: new Vector4(0, 0, 1, 1) }\n  }\n};\n","/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\nimport { ShaderChunk } from \"./ShaderChunk\";\nimport { UniformsUtils } from \"./UniformsUtils\";\nimport { Vector3 } from \"../../math/Vector3\";\nimport { UniformsLib } from \"./UniformsLib\";\nimport { Color } from \"../../math/Color\";\nexport const ShaderLib: any = {\n  basic: {\n    uniforms: UniformsUtils.merge([\n      UniformsLib.common,\n      UniformsLib.aomap,\n      UniformsLib.fog\n    ]),\n    vertexShader: ShaderChunk.meshbasic_vert,\n    fragmentShader: ShaderChunk.meshbasic_frag\n  },\n  lambert: {\n    uniforms: UniformsUtils.merge([\n      UniformsLib.common,\n      UniformsLib.aomap,\n      UniformsLib.lightmap,\n      UniformsLib.emissivemap,\n      UniformsLib.fog,\n      UniformsLib.lights,\n      {\n        emissive : { value: new Color(0x000000) }\n      }\n    ]),\n    vertexShader: ShaderChunk.meshlambert_vert,\n    fragmentShader: ShaderChunk.meshlambert_frag\n  },\n  phong: {\n    uniforms: UniformsUtils.merge([\n      UniformsLib.common,\n      UniformsLib.aomap,\n      UniformsLib.lightmap,\n      UniformsLib.emissivemap,\n      UniformsLib.bumpmap,\n      UniformsLib.normalmap,\n      UniformsLib.displacementmap,\n      UniformsLib.fog,\n      UniformsLib.lights,\n      {\n        emissive : { value: new Color(0x000000) },\n        specular : { value: new Color(0x111111) },\n        shininess: { value: 30 }\n      }\n    ]),\n    vertexShader: ShaderChunk.meshphong_vert,\n    fragmentShader: ShaderChunk.meshphong_frag\n  },\n  standard: {\n    uniforms: UniformsUtils.merge([\n      UniformsLib.common,\n      UniformsLib.aomap,\n      UniformsLib.lightmap,\n      UniformsLib.emissivemap,\n      UniformsLib.bumpmap,\n      UniformsLib.normalmap,\n      UniformsLib.displacementmap,\n      UniformsLib.roughnessmap,\n      UniformsLib.metalnessmap,\n      UniformsLib.fog,\n      UniformsLib.lights,\n      {\n        emissive : { value: new Color(0x000000) },\n        roughness: { value: 0.5 },\n        metalness: { value: 0 },\n        envMapIntensity : { value: 1 }, // temporary\n      }\n    ]),\n    vertexShader: ShaderChunk.meshphysical_vert,\n    fragmentShader: ShaderChunk.meshphysical_frag\n  },\n  points: {\n    uniforms: UniformsUtils.merge([\n      UniformsLib.points,\n      UniformsLib.fog\n    ]),\n    vertexShader: ShaderChunk.points_vert,\n    fragmentShader: ShaderChunk.points_frag\n  },\n  dashed: {\n    uniforms: UniformsUtils.merge([\n      UniformsLib.common,\n      UniformsLib.fog,\n      {\n        scale    : { value: 1 },\n        dashSize : { value: 1 },\n        totalSize: { value: 2 }\n      }\n    ]),\n    vertexShader: ShaderChunk.linedashed_vert,\n    fragmentShader: ShaderChunk.linedashed_frag\n  },\n  depth: {\n    uniforms: UniformsUtils.merge([\n      UniformsLib.common,\n      UniformsLib.displacementmap\n    ]),\n    vertexShader: ShaderChunk.depth_vert,\n    fragmentShader: ShaderChunk.depth_frag\n  },\n  normal: {\n    uniforms: {\n      opacity : { value: 1.0 }\n    },\n    vertexShader: ShaderChunk.normal_vert,\n    fragmentShader: ShaderChunk.normal_frag\n  },\n  /* -------------------------------------------------------------------------\n  //  Cube map shader\n   ------------------------------------------------------------------------- */\n  cube: {\n    uniforms: {\n      tCube: { value: null },\n      tFlip: { value: - 1 },\n      opacity: { value: 1.0 }\n    },\n    vertexShader: ShaderChunk.cube_vert,\n    fragmentShader: ShaderChunk.cube_frag\n  },\n  /* -------------------------------------------------------------------------\n  //  Cube map shader\n   ------------------------------------------------------------------------- */\n  equirect: {\n    uniforms: {\n      tEquirect: { value: null },\n      tFlip: { value: - 1 }\n    },\n    vertexShader: ShaderChunk.equirect_vert,\n    fragmentShader: ShaderChunk.equirect_frag\n  },\n  distanceRGBA: {\n    uniforms: {\n      lightPos: { value: new Vector3() }\n    },\n    vertexShader: ShaderChunk.distanceRGBA_vert,\n    fragmentShader: ShaderChunk.distanceRGBA_frag\n  }\n};\nShaderLib.physical = {\n  uniforms: UniformsUtils.merge([\n    ShaderLib.standard.uniforms,\n    {\n      clearCoat: { value: 0 },\n      clearCoatRoughness: { value: 0 }\n    }\n  ]),\n  vertexShader: ShaderChunk.meshphysical_vert,\n  fragmentShader: ShaderChunk.meshphysical_frag\n};\n","import { Vector2 } from \"./Vector2\";\n/**\n * @author bhouston / http://clara.io\n */\nexport class Box2 {\n  min: Vector2;\n  max: Vector2;\n  constructor(min = new Vector2(+ Infinity, + Infinity), max = new Vector2(- Infinity, - Infinity)) {\n    this.min = min;\n    this.max = max;\n  }\n  set(min: Vector2, max: Vector2): Box2 {\n    this.min.copy(min);\n    this.max.copy(max);\n    return this;\n  }\n  setFromPoints(points: Vector2[]): Box2 {\n    this.makeEmpty();\n    for (let i = 0, il = points.length; i < il; i ++) {\n      this.expandByPoint(points[i]);\n    }\n    return this;\n  }\n  private static _setFromCenterAndSize_v1 = new Vector2();\n  setFromCenterAndSize(center: Vector2, size: Vector2): Box2 {\n    const v1 = Box2._setFromCenterAndSize_v1;\n    const halfSize = v1.copy(size).multiplyScalar(0.5);\n    this.min.copy(center).sub(halfSize);\n    this.max.copy(center).add(halfSize);\n    return this;\n  }\n  clone(): Box2 {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(box: Box2): Box2 {\n    this.min.copy(box.min);\n    this.max.copy(box.max);\n    return this;\n  }\n  makeEmpty(): Box2 {\n    this.min.x = this.min.y = + Infinity;\n    this.max.x = this.max.y = - Infinity;\n    return this;\n  }\n  isEmpty(): boolean {\n    // this is a more robust check for empty than (volume <= 0) because volume can get positive with two negative axes\n    return (this.max.x < this.min.x) || (this.max.y < this.min.y);\n  }\n  getCenter(result: Vector2 = new Vector2()): Vector2 {\n    return this.isEmpty() ? result.set(0, 0) : result.addVectors(this.min, this.max).multiplyScalar(0.5);\n  }\n  getSize(result: Vector2 = new Vector2()): Vector2 {\n    return this.isEmpty() ? result.set(0, 0) : result.subVectors(this.max, this.min);\n  }\n  expandByPoint(point: Vector2): Box2 {\n    this.min.min(point);\n    this.max.max(point);\n    return this;\n  }\n  expandByVector(vector: Vector2): Box2 {\n    this.min.sub(vector);\n    this.max.add(vector);\n    return this;\n  }\n  expandByScalar(scalar: number): Box2 {\n    this.min.addScalar(- scalar);\n    this.max.addScalar(scalar);\n    return this;\n  }\n  containsPoint(point: Vector2): boolean {\n    if (point.x < this.min.x || point.x > this.max.x ||\n         point.y < this.min.y || point.y > this.max.y) {\n      return false;\n    }\n    return true;\n  }\n  containsBox(box: Box2): boolean {\n    if ((this.min.x <= box.min.x) && (box.max.x <= this.max.x) &&\n      (this.min.y <= box.min.y) && (box.max.y <= this.max.y)) {\n      return true;\n    }\n    return false;\n  }\n  getParameter(point: Vector2, result: Vector2 = new Vector2()): Vector2 {\n    // This can potentially have a divide by zero if the box\n    // has a size dimension of 0.\n    return result.set(\n      (point.x - this.min.x) / (this.max.x - this.min.x),\n      (point.y - this.min.y) / (this.max.y - this.min.y)\n    );\n  }\n  intersectsBox(box: Box2): boolean {\n    // using 6 splitting planes to rule out intersections.\n    if (box.max.x < this.min.x || box.min.x > this.max.x ||\n      box.max.y < this.min.y || box.min.y > this.max.y) {\n      return false;\n    }\n    return true;\n  }\n  clampPoint(point: Vector2, result: Vector2 = new Vector2()): Vector2 {\n    return result.copy(point).clamp(this.min, this.max);\n  }\n  private static _distanceToPoint_v1 = new Vector2();\n  distanceToPoint(point: Vector2): number {\n    const v1 = Box2._distanceToPoint_v1;\n    const clampedPoint = v1.copy(point).clamp(this.min, this.max);\n    return clampedPoint.sub(point).length();\n  }\n  intersect(box: Box2): Box2 {\n    this.min.max(box.min);\n    this.max.min(box.max);\n    return this;\n  }\n  union(box: Box2): Box2 {\n    this.min.min(box.min);\n    this.max.max(box.max);\n    return this;\n  }\n  translate(offset: Vector2): Box2 {\n    this.min.add(offset);\n    this.max.add(offset);\n    return this;\n  }\n  equals(box: Box2): boolean {\n    return box.min.equals(this.min) && box.max.equals(this.max);\n  }\n  empty(): boolean {\n    console.warn(\"THREE.Box2: .empty() has been renamed to .isEmpty().\");\n    return this.isEmpty();\n  }\n  center(optionalTarget: Vector2 = new Vector2()): Vector2 {\n    console.warn(\"THREE.Box2: .center() has been renamed to .getCenter().\");\n    return this.getCenter(optionalTarget);\n  }\n  size(optionalTarget: Vector2 = new Vector2()): Vector2 {\n    console.warn(\"THREE.Box2: .size() has been renamed to .getSize().\");\n    return this.getSize(optionalTarget);\n  }\n  isIntersectionBox(box: Box2): boolean {\n    console.warn(\"THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().\");\n    return this.intersectsBox(box);\n  }\n};\n","import { Box2 } from \"../../../math/Box2\";\nimport { Vector2 } from \"../../../math/Vector2\";\nimport { Vector3 } from \"../../../math/Vector3\";\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\nexport class LensFlarePlugin {\n  renderer: any;\n  flares: any;\n  vertexBuffer: any;\n  elementBuffer: any;\n  shader: any;\n  program: any;\n  attributes: any;\n  uniforms: any;\n  tempTexture: any;\n  occlusionTexture: any;\n  constructor(renderer: any, flares: any) {\n    this.renderer = renderer;\n    this.flares = flares;\n  }\n  init(): void {\n    const gl: WebGLRenderingContext = this.renderer.context;\n    const state = this.renderer.state;\n    const vertices = new Float32Array([\n      - 1, - 1,  0, 0,\n       1, - 1,  1, 0,\n       1,  1,  1, 1,\n      - 1,  1,  0, 1\n    ]);\n    const faces = new Uint16Array([\n      0, 1, 2,\n      0, 2, 3\n    ]);\n    // buffers\n    const vertexBuffer = this.vertexBuffer = gl.createBuffer();\n    const elementBuffer = this.elementBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, elementBuffer);\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW);\n    // textures\n    const tempTexture = this.tempTexture = gl.createTexture();\n    const occlusionTexture = this.occlusionTexture = gl.createTexture();\n    state.bindTexture(gl.TEXTURE_2D, tempTexture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, 16, 16, 0, gl.RGB, gl.UNSIGNED_BYTE, null);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    state.bindTexture(gl.TEXTURE_2D, occlusionTexture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 16, 16, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    const shader = this.shader = {\n      vertexShader: [\n        \"uniform lowp int renderType;\",\n        \"uniform vec3 screenPosition;\",\n        \"uniform vec2 scale;\",\n        \"uniform float rotation;\",\n        \"uniform sampler2D occlusionMap;\",\n        \"attribute vec2 position;\",\n        \"attribute vec2 uv;\",\n        \"varying vec2 vUV;\",\n        \"varying float vVisibility;\",\n        \"void main() {\",\n          \"vUV = uv;\",\n          \"vec2 pos = position;\",\n          \"if (renderType == 2) {\",\n            \"vec4 visibility = texture2D(occlusionMap, vec2(0.1, 0.1));\",\n            \"visibility += texture2D(occlusionMap, vec2(0.5, 0.1));\",\n            \"visibility += texture2D(occlusionMap, vec2(0.9, 0.1));\",\n            \"visibility += texture2D(occlusionMap, vec2(0.9, 0.5));\",\n            \"visibility += texture2D(occlusionMap, vec2(0.9, 0.9));\",\n            \"visibility += texture2D(occlusionMap, vec2(0.5, 0.9));\",\n            \"visibility += texture2D(occlusionMap, vec2(0.1, 0.9));\",\n            \"visibility += texture2D(occlusionMap, vec2(0.1, 0.5));\",\n            \"visibility += texture2D(occlusionMap, vec2(0.5, 0.5));\",\n            \"vVisibility =        visibility.r / 9.0;\",\n            \"vVisibility *= 1.0 - visibility.g / 9.0;\",\n            \"vVisibility *=       visibility.b / 9.0;\",\n            \"vVisibility *= 1.0 - visibility.a / 9.0;\",\n            \"pos.x = cos(rotation) * position.x - sin(rotation) * position.y;\",\n            \"pos.y = sin(rotation) * position.x + cos(rotation) * position.y;\",\n          \"}\",\n          \"gl_Position = vec4((pos * scale + screenPosition.xy).xy, screenPosition.z, 1.0);\",\n        \"}\"\n      ].join(\"\\n\"),\n      fragmentShader: [\n        \"uniform lowp int renderType;\",\n        \"uniform sampler2D map;\",\n        \"uniform float opacity;\",\n        \"uniform vec3 color;\",\n        \"varying vec2 vUV;\",\n        \"varying float vVisibility;\",\n        \"void main() {\",\n          // pink square\n          \"if (renderType == 0) {\",\n            \"gl_FragColor = vec4(1.0, 0.0, 1.0, 0.0);\",\n          // restore\n          \"} else if (renderType == 1) {\",\n            \"gl_FragColor = texture2D(map, vUV);\",\n          // flare\n          \"} else {\",\n            \"vec4 texture = texture2D(map, vUV);\",\n            \"texture.a *= opacity * vVisibility;\",\n            \"gl_FragColor = texture;\",\n            \"gl_FragColor.rgb *= color;\",\n          \"}\",\n        \"}\"\n      ].join(\"\\n\")\n    };\n    const program = this.program = this.createProgram(shader);\n    this.attributes = {\n      vertex: gl.getAttribLocation (program, \"position\"),\n      uv:     gl.getAttribLocation (program, \"uv\")\n    };\n    this.uniforms = {\n      renderType:     gl.getUniformLocation(program, \"renderType\"),\n      map:            gl.getUniformLocation(program, \"map\"),\n      occlusionMap:   gl.getUniformLocation(program, \"occlusionMap\"),\n      opacity:        gl.getUniformLocation(program, \"opacity\"),\n      color:          gl.getUniformLocation(program, \"color\"),\n      scale:          gl.getUniformLocation(program, \"scale\"),\n      rotation:       gl.getUniformLocation(program, \"rotation\"),\n      screenPosition: gl.getUniformLocation(program, \"screenPosition\")\n    };\n  }\n  /*\n   * Render lens flares\n   * Method: renders 16x16 0xff00ff-colored points scattered over the light source area,\n   *         reads these back and calculates occlusion.\n   */\n  render(scene: any, camera: any, viewport: any): void {\n    const gl: WebGLRenderingContext = this.renderer.context;\n    const state = this.renderer.state;\n    const flares = this.flares;\n    if (flares.length === 0) return;\n    const tempPosition = new Vector3();\n    const invAspect = viewport.w / viewport.z;\n    const halfViewportWidth = viewport.z * 0.5;\n    const halfViewportHeight = viewport.w * 0.5;\n    let size = 16 / viewport.w;\n    const scale = new Vector2(size * invAspect, size);\n    const screenPosition = new Vector3(1, 1, 0);\n    const screenPositionPixels = new Vector2(1, 1);\n    const validArea = new Box2();\n    validArea.min.set(viewport.x, viewport.y);\n    validArea.max.set(viewport.x + (viewport.z - 16), viewport.y + (viewport.w - 16));\n    if (this.program === undefined) {\n      this.init();\n    }\n    const uniforms = this.uniforms;\n    const attributes = this.attributes;\n    gl.useProgram(this.program);\n    state.initAttributes();\n    state.enableAttribute(attributes.vertex);\n    state.enableAttribute(attributes.uv);\n    state.disableUnusedAttributes();\n    // loop through all lens flares to update their occlusion and positions\n    // setup gl and common used attribs/uniforms\n    gl.uniform1i(uniforms.occlusionMap, 0);\n    gl.uniform1i(uniforms.map, 1);\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n    gl.vertexAttribPointer(attributes.vertex, 2, gl.FLOAT, false, 2 * 8, 0);\n    gl.vertexAttribPointer(attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8);\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.elementBuffer);\n    state.disable(gl.CULL_FACE);\n    state.setDepthWrite(false);\n    for (let i = 0, l = flares.length; i < l; i ++) {\n      size = 16 / viewport.w;\n      scale.set(size * invAspect, size);\n      // calc object screen position\n      const flare = flares[i];\n      tempPosition.set(flare.matrixWorld.elements[12], flare.matrixWorld.elements[13], flare.matrixWorld.elements[14]);\n      tempPosition.applyMatrix4(camera.matrixWorldInverse);\n      tempPosition.applyProjection(camera.projectionMatrix);\n      // setup arrays for gl programs\n      screenPosition.copy(tempPosition);\n      // horizontal and vertical coordinate of the lower left corner of the pixels to copy\n      screenPositionPixels.x = viewport.x + (screenPosition.x * halfViewportWidth) + halfViewportWidth - 8;\n      screenPositionPixels.y = viewport.y + (screenPosition.y * halfViewportHeight) + halfViewportHeight - 8;\n      // screen cull\n      if (validArea.containsPoint(screenPositionPixels) === true) {\n        // save current RGB to temp texture\n        state.activeTexture(gl.TEXTURE0);\n        state.bindTexture(gl.TEXTURE_2D, null);\n        state.activeTexture(gl.TEXTURE1);\n        state.bindTexture(gl.TEXTURE_2D, this.tempTexture);\n        gl.copyTexImage2D(gl.TEXTURE_2D, 0, gl.RGB, screenPositionPixels.x, screenPositionPixels.y, 16, 16, 0);\n        // render pink quad\n        gl.uniform1i(uniforms.renderType, 0);\n        gl.uniform2f(uniforms.scale, scale.x, scale.y);\n        gl.uniform3f(uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z);\n        state.disable(gl.BLEND);\n        state.enable(gl.DEPTH_TEST);\n        gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\n        // copy result to occlusionMap\n        state.activeTexture(gl.TEXTURE0);\n        state.bindTexture(gl.TEXTURE_2D, this.occlusionTexture);\n        gl.copyTexImage2D(gl.TEXTURE_2D, 0, gl.RGBA, screenPositionPixels.x, screenPositionPixels.y, 16, 16, 0);\n        // restore graphics\n        gl.uniform1i(uniforms.renderType, 1);\n        state.disable(gl.DEPTH_TEST);\n        state.activeTexture(gl.TEXTURE1);\n        state.bindTexture(gl.TEXTURE_2D, this.tempTexture);\n        gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\n        // update object positions\n        flare.positionScreen.copy(screenPosition);\n        if (flare.customUpdateCallback) {\n          flare.customUpdateCallback(flare);\n        } else {\n          flare.updateLensFlares();\n        }\n        // render flares\n        gl.uniform1i(uniforms.renderType, 2);\n        state.enable(gl.BLEND);\n        for (let j = 0, jl = flare.lensFlares.length; j < jl; j ++) {\n          const sprite = flare.lensFlares[j];\n          if (sprite.opacity > 0.001 && sprite.scale > 0.001) {\n            screenPosition.x = sprite.x;\n            screenPosition.y = sprite.y;\n            screenPosition.z = sprite.z;\n            size = sprite.size * sprite.scale / viewport.w;\n            scale.x = size * invAspect;\n            scale.y = size;\n            gl.uniform3f(uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z);\n            gl.uniform2f(uniforms.scale, scale.x, scale.y);\n            gl.uniform1f(uniforms.rotation, sprite.rotation);\n            gl.uniform1f(uniforms.opacity, sprite.opacity);\n            gl.uniform3f(uniforms.color, sprite.color.r, sprite.color.g, sprite.color.b);\n            state.setBlending(sprite.blending, sprite.blendEquation, sprite.blendSrc, sprite.blendDst);\n            this.renderer.setTexture2D(sprite.texture, 1);\n            gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\n          }\n        }\n      }\n    }\n    // restore gl\n    state.enable(gl.CULL_FACE);\n    state.enable(gl.DEPTH_TEST);\n    state.setDepthWrite(true);\n    this.renderer.resetGLState();\n  }\n  createProgram(shader: any): WebGLProgram {\n    const gl: WebGLRenderingContext = this.renderer.context;\n    const program = gl.createProgram();\n    const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n    const vertexShader = gl.createShader(gl.VERTEX_SHADER);\n    const prefix = \"precision \" + this.renderer.getPrecision() + \" float;\\n\";\n    gl.shaderSource(fragmentShader, prefix + shader.fragmentShader);\n    gl.shaderSource(vertexShader, prefix + shader.vertexShader);\n    gl.compileShader(fragmentShader);\n    gl.compileShader(vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.attachShader(program, vertexShader);\n    gl.linkProgram(program);\n    return program;\n  }\n}\n","import { Color } from \"../math/Color\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\nexport class Fog {\n  name: string = '';\n  color: Color;\n  near: number;\n  far: number;\n  readonly isFog: boolean = true;\n  constructor(color: number, near: number = 1, far: number = 1000) {\n    this.color = new Color(color);\n    this.near = near;\n    this.far = far;\n  }\n  clone(): this {\n    return new (this.constructor as any)(this.color.getHex(), this.near, this.far);\n  }\n  toJSON(meta: any): any {\n    return {\n      type: 'Fog',\n      color: this.color.getHex(),\n      near: this.near,\n      far: this.far\n    };\n  }\n}\n","import { Color } from \"../math/Color\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\nexport class FogExp2 {\n  name: string = '';\n  color: Color;\n  density: number;\n  readonly isFogExp2: boolean = true;\n  constructor(color: number, density: number = 0.00025) {\n    this.color = new Color(color);\n    this.density = density;\n  }\n  clone(): this {\n    return new (this.constructor as any)(this.color.getHex(), this.density);\n  }\n  toJSON(meta: any): any {\n    return {\n      type: 'FogExp2',\n      color: this.color.getHex(),\n      density: this.density\n    };\n  }\n}\n","import { Texture } from \"../../../textures/Texture\";\nimport { Vector3 } from \"../../../math/Vector3\";\nimport { Quaternion } from \"../../../math/Quaternion\";\nimport { Fog } from \"../../../scenes/Fog\";\nimport { FogExp2 } from \"../../../scenes/FogExp2\";\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\nexport class SpritePlugin {\n  renderer: any;\n  sprites: any;\n  vertexBuffer: any;\n  elementBuffer: any;\n  program: any;\n  attributes: any;\n  uniforms: any;\n  texture: any;\n  constructor(renderer: any, sprites: any) {\n    this.renderer = renderer;\n    this.sprites = sprites;\n  }\n  init() {\n    const renderer = this.renderer;\n    const gl: WebGLRenderingContext = renderer.context;\n    const vertices = new Float32Array([\n      - 0.5, - 0.5,  0, 0,\n        0.5, - 0.5,  1, 0,\n        0.5,   0.5,  1, 1,\n      - 0.5,   0.5,  0, 1\n    ]);\n    const faces = new Uint16Array([\n      0, 1, 2,\n      0, 2, 3\n    ]);\n    const vertexBuffer = this.vertexBuffer = gl.createBuffer();\n    const elementBuffer = this.elementBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, elementBuffer);\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW);\n    const program = this.program = this.createProgram();\n    this.attributes = {\n      position:      gl.getAttribLocation (program, 'position'),\n      uv:          gl.getAttribLocation (program, 'uv')\n    };\n    this.uniforms = {\n      uvOffset:      gl.getUniformLocation(program, 'uvOffset'),\n      uvScale:      gl.getUniformLocation(program, 'uvScale'),\n      rotation:      gl.getUniformLocation(program, 'rotation'),\n      scale:        gl.getUniformLocation(program, 'scale'),\n      color:        gl.getUniformLocation(program, 'color'),\n      map:        gl.getUniformLocation(program, 'map'),\n      opacity:      gl.getUniformLocation(program, 'opacity'),\n      modelViewMatrix:   gl.getUniformLocation(program, 'modelViewMatrix'),\n      projectionMatrix:  gl.getUniformLocation(program, 'projectionMatrix'),\n      fogType:      gl.getUniformLocation(program, 'fogType'),\n      fogDensity:      gl.getUniformLocation(program, 'fogDensity'),\n      fogNear:      gl.getUniformLocation(program, 'fogNear'),\n      fogFar:        gl.getUniformLocation(program, 'fogFar'),\n      fogColor:      gl.getUniformLocation(program, 'fogColor'),\n      alphaTest:      gl.getUniformLocation(program, 'alphaTest')\n    };\n    const canvas = <HTMLCanvasElement> document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n    canvas.width = 8;\n    canvas.height = 8;\n    const context = canvas.getContext('2d');\n    context.fillStyle = 'white';\n    context.fillRect(0, 0, 8, 8);\n    const texture = this.texture = new Texture(canvas);\n    texture.needsUpdate = true;\n  }\n  render(scene: any, camera: any) {\n    // decompose matrixWorld\n    const spritePosition = new Vector3();\n    const spriteRotation = new Quaternion();\n    const spriteScale = new Vector3();\n    const renderer = this.renderer;\n    const sprites = this.sprites;\n    const gl: WebGLRenderingContext = renderer.context;\n    const state = renderer.state;\n    if (sprites.length === 0) return;\n    // setup gl\n    if (this.program === undefined) {\n      this.init();\n    }\n    const program = this.program;\n    const attributes = this.attributes;\n    const uniforms = this.uniforms;\n    gl.useProgram(program);\n    state.initAttributes();\n    state.enableAttribute(attributes.position);\n    state.enableAttribute(attributes.uv);\n    state.disableUnusedAttributes();\n    state.disable(gl.CULL_FACE);\n    state.enable(gl.BLEND);\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n    gl.vertexAttribPointer(attributes.position, 2, gl.FLOAT, false, 2 * 8, 0);\n    gl.vertexAttribPointer(attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8);\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.elementBuffer);\n    gl.uniformMatrix4fv(uniforms.projectionMatrix, false, camera.projectionMatrix.elements);\n    state.activeTexture(gl.TEXTURE0);\n    gl.uniform1i(uniforms.map, 0);\n    let oldFogType = 0;\n    let sceneFogType = 0;\n    const fog = scene.fog;\n    if (fog) {\n      gl.uniform3f(uniforms.fogColor, fog.color.r, fog.color.g, fog.color.b);\n      if ((fog && fog instanceof Fog)) {\n        gl.uniform1f(uniforms.fogNear, fog.near);\n        gl.uniform1f(uniforms.fogFar, fog.far);\n        gl.uniform1i(uniforms.fogType, 1);\n        oldFogType = 1;\n        sceneFogType = 1;\n      } else if ((fog && fog instanceof FogExp2)) {\n        gl.uniform1f(uniforms.fogDensity, fog.density);\n        gl.uniform1i(uniforms.fogType, 2);\n        oldFogType = 2;\n        sceneFogType = 2;\n      }\n    } else {\n      gl.uniform1i(uniforms.fogType, 0);\n      oldFogType = 0;\n      sceneFogType = 0;\n    }\n    // update positions and sort\n    for (let i = 0, l = sprites.length; i < l; i ++) {\n      const sprite = sprites[i];\n      sprite.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, sprite.matrixWorld);\n      sprite.z = - sprite.modelViewMatrix.elements[14];\n    }\n    sprites.sort(SpritePlugin.painterSortStable);\n    // render all sprites\n    const scale: number[] = [];\n    for (let i = 0, l = sprites.length; i < l; i ++) {\n      const sprite = sprites[i];\n      const material = sprite.material;\n      if (material.visible === false) continue;\n      gl.uniform1f(uniforms.alphaTest, material.alphaTest);\n      gl.uniformMatrix4fv(uniforms.modelViewMatrix, false, sprite.modelViewMatrix.elements);\n      sprite.matrixWorld.decompose(spritePosition, spriteRotation, spriteScale);\n      scale[0] = spriteScale.x;\n      scale[1] = spriteScale.y;\n      let fogType = 0;\n      if (scene.fog && material.fog) {\n        fogType = sceneFogType;\n      }\n      if (oldFogType !== fogType) {\n        gl.uniform1i(uniforms.fogType, fogType);\n        oldFogType = fogType;\n      }\n      if (material.map !== null) {\n        gl.uniform2f(uniforms.uvOffset, material.map.offset.x, material.map.offset.y);\n        gl.uniform2f(uniforms.uvScale, material.map.repeat.x, material.map.repeat.y);\n      } else {\n        gl.uniform2f(uniforms.uvOffset, 0, 0);\n        gl.uniform2f(uniforms.uvScale, 1, 1);\n      }\n      gl.uniform1f(uniforms.opacity, material.opacity);\n      gl.uniform3f(uniforms.color, material.color.r, material.color.g, material.color.b);\n      gl.uniform1f(uniforms.rotation, material.rotation);\n      gl.uniform2fv(uniforms.scale, scale);\n      state.setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst);\n      state.setDepthTest(material.depthTest);\n      state.setDepthWrite(material.depthWrite);\n      if (material.map) {\n        renderer.setTexture2D(material.map, 0);\n      } else {\n        renderer.setTexture2D(this.texture, 0);\n      }\n      gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\n    }\n    // restore gl\n    state.enable(gl.CULL_FACE);\n    renderer.resetGLState();\n  }\n  createProgram() {\n    const renderer = this.renderer;\n    const gl: WebGLRenderingContext = renderer.context;\n    const program = gl.createProgram();\n    const vertexShader = gl.createShader(gl.VERTEX_SHADER);\n    const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(vertexShader, [\n      'precision ' + renderer.getPrecision() + ' float;',\n      'uniform mat4 modelViewMatrix;',\n      'uniform mat4 projectionMatrix;',\n      'uniform float rotation;',\n      'uniform vec2 scale;',\n      'uniform vec2 uvOffset;',\n      'uniform vec2 uvScale;',\n      'attribute vec2 position;',\n      'attribute vec2 uv;',\n      'varying vec2 vUV;',\n      'void main() {',\n        'vUV = uvOffset + uv * uvScale;',\n        'vec2 alignedPosition = position * scale;',\n        'vec2 rotatedPosition;',\n        'rotatedPosition.x = cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y;',\n        'rotatedPosition.y = sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y;',\n        'vec4 finalPosition;',\n        'finalPosition = modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);',\n        'finalPosition.xy += rotatedPosition;',\n        'finalPosition = projectionMatrix * finalPosition;',\n        'gl_Position = finalPosition;',\n      '}'\n    ].join('\\n'));\n    gl.shaderSource(fragmentShader, [\n      'precision ' + renderer.getPrecision() + ' float;',\n      'uniform vec3 color;',\n      'uniform sampler2D map;',\n      'uniform float opacity;',\n      'uniform int fogType;',\n      'uniform vec3 fogColor;',\n      'uniform float fogDensity;',\n      'uniform float fogNear;',\n      'uniform float fogFar;',\n      'uniform float alphaTest;',\n      'varying vec2 vUV;',\n      'void main() {',\n        'vec4 texture = texture2D(map, vUV);',\n        'if (texture.a < alphaTest) discard;',\n        'gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);',\n        'if (fogType > 0) {',\n          'float depth = gl_FragCoord.z / gl_FragCoord.w;',\n          'float fogFactor = 0.0;',\n          'if (fogType == 1) {',\n            'fogFactor = smoothstep(fogNear, fogFar, depth);',\n          '} else {',\n            'const float LOG2 = 1.442695;',\n            'fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);',\n            'fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);',\n          '}',\n          'gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);',\n        '}',\n      '}'\n    ].join('\\n'));\n    gl.compileShader(vertexShader);\n    gl.compileShader(fragmentShader);\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    return program;\n  }\n  static painterSortStable(a: any, b: any) {\n    if (a.renderOrder !== b.renderOrder) {\n      return a.renderOrder - b.renderOrder;\n    } else if (a.z !== b.z) {\n      return b.z - a.z;\n    } else {\n      return b.id - a.id;\n    }\n  }\n}\n","import { EventDispatcher } from \"../core/EventDispatcher\";\nimport { ColorsMode, SideMode, ShadingMode, DepthFunction, BlendingEquation, BlendingFactor } from \"../constants\";\nimport { BlendingMode } from \"../constants\";\nimport { Color } from \"../math/Color\";\nimport { _Math } from \"../math/Math\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Plane } from \"../math/Plane\";\nimport { Texture } from \"../textures/Texture\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\nexport interface MaterialParameters {\n  fog?: boolean;\n  lights?: boolean;\n  blending?: BlendingMode;\n  side?: SideMode;\n  shading?: ShadingMode;\n  vertexColors?: ColorsMode;\n  opacity?: number;\n  transparent?: boolean;\n  blendSrc?: BlendingFactor;\n  blendDst?: BlendingFactor;\n  blendEquation?: BlendingEquation;\n  blendSrcAlpha?: BlendingFactor;\n  blendDstAlpha?: BlendingFactor;\n  blendEquationAlpha?: BlendingEquation;\n  depthFunc?: DepthFunction;\n  depthTest?: boolean;\n  depthWrite?: boolean;\n  clipping?: boolean;\n  clippingPlanes?: Plane[];\n  clipIntersection?: boolean;\n  clipShadows?: boolean;\n  colorWrite?: boolean;\n  precision?: string;\n  polygonOffset?: boolean;\n  polygonOffsetFactor?: number;\n  polygonOffsetUnits?: number;\n  alphaTest?: number;\n  premultipliedAlpha?: boolean;\n  overdraw?: number;\n  visible?: boolean;\n}\nexport class Material extends EventDispatcher {\n  id: number = MaterialIdCount();\n  uuid: string = _Math.generateUUID();\n  name: string = '';\n  type: string = 'Material';\n  fog: boolean = true;\n  lights: boolean = true;\n  blending: BlendingMode = BlendingMode.Normal;\n  side: SideMode = SideMode.Front;\n  shading: ShadingMode = ShadingMode.Smooth; // THREE.ShadingMode.Flat, THREE.ShadingMode.Smooth\n  vertexColors: ColorsMode = ColorsMode.None; // THREE.ColorsMode.No, THREE.ColorsMode.Vertex, THREE.ColorsMode.Face\n  _opacity: number = 1;\n  transparent: boolean = false;\n  blendSrc: BlendingFactor = BlendingFactor.SrcAlpha;\n  blendDst: BlendingFactor = BlendingFactor.OneMinusSrcAlpha;\n  blendEquation: BlendingEquation = BlendingEquation.Add;\n  blendSrcAlpha: BlendingFactor = null;\n  blendDstAlpha: BlendingFactor = null;\n  blendEquationAlpha: BlendingEquation = null;\n  depthFunc: DepthFunction = DepthFunction.LessEqual;\n  depthTest: boolean = true;\n  depthWrite: boolean = true;\n  clipping: boolean = false;\n  clippingPlanes: Plane[] = null;\n  clipIntersection: boolean = false;\n  clipShadows: boolean = false;\n  colorWrite: boolean = true;\n  precision: string = null; // override the renderer's default precision for this material\n  polygonOffset: boolean = false;\n  polygonOffsetFactor: number = 0;\n  polygonOffsetUnits: number = 0;\n  alphaTest: number = 0;\n  premultipliedAlpha: boolean = false;\n  overdraw: number = 0; // Overdrawn pixels (typically between 0 and 1) for fixing antialiasing gaps in CanvasRenderer\n  visible: boolean = true;\n  _needsUpdate: boolean = true;\n  // {\n  color: any;\n  roughness: any;\n  metalness: any;\n  emissive: any;\n  specular: any;\n  map: any;\n  shininess: any;\n  alphaMap: any;\n  lightMap: any;\n  bumpMap: any;\n  bumpScale: any;\n  normalMap: any;\n  normalScale: any;\n  displacementMap: any;\n  displacementScale: any;\n  displacementBias: any;\n  roughnessMap: any;\n  metalnessMap: any;\n  emissiveMap: any;\n  specularMapl: any;\n  envMap: any;\n  specularMap: any;\n  reflectivity: any;\n  size: any;\n  sizeAttenuation: any;\n  wireframe: any;\n  wireframeLinewidth: any;\n  wireframeLinecap: any;\n  wireframeLinejoin: any;\n  skinning: any;\n  morphTargets: any;\n  materials: any;\n  defaultAttributeValues: any;\n  linewidth: any;\n  morphNormals: any;\n  program: any;\n  uniforms: any;\n  morphTransparency: any;\n  // }\n  readonly isMaterial: boolean = true;\n  readonly isMultiMaterial: boolean = false;\n  constructor() {\n    super();\n  }\n  get opacity(): number {\n    return this._opacity;\n  }\n  set opacity(value: number) {\n    this._opacity = value;\n  }\n  get needsUpdate(): boolean {\n    return this._needsUpdate;\n  }\n  set needsUpdate(value: boolean) {\n    if (value === true) this.update();\n    this._needsUpdate = value;\n  }\n  setValues(values: MaterialParameters): void {\n    if (values === undefined) return;\n    for (let key in values) {\n      let newValue = values[key];\n      if (newValue === undefined) {\n        console.warn(\"THREE.Material: '\" + key + \"' parameter is undefined.\");\n        continue;\n      }\n      let currentValue = this[key];\n      if (currentValue === undefined) {\n        console.warn(\"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\");\n        continue;\n      }\n      if ((currentValue && currentValue instanceof Color)) {\n        currentValue.set(newValue);\n      } else if ((currentValue && currentValue instanceof Vector3) && (newValue && newValue instanceof Vector3)) {\n        currentValue.copy(newValue);\n      } else if (key === 'overdraw') {\n        // ensure overdraw is backwards-compatible with legacy boolean type\n        this[key] = Number(newValue);\n      } else {\n        this[key] = newValue;\n      }\n    }\n  }\n  toJSON(meta: any): any {\n    let isRoot = meta === undefined;\n    if (isRoot) {\n      meta = {\n        textures: {},\n        images: {}\n      };\n    }\n    let data: any = {\n      metadata: {\n        version: 4.4,\n        type: 'Material',\n        generator: 'Material.toJSON'\n      }\n    };\n    // standard Material serialization\n    data.uuid = this.uuid;\n    data.type = this.type;\n    if (this.name !== '') data.name = this.name;\n    if ((this.color && this.color instanceof Color)) data.color = this.color.getHex();\n    if (this.roughness !== undefined) data.roughness = this.roughness;\n    if (this.metalness !== undefined) data.metalness = this.metalness;\n    if ((this.emissive && this.emissive instanceof Color)) data.emissive = this.emissive.getHex();\n    if ((this.specular && this.specular instanceof Color)) data.specular = this.specular.getHex();\n    if (this.shininess !== undefined) data.shininess = this.shininess;\n    if ((this.map && this.map instanceof Texture)) data.map = this.map.toJSON(meta).uuid;\n    if ((this.alphaMap && this.alphaMap instanceof Texture)) data.alphaMap = this.alphaMap.toJSON(meta).uuid;\n    if ((this.lightMap && this.lightMap instanceof Texture)) data.lightMap = this.lightMap.toJSON(meta).uuid;\n    if ((this.bumpMap && this.bumpMap instanceof Texture)) {\n      data.bumpMap = this.bumpMap.toJSON(meta).uuid;\n      data.bumpScale = this.bumpScale;\n    }\n    if ((this.normalMap && this.normalMap instanceof Texture)) {\n      data.normalMap = this.normalMap.toJSON(meta).uuid;\n      data.normalScale = this.normalScale.toArray();\n    }\n    if ((this.displacementMap && this.displacementMap instanceof Texture)) {\n      data.displacementMap = this.displacementMap.toJSON(meta).uuid;\n      data.displacementScale = this.displacementScale;\n      data.displacementBias = this.displacementBias;\n    }\n    if ((this.roughnessMap && this.roughnessMap instanceof Texture)) data.roughnessMap = this.roughnessMap.toJSON(meta).uuid;\n    if ((this.metalnessMap && this.metalnessMap instanceof Texture)) data.metalnessMap = this.metalnessMap.toJSON(meta).uuid;\n    if ((this.emissiveMap && this.emissiveMap instanceof Texture)) data.emissiveMap = this.emissiveMap.toJSON(meta).uuid;\n    if ((this.specularMap && this.specularMap instanceof Texture)) data.specularMap = this.specularMap.toJSON(meta).uuid;\n    if ((this.envMap && this.envMap instanceof Texture)) {\n      data.envMap = this.envMap.toJSON(meta).uuid;\n      data.reflectivity = this.reflectivity; // Scale behind envMap\n    }\n    if (this.size !== undefined) data.size = this.size;\n    if (this.sizeAttenuation !== undefined) data.sizeAttenuation = this.sizeAttenuation;\n    if (this.blending !== BlendingMode.Normal) data.blending = this.blending;\n    if (this.shading !== ShadingMode.Smooth) data.shading = this.shading;\n    if (this.side !== SideMode.Front) data.side = this.side;\n    if (this.vertexColors !== ColorsMode.None) data.vertexColors = this.vertexColors;\n    if (this.opacity < 1) data.opacity = this.opacity;\n    if (this.transparent === true) data.transparent = this.transparent;\n    data.depthFunc = this.depthFunc;\n    data.depthTest = this.depthTest;\n    data.depthWrite = this.depthWrite;\n    if (this.alphaTest > 0) data.alphaTest = this.alphaTest;\n    if (this.premultipliedAlpha === true) data.premultipliedAlpha = this.premultipliedAlpha;\n    if (this.wireframe === true) data.wireframe = this.wireframe;\n    if (this.wireframeLinewidth > 1) data.wireframeLinewidth = this.wireframeLinewidth;\n    if (this.wireframeLinecap !== 'round') data.wireframeLinecap = this.wireframeLinecap;\n    if (this.wireframeLinejoin !== 'round') data.wireframeLinejoin = this.wireframeLinejoin;\n    data.skinning = this.skinning;\n    data.morphTargets = this.morphTargets;\n    // TODO: Copied from Object3D.toJSON\n    function extractFromCache(cache: any) {\n      let values = [];\n      for (let key in cache) {\n        let data = cache[key];\n        delete data.metadata;\n        values.push(data);\n      }\n      return values;\n    }\n    if (isRoot) {\n      let textures = extractFromCache(meta.textures);\n      let images = extractFromCache(meta.images);\n      if (textures.length > 0) data.textures = textures;\n      if (images.length > 0) data.images = images;\n    }\n    return data;\n  }\n  clone(): this {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(source: this): this {\n    this.name = source.name;\n    this.fog = source.fog;\n    this.lights = source.lights;\n    this.blending = source.blending;\n    this.side = source.side;\n    this.shading = source.shading;\n    this.vertexColors = source.vertexColors;\n    this.opacity = source.opacity;\n    this.transparent = source.transparent;\n    this.blendSrc = source.blendSrc;\n    this.blendDst = source.blendDst;\n    this.blendEquation = source.blendEquation;\n    this.blendSrcAlpha = source.blendSrcAlpha;\n    this.blendDstAlpha = source.blendDstAlpha;\n    this.blendEquationAlpha = source.blendEquationAlpha;\n    this.depthFunc = source.depthFunc;\n    this.depthTest = source.depthTest;\n    this.depthWrite = source.depthWrite;\n    this.colorWrite = source.colorWrite;\n    this.precision = source.precision;\n    this.polygonOffset = source.polygonOffset;\n    this.polygonOffsetFactor = source.polygonOffsetFactor;\n    this.polygonOffsetUnits = source.polygonOffsetUnits;\n    this.alphaTest = source.alphaTest;\n    this.premultipliedAlpha = source.premultipliedAlpha;\n    this.overdraw = source.overdraw;\n    this.visible = source.visible;\n    this.clipShadows = source.clipShadows;\n    this.clipIntersection = source.clipIntersection;\n    let srcPlanes = source.clippingPlanes,\n      dstPlanes = null;\n    if (srcPlanes !== null) {\n      let n = srcPlanes.length;\n      dstPlanes = new Array(n);\n      for (let i = 0; i !== n; ++ i)\n        dstPlanes[i] = srcPlanes[i].clone();\n    }\n    this.clippingPlanes = dstPlanes;\n    return this;\n  }\n  update(): void {\n    this.dispatchEvent({ type: 'update' });\n  }\n  dispose(): void {\n    this.dispatchEvent({ type: 'dispose' });\n  }\n  get wrapAround(): boolean {\n    console.warn(\"THREE.\" + this.type + \": .wrapAround has been removed.\");\n    return false;\n  }\n  set wrapAround(value: boolean) {\n    console.warn(\"THREE.\" + this.type + \": .wrapAround has been removed.\");\n  }\n  get wrapRGB(): Color {\n    console.warn(\"THREE.\" + this.type + \": .wrapRGB has been removed.\");\n    return new Color();\n  }\n}\nlet count: number = 0;\nexport function MaterialIdCount(): number { return count++; };\n","import { Material, MaterialParameters } from \"./Material\";\nimport { UniformsUtils } from \"../renderers/shaders/UniformsUtils\";\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\nexport interface ShaderMaterialParameters extends MaterialParameters {\n  defines?: any;\n  uniforms?: any;\n\n  fragmentShader?: string;\n  vertexShader?: string;\n\n  wireframe?: boolean;\n  wireframeLinewidth?: number;\n\n  lights?: boolean;\n\n  skinning?: boolean;\n  morphTargets?: boolean;\n  morphNormals?: boolean;\n}\nexport class ShaderMaterial extends Material {\n  defines: any;\n  uniforms: any;\n  vertexShader: string;\n  fragmentShader: string;\n  linewidth: number;\n  extensions: any;\n  defaultAttributeValues: any;\n  index0AttributeName: string;\n  // {\n  numSupportedMorphTargets: number;\n  numSupportedMorphNormals: number;\n  __webglShader: any;\n  faceOffset: number;\n  faceNum: number;\n  combine: number;\n  outlineParameters: any;\n  // }\n  readonly isShaderMaterial: boolean = true;\n  constructor(parameters?: ShaderMaterialParameters) {\n    super();\n    this.type = 'ShaderMaterial';\n    this.defines = {};\n    this.uniforms = {};\n    this.vertexShader = 'void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n}';\n    this.fragmentShader = 'void main() {\\n\\tgl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\\n}';\n    this.linewidth = 1;\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.fog = false; // set to use scene fog\n    this.lights = false; // set to use scene lights\n    this.clipping = false; // set to use user-defined clipping planes\n    this.skinning = false; // set to use skinning attribute streams\n    this.morphTargets = false; // set to use morph targets\n    this.morphNormals = false; // set to use morph normals\n    this.extensions = {\n      derivatives: false, // set to use derivatives\n      fragDepth: false, // set to use fragment depth values\n      drawBuffers: false, // set to use draw buffers\n      shaderTextureLOD: false // set to use shader texture LOD\n    };\n    // When rendered geometry doesn't include these attributes but the material does,\n    // use these default values in WebGL. This avoids errors when buffer data is missing.\n    this.defaultAttributeValues = {\n      'color': [1, 1, 1],\n      'uv': [0, 0],\n      'uv2': [0, 0]\n    };\n    this.index0AttributeName = undefined;\n    if (parameters !== undefined) {\n      this.setValues(parameters);\n    }\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.fragmentShader = source.fragmentShader;\n    this.vertexShader = source.vertexShader;\n    this.uniforms = UniformsUtils.clone(source.uniforms);\n    this.defines = source.defines;\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.lights = source.lights;\n    this.clipping = source.clipping;\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n    this.extensions = source.extensions;\n    return this;\n  }\n  toJSON(meta: any): any {\n    let data = super.toJSON(meta);\n    data.uniforms = this.uniforms;\n    data.vertexShader = this.vertexShader;\n    data.fragmentShader = this.fragmentShader;\n    return data;\n  }\n  get derivatives(): boolean {\n    console.warn(\"THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\");\n    return this.extensions.derivatives;\n  }\n  set derivatives(value: boolean) {\n    console.warn(\"THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\");\n    this.extensions.derivatives = value;\n  }\n}\n","import { Material, MaterialParameters } from \"./Material\";\nimport { DepthPacking } from \"../constants\";\nimport { Texture } from \"../textures/Texture\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture(<Image>),\n *\n *  alphaMap: new THREE.Texture(<Image>),\n *\n *  displacementMap: new THREE.Texture(<Image>),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\nexport interface MeshDepthMaterialParameters extends MaterialParameters {\n  opacity?: number;\n\n  map?: Texture;\n\n  alphaMap?: Texture;\n\n  displacementMap?: Texture;\n  displacementScale?: number;\n  displacementBias?: number;\n\n  wireframe?: boolean;\n  wireframeLinewidth?: number;\n}\nexport class MeshDepthMaterial extends Material {\n  depthPacking: DepthPacking;\n  clipping: boolean;\n  readonly isMeshDepthMaterial: boolean = true;\n  constructor(parameters?: MeshDepthMaterialParameters) {\n    super();\n    this.type = 'MeshDepthMaterial';\n    this.depthPacking = DepthPacking.Basic;\n    this.skinning = false;\n    this.morphTargets = false;\n    this.map = null;\n    this.alphaMap = null;\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.fog = false;\n    this.lights = false;\n    this.setValues(parameters);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.depthPacking = source.depthPacking;\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.map = source.map;\n    this.alphaMap = source.alphaMap;\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    return this;\n  };\n}\n","import { Color } from \"../math/Color\";\nimport { Vector3 } from \"../math/Vector3\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\nexport class Face3 {\n  a: number;\n  b: number;\n  c: number;\n  normal: Vector3;\n  vertexNormals: Vector3[];\n  color: Color;\n  vertexColors: Color[];\n  materialIndex: number;\n  _id: any; // Geometry\n  __originalFaceNormal: any; // Geometry\n  __originalVertexNormals: any; // Geometry\n  constructor(a?: number, b?: number, c?: number, normal?: Vector3 | Vector3[], color?: Color | Color[], materialIndex?: number) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.normal = (normal && normal instanceof Vector3) ? normal : new Vector3();\n    this.vertexNormals = Array.isArray(normal) ? normal : [];\n    this.color = (color && color instanceof Color) ? color : new Color();\n    this.vertexColors = Array.isArray(color) ? color : [];\n    this.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n  }\n  clone(): this {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(source: this): this {\n    this.a = source.a;\n    this.b = source.b;\n    this.c = source.c;\n    this.normal.copy(source.normal);\n    this.color.copy(source.color);\n    this.materialIndex = source.materialIndex;\n    for (let i = 0, il = source.vertexNormals.length; i < il; i ++) {\n      this.vertexNormals[i] = source.vertexNormals[i].clone();\n    }\n    for (let i = 0, il = source.vertexColors.length; i < il; i ++) {\n      this.vertexColors[i] = source.vertexColors[i].clone();\n    }\n    return this;\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class Layers {\n  mask: number = 1;\n  set(channel: number): void {\n    this.mask = 1 << channel;\n  }\n  enable(channel: number): void {\n    this.mask |= 1 << channel;\n  }\n  toggle(channel: number): void {\n    this.mask ^= 1 << channel;\n  }\n  disable(channel: number): void {\n    this.mask &= ~ (1 << channel);\n  }\n  test(layers: Layers): boolean {\n    return (this.mask & layers.mask) !== 0;\n  }\n}\n","import { Quaternion } from \"../math/Quaternion\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Matrix4 } from \"../math/Matrix4\";\nimport { EventDispatcher } from \"./EventDispatcher\";\nimport { Euler } from \"../math/Euler\";\nimport { Layers } from \"./Layers\";\nimport { Matrix3 } from \"../math/Matrix3\";\nimport { _Math } from \"../math/Math\";\nimport { Geometry } from \"./Geometry\";\nimport { BufferGeometry } from \"./BufferGeometry\";\nimport { Material } from \"../materials/Material\";\nimport { MultiMaterial } from \"../materials/MultiMaterial\";\nimport { Raycaster, Intersect } from \"./Raycaster\";\nimport { AnimationClip } from \"../animation/AnimationClip\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\nexport class Object3D extends EventDispatcher {\n  id: number = Object3DIdCount();\n  uuid: string = _Math.generateUUID();\n  name: string = '';\n  type: string = 'Object3D';\n  parent: Object3D = null;\n  children: Object3D[] = [];\n  up: Vector3 = Object3D.DefaultUp.clone();\n  position: Vector3 = new Vector3();\n  rotation: Euler = new Euler();\n  quaternion: Quaternion = new Quaternion();\n  scale: Vector3 = new Vector3(1, 1, 1);\n  modelViewMatrix: Matrix4 = new Matrix4();\n  normalMatrix: Matrix3 = new Matrix3();\n  matrix: Matrix4 = new Matrix4();\n  matrixWorld: Matrix4 = new Matrix4();\n  matrixAutoUpdate: boolean = Object3D.DefaultMatrixAutoUpdate;\n  matrixWorldNeedsUpdate: boolean = false;\n  layers: Layers = new Layers();\n  visible: boolean = true;\n  castShadow: boolean = false;\n  receiveShadow: boolean = false;\n  frustumCulled: boolean = true;\n  renderOrder: number = 0;\n  userData: any = {};\n  onBeforeRender: (renderer, scene, camera, geometry, material, group) => void = function() {};\n  onAfterRender: (renderer, scene, camera, geometry, material, group) => void = function() {};\n  geometry: Geometry | BufferGeometry = undefined;\n  material: Material | MultiMaterial = undefined;\n  animations: AnimationClip[];\n  // {\n  count: any;\n  hasPositions: any; positionArray: any;\n  hasNormals: any; normalArray: any;\n  hasUvs: any; uvArray: any;\n  hasColors: any; colorArray: any;\n  morphTargetInfluences: any;\n  skeleton: any; // WebGLPrograms\n  shadow: any;\n  // }\n  readonly isObject3D: boolean = true;\n  static readonly DefaultUp: Vector3 = new Vector3(0, 1, 0);\n  static readonly DefaultMatrixAutoUpdate: boolean = true;\n  constructor() {\n    super();\n    const rotation = this.rotation;\n    const quaternion = this.quaternion;\n    function onRotationChange() {\n      quaternion.setFromEuler(rotation, false);\n    }\n    function onQuaternionChange() {\n      rotation.setFromQuaternion(quaternion, undefined, false);\n    }\n    rotation.onChange(onRotationChange);\n    quaternion.onChange(onQuaternionChange);\n  }\n  applyMatrix(matrix: Matrix4): void {\n    this.matrix.multiplyMatrices(matrix, this.matrix);\n    this.matrix.decompose(this.position, this.quaternion, this.scale);\n  }\n  setRotationFromAxisAngle(axis: Vector3, angle: number): void {\n    // assumes axis is normalized\n    this.quaternion.setFromAxisAngle(axis, angle);\n  }\n  setRotationFromEuler(euler: Euler): void {\n    this.quaternion.setFromEuler(euler, true);\n  }\n  setRotationFromMatrix(m: Matrix4): void {\n    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n    this.quaternion.setFromRotationMatrix(m);\n  }\n  setRotationFromQuaternion(q: Quaternion): void {\n    // assumes q is normalized\n    this.quaternion.copy(q);\n  }\n  private static _rotateOnAxis_q1 = new Quaternion();\n  rotateOnAxis(axis: Vector3, angle: number): Object3D {\n    // rotate object on axis in object space\n    // axis is assumed to be normalized\n    const q1 = Object3D._rotateOnAxis_q1;\n    q1.setFromAxisAngle(axis, angle);\n    this.quaternion.multiply(q1);\n    return this;\n  }\n  private static _rotateX_v1 = new Vector3(1, 0, 0);\n  rotateX(angle: number): Object3D {\n    const v1 = Object3D._rotateX_v1;\n    return this.rotateOnAxis(v1, angle);\n  }\n  private static _rotateY_v1 = new Vector3(0, 1, 0);\n  rotateY(angle: number): Object3D {\n    const v1 = Object3D._rotateY_v1;\n    return this.rotateOnAxis(v1, angle);\n  }\n  private static _rotateZ_v1 = new Vector3(0, 0, 1);\n  rotateZ(angle: number): Object3D {\n    const v1 = Object3D._rotateZ_v1;\n    return this.rotateOnAxis(v1, angle);\n  }\n  private static _translateOnAxis_v1 = new Vector3();\n  translateOnAxis(axis: Vector3, distance: number): Object3D {\n    // translate object by distance along axis in object space\n    // axis is assumed to be normalized\n    const v1 = Object3D._translateOnAxis_v1;\n    v1.copy(axis).applyQuaternion(this.quaternion);\n    this.position.add(v1.multiplyScalar(distance));\n    return this;\n  }\n  private static _translateX_v1 = new Vector3(1, 0, 0);\n  translateX(distance: number): Object3D {\n    const v1 = Object3D._translateX_v1;\n    return this.translateOnAxis(v1, distance);\n  }\n  private static _translateY_v1 = new Vector3(0, 1, 0);\n  translateY(distance: number): Object3D {\n    const v1 = Object3D._translateY_v1;\n    return this.translateOnAxis(v1, distance);\n  }\n  private static _translateZ_v1 = new Vector3(0, 0, 1);\n  translateZ(distance: number): Object3D {\n    const v1 = Object3D._translateZ_v1;\n    return this.translateOnAxis(v1, distance);\n  }\n  localToWorld(vector: Vector3): Vector3 {\n    return vector.applyMatrix4(this.matrixWorld);\n  }\n  private static _worldToLocal_m1 = new Matrix4();\n  worldToLocal(vector: Vector3): Vector3 {\n    const m1 = Object3D._worldToLocal_m1;\n    return vector.applyMatrix4(m1.getInverse(this.matrixWorld));\n  }\n  private static _lookAt_m1 = new Matrix4();\n  lookAt(vector: Vector3): void {\n    // This routine does not support objects with rotated and/or translated parent(s)\n    const m1 = Object3D._lookAt_m1;\n    m1.lookAt(vector, this.position, this.up);\n    this.quaternion.setFromRotationMatrix(m1);\n  }\n  add(object: Object3D): Object3D {\n    if (arguments.length > 1) {\n      for (let i = 0; i < arguments.length; i ++) {\n        this.add(arguments[i]);\n      }\n      return this;\n    }\n    if (object === this) {\n      console.error(\"THREE.Object3D.add: object can't be added as a child of itself.\", object);\n      return this;\n    }\n    if ((object && object instanceof Object3D)) {\n      if (object.parent !== null) {\n        object.parent.remove(object);\n      }\n      object.parent = this;\n      object.dispatchEvent({ type: 'added' });\n      this.children.push(object);\n    } else {\n      console.error(\"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object);\n    }\n    return this;\n  }\n  remove(object: Object3D): void {\n    if (arguments.length > 1) {\n      for (let i = 0; i < arguments.length; i ++) {\n        this.remove(arguments[i]);\n      }\n    }\n    const index = this.children.indexOf(object);\n    if (index !== - 1) {\n      object.parent = null;\n      object.dispatchEvent({ type: 'removed' });\n      this.children.splice(index, 1);\n    }\n  }\n  getObjectById(id: number): Object3D {\n    return this.getObjectByProperty('id', id);\n  }\n  getObjectByName(name: string): Object3D {\n    return this.getObjectByProperty('name', name);\n  }\n  getObjectByProperty(name: string, value: number | string): Object3D {\n    if (this[name] === value) return this;\n    for (let i = 0, l = this.children.length; i < l; i ++) {\n      const child = this.children[i];\n      const object = child.getObjectByProperty(name, value);\n      if (object !== undefined) {\n        return object;\n      }\n    }\n    return undefined;\n  }\n  getWorldPosition(result: Vector3 = new Vector3()): Vector3 {\n    this.updateMatrixWorld(true);\n    return result.setFromMatrixPosition(this.matrixWorld);\n  }\n  private static _getWorldQuaternion_position = new Vector3();\n  private static _getWorldQuaternion_scale = new Vector3();\n  getWorldQuaternion(result: Quaternion = new Quaternion()): Quaternion {\n    const position = Object3D._getWorldQuaternion_position;\n    const scale = Object3D._getWorldQuaternion_scale;\n    this.updateMatrixWorld(true);\n    this.matrixWorld.decompose(position, result, scale);\n    return result;\n  }\n  private static _getWorldRotation_quaternion = new Quaternion();\n  getWorldRotation(result: Euler = new Euler()): Euler {\n    const quaternion = Object3D._getWorldRotation_quaternion;\n    this.getWorldQuaternion(quaternion);\n    return result.setFromQuaternion(quaternion, this.rotation.order, false);\n  }\n  private static _getWorldScale_position = new Vector3();\n  private static _getWorldScale_quaternion = new Quaternion();\n  getWorldScale(result: Vector3 = new Vector3()): Vector3 {\n    const position = Object3D._getWorldScale_position;\n    const quaternion = Object3D._getWorldScale_quaternion;\n    this.updateMatrixWorld(true);\n    this.matrixWorld.decompose(position, quaternion, result);\n    return result;\n  }\n  private static _getWorldDirection_quaternion = new Quaternion();\n  getWorldDirection(result: Vector3 = new Vector3()): Vector3 {\n    const quaternion = Object3D._getWorldDirection_quaternion;\n    this.getWorldQuaternion(quaternion);\n    return result.set(0, 0, 1).applyQuaternion(quaternion);\n  }\n  raycast(raycaster: Raycaster, intersects: Intersect[]): Intersect[] {\n    return intersects;\n  }\n  traverse(callback: (object: Object3D) => void): void {\n    callback(this);\n    const children = this.children;\n    for (let i = 0, l = children.length; i < l; i ++) {\n      children[i].traverse(callback);\n    }\n  }\n  traverseVisible(callback: (object: Object3D) => void): void {\n    if (this.visible === false) return;\n    callback(this);\n    const children = this.children;\n    for (let i = 0, l = children.length; i < l; i ++) {\n      children[i].traverseVisible(callback);\n    }\n  }\n  traverseAncestors(callback: (object: Object3D) => void): void {\n    const parent = this.parent;\n    if (parent !== null) {\n      callback(parent);\n      parent.traverseAncestors(callback);\n    }\n  }\n  updateMatrix(): void {\n    this.matrix.compose(this.position, this.quaternion, this.scale);\n    this.matrixWorldNeedsUpdate = true;\n  }\n  updateMatrixWorld(force: boolean = false): void {\n    if (this.matrixAutoUpdate === true) this.updateMatrix();\n    if (this.matrixWorldNeedsUpdate === true || force === true) {\n      if (this.parent === null) {\n        this.matrixWorld.copy(this.matrix);\n      } else {\n        this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n      }\n      this.matrixWorldNeedsUpdate = false;\n      force = true;\n    }\n    // update children\n    const children = this.children;\n    for (let i = 0, l = children.length; i < l; i ++) {\n      children[i].updateMatrixWorld(force);\n    }\n  }\n  toJSON(meta?: any): any {\n    // meta is '' when called from JSON.stringify\n    const isRootObject = (meta === undefined || meta === '');\n    const output: any = {};\n    // meta is a hash used to collect geometries, materials.\n    // not providing it implies that this is the root object\n    // being serialized.\n    if (isRootObject) {\n      // initialize meta obj\n      meta = {\n        geometries: {},\n        materials: {},\n        textures: {},\n        images: {}\n      };\n      output.metadata = {\n        version: 4.4,\n        type: 'Object',\n        generator: 'Object3D.toJSON'\n      };\n    }\n    // standard Object3D serialization\n    const object: any = {};\n    object.uuid = this.uuid;\n    object.type = this.type;\n    if (this.name !== '') object.name = this.name;\n    if (JSON.stringify(this.userData) !== '{}') object.userData = this.userData;\n    if (this.castShadow === true) object.castShadow = true;\n    if (this.receiveShadow === true) object.receiveShadow = true;\n    if (this.visible === false) object.visible = false;\n    object.matrix = this.matrix.toArray();\n    //\n    if (this.geometry !== undefined) {\n      if (meta.geometries[this.geometry.uuid] === undefined) {\n        meta.geometries[this.geometry.uuid] = this.geometry.toJSON(meta);\n      }\n      object.geometry = this.geometry.uuid;\n    }\n    if (this.material !== undefined) {\n      if (meta.materials[this.material.uuid] === undefined) {\n        meta.materials[this.material.uuid] = this.material.toJSON(meta);\n      }\n      object.material = this.material.uuid;\n    }\n    //\n    if (this.children.length > 0) {\n      object.children = [];\n      for (let i = 0; i < this.children.length; i ++) {\n        object.children.push(this.children[i].toJSON(meta).object);\n      }\n    }\n    if (isRootObject) {\n      const geometries = extractFromCache(meta.geometries);\n      const materials = extractFromCache(meta.materials);\n      const textures = extractFromCache(meta.textures);\n      const images = extractFromCache(meta.images);\n      if (geometries.length > 0) output.geometries = geometries;\n      if (materials.length > 0) output.materials = materials;\n      if (textures.length > 0) output.textures = textures;\n      if (images.length > 0) output.images = images;\n    }\n    output.object = object;\n    return output;\n    // extract data from the cache hash\n    // remove metadata on each item\n    // and return as array\n    function extractFromCache(cache: any) {\n      const values = [];\n      for (let key in cache) {\n        const data = cache[key];\n        delete data.metadata;\n        values.push(data);\n      }\n      return values;\n    }\n  }\n  clone(recursive: boolean = true): this {\n    return new (this.constructor as any)().copy(this, recursive);\n  }\n  copy(source: this, recursive: boolean = true): this {\n    this.name = source.name;\n    this.up.copy(source.up);\n    this.position.copy(source.position);\n    this.quaternion.copy(source.quaternion);\n    this.scale.copy(source.scale);\n    this.matrix.copy(source.matrix);\n    this.matrixWorld.copy(source.matrixWorld);\n    this.matrixAutoUpdate = source.matrixAutoUpdate;\n    this.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n    this.visible = source.visible;\n    this.castShadow = source.castShadow;\n    this.receiveShadow = source.receiveShadow;\n    this.frustumCulled = source.frustumCulled;\n    this.renderOrder = source.renderOrder;\n    this.userData = JSON.parse(JSON.stringify(source.userData));\n    if (recursive === true) {\n      for (let i = 0; i < source.children.length; i ++) {\n        const child = source.children[i];\n        this.add(child.clone());\n      }\n    }\n    return this;\n  }\n  getChildByName(name: string): Object3D {\n    console.warn(\"THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().\");\n    return this.getObjectByName(name);\n  }\n  renderDepth(value: number): void {\n    console.warn(\"THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.\");\n  }\n  translate(distance: number, axis: Vector3): Object3D {\n    console.warn(\"THREE.Object3D: .translate() has been removed. Use .translateOnAxis(axis, distance) instead.\");\n    return this.translateOnAxis(axis, distance);\n  }\n  get eulerOrder(): string {\n    console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\");\n    return this.rotation.order;\n  }\n  set eulerOrder(value: string) {\n    console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\");\n    this.rotation.order = value;\n  }\n  get useQuaternion(): boolean {\n    console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\");\n    return true;\n  }\n  set useQuaternion(value: boolean) {\n    console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\");\n  }\n}\nlet count = 0;\nexport function Object3DIdCount() { return count++; };\n","import { Vector3 } from \"./Vector3\";\nimport { Matrix4 } from \"./Matrix4\";\nimport { Sphere } from \"./Sphere\";\nimport { Plane } from \"./Plane\";\nimport { Box3 } from \"./Box3\";\n/**\n * @author bhouston / http://clara.io\n */\nexport class Ray {\n  origin: Vector3;\n  direction: Vector3;\n  constructor(origin: Vector3 = new Vector3(), direction: Vector3 = new Vector3()) {\n    this.origin = origin;\n    this.direction = direction;\n  }\n  set(origin: Vector3, direction: Vector3) {\n    this.origin.copy(origin);\n    this.direction.copy(direction);\n    return this;\n  }\n  clone(): Ray {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(ray: Ray): Ray {\n    this.origin.copy(ray.origin);\n    this.direction.copy(ray.direction);\n    return this;\n  }\n  at(t: number, result: Vector3 = new Vector3()): Vector3 {\n    return result.copy(this.direction).multiplyScalar(t).add(this.origin);\n  }\n  lookAt(v: Vector3): Ray {\n    this.direction.copy(v).sub(this.origin).normalize();\n    return this;\n  }\n  private static recast_v1 = new Vector3();\n  recast(t: number): Ray {\n    const v1 = Ray.recast_v1;\n    this.origin.copy(this.at(t, v1));\n    return this;\n  }\n  closestPointToPoint(point: Vector3, result: Vector3 = new Vector3()): Vector3 {\n    result.subVectors(point, this.origin);\n    const directionDistance = result.dot(this.direction);\n    if (directionDistance < 0) {\n      return result.copy(this.origin);\n    }\n    return result.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n  }\n  distanceToPoint(point: Vector3): number {\n    return Math.sqrt(this.distanceSqToPoint(point));\n  }\n  private static distanceSqToPoint_v1 = new Vector3();\n  distanceSqToPoint(point: Vector3): number {\n    const v1 = Ray.distanceSqToPoint_v1;\n    const directionDistance = v1.subVectors(point, this.origin).dot(this.direction);\n    // point behind the ray\n    if (directionDistance < 0) {\n      return this.origin.distanceToSquared(point);\n    }\n    v1.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n    return v1.distanceToSquared(point);\n  }\n  private static distanceSqToSegment_segCenter = new Vector3();\n  private static distanceSqToSegment_segDir = new Vector3();\n  private static distanceSqToSegment_diff = new Vector3();\n  distanceSqToSegment(v0: Vector3, v1: Vector3, optionalPointOnRay: Vector3, optionalPointOnSegment: Vector3): number {\n    const segCenter = Ray.distanceSqToSegment_segCenter;\n    const segDir = Ray.distanceSqToSegment_segDir;\n    const diff = Ray.distanceSqToSegment_diff;\n    // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n    // It returns the min distance between the ray and the segment\n    // defined by v0 and v1\n    // It can also set two optional targets :\n    // - The closest point on the ray\n    // - The closest point on the segment\n    segCenter.copy(v0).add(v1).multiplyScalar(0.5);\n    segDir.copy(v1).sub(v0).normalize();\n    diff.copy(this.origin).sub(segCenter);\n    const segExtent = v0.distanceTo(v1) * 0.5;\n    const a01 = - this.direction.dot(segDir);\n    const b0 = diff.dot(this.direction);\n    const b1 = - diff.dot(segDir);\n    const c = diff.lengthSq();\n    const det = Math.abs(1 - a01 * a01);\n    let s0, s1, sqrDist, extDet;\n    if (det > 0) {\n      // The ray and segment are not parallel.\n      s0 = a01 * b1 - b0;\n      s1 = a01 * b0 - b1;\n      extDet = segExtent * det;\n      if (s0 >= 0) {\n        if (s1 >= - extDet) {\n          if (s1 <= extDet) {\n            // region 0\n            // Minimum at interior points of ray and segment.\n            const invDet = 1 / det;\n            s0 *= invDet;\n            s1 *= invDet;\n            sqrDist = s0 * (s0 + a01 * s1 + 2 * b0) + s1 * (a01 * s0 + s1 + 2 * b1) + c;\n          } else {\n            // region 1\n            s1 = segExtent;\n            s0 = Math.max(0, - (a01 * s1 + b0));\n            sqrDist = - s0 * s0 + s1 * (s1 + 2 * b1) + c;\n          }\n        } else {\n          // region 5\n          s1 = - segExtent;\n          s0 = Math.max(0, - (a01 * s1 + b0));\n          sqrDist = - s0 * s0 + s1 * (s1 + 2 * b1) + c;\n        }\n      } else {\n        if (s1 <= - extDet) {\n          // region 4\n          s0 = Math.max(0, - (- a01 * segExtent + b0));\n          s1 = (s0 > 0) ? - segExtent : Math.min(Math.max(- segExtent, - b1), segExtent);\n          sqrDist = - s0 * s0 + s1 * (s1 + 2 * b1) + c;\n        } else if (s1 <= extDet) {\n          // region 3\n          s0 = 0;\n          s1 = Math.min(Math.max(- segExtent, - b1), segExtent);\n          sqrDist = s1 * (s1 + 2 * b1) + c;\n        } else {\n          // region 2\n          s0 = Math.max(0, - (a01 * segExtent + b0));\n          s1 = (s0 > 0) ? segExtent : Math.min(Math.max(- segExtent, - b1), segExtent);\n          sqrDist = - s0 * s0 + s1 * (s1 + 2 * b1) + c;\n        }\n      }\n    } else {\n      // Ray and segment are parallel.\n      s1 = (a01 > 0) ? - segExtent : segExtent;\n      s0 = Math.max(0, - (a01 * s1 + b0));\n      sqrDist = - s0 * s0 + s1 * (s1 + 2 * b1) + c;\n    }\n    if (optionalPointOnRay) {\n      optionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin);\n    }\n    if (optionalPointOnSegment) {\n      optionalPointOnSegment.copy(segDir).multiplyScalar(s1).add(segCenter);\n    }\n    return sqrDist;\n  }\n  private static intersectSphere_v1 = new Vector3();\n  intersectSphere(sphere: Sphere, optionalTarget: Vector3 = new Vector3()): Vector3 {\n    const v1 = Ray.intersectSphere_v1;\n    v1.subVectors(sphere.center, this.origin);\n    const tca = v1.dot(this.direction);\n    const d2 = v1.dot(v1) - tca * tca;\n    const radius2 = sphere.radius * sphere.radius;\n    if (d2 > radius2) return null;\n    const thc = Math.sqrt(radius2 - d2);\n    // t0 = first intersect point - entrance on front of sphere\n    const t0 = tca - thc;\n    // t1 = second intersect point - exit point on back of sphere\n    const t1 = tca + thc;\n    // test to see if both t0 and t1 are behind the ray - if so, return null\n    if (t0 < 0 && t1 < 0) return null;\n    // test to see if t0 is behind the ray:\n    // if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n    // in order to always return an intersect point that is in front of the ray.\n    if (t0 < 0) return this.at(t1, optionalTarget);\n    // else t0 is in front of the ray, so return the first collision point scaled by t0\n    return this.at(t0, optionalTarget);\n  }\n  intersectsSphere(sphere: Sphere): boolean {\n    return this.distanceToPoint(sphere.center) <= sphere.radius;\n  }\n  distanceToPlane(plane: Plane): number {\n    const denominator = plane.normal.dot(this.direction);\n    if (denominator === 0) {\n      // line is coplanar, return origin\n      if (plane.distanceToPoint(this.origin) === 0) {\n        return 0;\n      }\n      // Null is preferable to undefined since undefined means.... it is undefined\n      return null;\n    }\n    const t = - (this.origin.dot(plane.normal) + plane.constant) / denominator;\n    // Return if the ray never intersects the plane\n    return t >= 0 ? t :  null;\n  }\n  intersectPlane(plane: Plane, optionalTarget: Vector3 = new Vector3()): Vector3 {\n    const t = this.distanceToPlane(plane);\n    if (t === null) {\n      return null;\n    }\n    return this.at(t, optionalTarget);\n  }\n  intersectsPlane(plane: Plane): boolean {\n    // check if the ray lies on the plane first\n    const distToPoint = plane.distanceToPoint(this.origin);\n    if (distToPoint === 0) {\n      return true;\n    }\n    const denominator = plane.normal.dot(this.direction);\n    if (denominator * distToPoint < 0) {\n      return true;\n    }\n    // ray origin is behind the plane (and is pointing behind it)\n    return false;\n  }\n  intersectBox(box: Box3, optionalTarget: Vector3 = new Vector3()): Vector3 {\n    let tmin, tmax, tymin, tymax, tzmin, tzmax;\n    const invdirx = 1 / this.direction.x,\n      invdiry = 1 / this.direction.y,\n      invdirz = 1 / this.direction.z;\n    const origin = this.origin;\n    if (invdirx >= 0) {\n      tmin = (box.min.x - origin.x) * invdirx;\n      tmax = (box.max.x - origin.x) * invdirx;\n    } else {\n      tmin = (box.max.x - origin.x) * invdirx;\n      tmax = (box.min.x - origin.x) * invdirx;\n    }\n    if (invdiry >= 0) {\n      tymin = (box.min.y - origin.y) * invdiry;\n      tymax = (box.max.y - origin.y) * invdiry;\n    } else {\n      tymin = (box.max.y - origin.y) * invdiry;\n      tymax = (box.min.y - origin.y) * invdiry;\n    }\n    if ((tmin > tymax) || (tymin > tmax)) return null;\n    // These lines also handle the case where tmin or tmax is NaN\n    // (result of 0 * Infinity). x !== x returns true if x is NaN\n    if (tymin > tmin || tmin !== tmin) tmin = tymin;\n    if (tymax < tmax || tmax !== tmax) tmax = tymax;\n    if (invdirz >= 0) {\n      tzmin = (box.min.z - origin.z) * invdirz;\n      tzmax = (box.max.z - origin.z) * invdirz;\n    } else {\n      tzmin = (box.max.z - origin.z) * invdirz;\n      tzmax = (box.min.z - origin.z) * invdirz;\n    }\n    if ((tmin > tzmax) || (tzmin > tmax)) return null;\n    if (tzmin > tmin || tmin !== tmin) tmin = tzmin;\n    if (tzmax < tmax || tmax !== tmax) tmax = tzmax;\n    //return point closest to the ray (positive side)\n    if (tmax < 0) return null;\n    return this.at(tmin >= 0 ? tmin : tmax, optionalTarget);\n  }\n  private static intersectsBox_v = new Vector3();\n  intersectsBox(box: Box3): boolean {\n    const v = Ray.intersectsBox_v;\n    return this.intersectBox(box, v) !== null;\n  }\n  private static intersectTriangle_diff = new Vector3();\n  private static intersectTriangle_edge1 = new Vector3();\n  private static intersectTriangle_edge2 = new Vector3();\n  private static intersectTriangle_normal = new Vector3();\n  intersectTriangle(a: Vector3, b: Vector3, c: Vector3, backfaceCulling: boolean, optionalTarget: Vector3 = new Vector3()): Vector3 {\n    // Compute the offset origin, edges, and normal.\n    const diff = Ray.intersectTriangle_diff;\n    const edge1 = Ray.intersectTriangle_edge1;\n    const edge2 = Ray.intersectTriangle_edge2;\n    const normal = Ray.intersectTriangle_normal;\n    // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n    edge1.subVectors(b, a);\n    edge2.subVectors(c, a);\n    normal.crossVectors(edge1, edge2);\n    // Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n    // E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n    //   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n    //   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n    //   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n    let DdN = this.direction.dot(normal);\n    let sign;\n    if (DdN > 0) {\n      if (backfaceCulling) return null;\n      sign = 1;\n    } else if (DdN < 0) {\n      sign = - 1;\n      DdN = - DdN;\n    } else {\n      return null;\n    }\n    diff.subVectors(this.origin, a);\n    const DdQxE2 = sign * this.direction.dot(edge2.crossVectors(diff, edge2));\n    // b1 < 0, no intersection\n    if (DdQxE2 < 0) {\n      return null;\n    }\n    const DdE1xQ = sign * this.direction.dot(edge1.cross(diff));\n    // b2 < 0, no intersection\n    if (DdE1xQ < 0) {\n      return null;\n    }\n    // b1+b2 > 1, no intersection\n    if (DdQxE2 + DdE1xQ > DdN) {\n      return null;\n    }\n    // Line intersects triangle, check if ray does.\n    const QdN = - sign * diff.dot(normal);\n    // t < 0, no intersection\n    if (QdN < 0) {\n      return null;\n    }\n    // Ray intersects triangle.\n    return this.at(QdN / DdN, optionalTarget);\n  }\n  applyMatrix4(matrix4: Matrix4): Ray {\n    this.direction.add(this.origin).applyMatrix4(matrix4);\n    this.origin.applyMatrix4(matrix4);\n    this.direction.sub(this.origin);\n    this.direction.normalize();\n    return this;\n  }\n  equals(ray: Ray): boolean {\n    return ray.origin.equals(this.origin) && ray.direction.equals(this.direction);\n  }\n  isIntersectionBox(box: Box3): boolean {\n    console.warn(\"THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().\");\n    return this.intersectsBox(box);\n  }\n  isIntersectionPlane(plane: Plane): boolean {\n    console.warn(\"THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().\");\n    return this.intersectsPlane(plane);\n  }\n  isIntersectionSphere(sphere: Sphere): boolean {\n    console.warn(\"THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().\");\n    return this.intersectsSphere(sphere);\n  }\n}\n","import { Vector3 } from \"./Vector3\";\nimport { Matrix4 } from \"./Matrix4\";\nimport { _Math } from \"./Math\";\n/**\n * @author bhouston / http://clara.io\n */\nexport class Line3 {\n  start: Vector3;\n  end: Vector3;\n  constructor(start = new Vector3(), end = new Vector3()) {\n    this.start = start;\n    this.end = end;\n  }\n  set(start: Vector3, end: Vector3): Line3 {\n    this.start.copy(start);\n    this.end.copy(end);\n    return this;\n  }\n  clone(): Line3 {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(line: Line3): Line3 {\n    this.start.copy(line.start);\n    this.end.copy(line.end);\n    return this;\n  }\n  getCenter(result: Vector3 = new Vector3()): Vector3 {\n    return result.addVectors(this.start, this.end).multiplyScalar(0.5);\n  }\n  delta(result: Vector3 = new Vector3()): Vector3 {\n    return result.subVectors(this.end, this.start);\n  }\n  distanceSq(): number {\n    return this.start.distanceToSquared(this.end);\n  }\n  distance(): number {\n    return this.start.distanceTo(this.end);\n  }\n  at(t: number, result: Vector3 = new Vector3()): Vector3 {\n    return this.delta(result).multiplyScalar(t).add(this.start);\n  }\n  private static closestPointToPointParameter_startP = new Vector3();\n  private static closestPointToPointParameter_startEnd = new Vector3();\n  closestPointToPointParameter(point: Vector3, clampToLine: boolean): number {\n    const startP = Line3.closestPointToPointParameter_startP;\n    const startEnd = Line3.closestPointToPointParameter_startEnd;\n    startP.subVectors(point, this.start);\n    startEnd.subVectors(this.end, this.start);\n    const startEnd2 = startEnd.dot(startEnd);\n    const startEnd_startP = startEnd.dot(startP);\n    let t = startEnd_startP / startEnd2;\n    if (clampToLine) {\n      t = _Math.clamp(t, 0, 1);\n    }\n    return t;\n  }\n  closestPointToPoint(point: Vector3, clampToLine: boolean, result: Vector3 = new Vector3()): Vector3 {\n    const t = this.closestPointToPointParameter(point, clampToLine);\n    return this.delta(result).multiplyScalar(t).add(this.start);\n  }\n  applyMatrix4(matrix: Matrix4): Line3 {\n    this.start.applyMatrix4(matrix);\n    this.end.applyMatrix4(matrix);\n    return this;\n  }\n  equals(line: Line3): boolean {\n    return line.start.equals(this.start) && line.end.equals(this.end);\n  }\n  center(result: Vector3): Vector3 {\n    console.warn(\"THREE.Line3: .center() has been renamed to .getCenter().\");\n    return this.getCenter(result);\n  }\n}\n","import { Matrix3 } from \"./Matrix3\";\nimport { Matrix4 } from \"./Matrix4\";\nimport { Vector3 } from \"./Vector3\";\nimport { Line3 } from \"./Line3\";\nimport { Box3 } from \"./Box3\";\nimport { Sphere } from \"./Sphere\";\n/**\n * @author bhouston / http://clara.io\n */\nexport class Plane {\n  normal: Vector3;\n  constant: number;\n  constructor(normal: Vector3 = new Vector3(1, 0, 0), constant: number = 0) {\n    this.normal = normal;\n    this.constant = constant;\n  }\n  set(normal: Vector3, constant: number): Plane {\n    this.normal.copy(normal);\n    this.constant = constant;\n    return this;\n  }\n  setComponents(x: number, y: number, z: number, w: number): Plane {\n    this.normal.set(x, y, z);\n    this.constant = w;\n    return this;\n  }\n  setFromNormalAndCoplanarPoint(normal: Vector3, point: Vector3): Plane {\n    this.normal.copy(normal);\n    this.constant = - point.dot(this.normal);  // must be this.normal, not normal, as this.normal is normalized\n    return this;\n  }\n  private static setFromCoplanarPoints_v1 = new Vector3();\n  private static setFromCoplanarPoints_v2 = new Vector3();\n  setFromCoplanarPoints(a: Vector3, b: Vector3, c: Vector3): Plane {\n    const v1 = Plane.setFromCoplanarPoints_v1;\n    const v2 = Plane.setFromCoplanarPoints_v2;\n    const normal = v1.subVectors(c, b).cross(v2.subVectors(a, b)).normalize();\n    // Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n    this.setFromNormalAndCoplanarPoint(normal, a);\n    return this;\n  }\n  clone(): Plane {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(plane: Plane): Plane {\n    this.normal.copy(plane.normal);\n    this.constant = plane.constant;\n    return this;\n  }\n  normalize(): Plane {\n    // Note: will lead to a divide by zero if the plane is invalid.\n    const inverseNormalLength = 1.0 / this.normal.length();\n    this.normal.multiplyScalar(inverseNormalLength);\n    this.constant *= inverseNormalLength;\n    return this;\n  }\n  negate(): Plane {\n    this.constant *= - 1;\n    this.normal.negate();\n    return this;\n  }\n  distanceToPoint(point: Vector3): number {\n    return this.normal.dot(point) + this.constant;\n  }\n  distanceToSphere(sphere: Sphere): number {\n    return this.distanceToPoint(sphere.center) - sphere.radius;\n  }\n  projectPoint(point: Vector3, result: Vector3 = new Vector3()): Vector3 {\n    return this.orthoPoint(point, result).sub(point).negate();\n  }\n  orthoPoint(point: Vector3, result: Vector3 = new Vector3()): Vector3 {\n    const perpendicularMagnitude = this.distanceToPoint(point);\n    return result.copy(this.normal).multiplyScalar(perpendicularMagnitude);\n  }\n  private static intersectLine_v1 = new Vector3();\n  intersectLine(line: Line3, result: Vector3 = new Vector3()) {\n    const v1 = Plane.intersectLine_v1;\n    const direction = line.delta(v1);\n    const denominator = this.normal.dot(direction);\n    if (denominator === 0) {\n      // line is coplanar, return origin\n      if (this.distanceToPoint(line.start) === 0) {\n        return result.copy(line.start);\n      }\n      // Unsure if this is the correct method to handle this case.\n      return undefined;\n    }\n    const t = - (line.start.dot(this.normal) + this.constant) / denominator;\n    if (t < 0 || t > 1) {\n      return undefined;\n    }\n    return result.copy(direction).multiplyScalar(t).add(line.start);\n  }\n  intersectsLine(line: Line3): boolean {\n    // Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n    const startSign = this.distanceToPoint(line.start);\n    const endSign = this.distanceToPoint(line.end);\n    return (startSign < 0 && endSign > 0) || (endSign < 0 && startSign > 0);\n  }\n  intersectsBox(box: Box3): boolean {\n    return box.intersectsPlane(this);\n  }\n  intersectsSphere(sphere: Sphere): boolean {\n    return sphere.intersectsPlane(this);\n  }\n  coplanarPoint(result: Vector3 = new Vector3()): Vector3 {\n    return result.copy(this.normal).multiplyScalar(- this.constant);\n  }\n  private static applyMatrix4_v1 = new Vector3();\n  private static applyMatrix4_m1 = new Matrix3();\n  applyMatrix4(matrix: Matrix4, optionalNormalMatrix?: Matrix3): Plane {\n    const v1 = Plane.applyMatrix4_v1;\n    const m1 = Plane.applyMatrix4_m1;\n    const referencePoint = this.coplanarPoint(v1).applyMatrix4(matrix);\n    // transform normal based on theory here:\n    // http://www.songho.ca/opengl/gl_normaltransform.html\n    const normalMatrix = optionalNormalMatrix || m1.getNormalMatrix(matrix);\n    const normal = this.normal.applyMatrix3(normalMatrix).normalize();\n    // recalculate constant (like in setFromNormalAndCoplanarPoint)\n    this.constant = - referencePoint.dot(normal);\n    return this;\n  }\n  translate(offset: Vector3): Plane {\n    this.constant = this.constant - offset.dot(this.normal);\n    return this;\n  }\n  equals(plane: Plane): boolean {\n    return plane.normal.equals(this.normal) && (plane.constant === this.constant);\n  }\n  isIntersectionLine(line: Line3): boolean {\n    console.warn(\"THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().\");\n    return this.intersectsLine(line);\n  }\n}\n","import { Vector3 } from \"./Vector3\";\nimport { Line3 } from \"./Line3\";\nimport { Plane } from \"./Plane\";\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\nexport class Triangle {\n  a: Vector3;\n  b: Vector3;\n  c: Vector3;\n  constructor(a: Vector3 = new Vector3(), b: Vector3 = new Vector3(), c: Vector3 = new Vector3()) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n  }\n  private static normal_v0 = new Vector3();\n  static normal(a: Vector3, b: Vector3, c: Vector3, result = new Vector3()): Vector3 {\n    const v0 = Triangle.normal_v0;\n    result.subVectors(c, b);\n    v0.subVectors(a, b);\n    result.cross(v0);\n    const resultLengthSq = result.lengthSq();\n    if (resultLengthSq > 0) {\n      return result.multiplyScalar(1 / Math.sqrt(resultLengthSq));\n    }\n    return result.set(0, 0, 0);\n  }\n  // static/instance method to calculate barycentric coordinates\n  // based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n  static barycoordFromPoint(point: Vector3, a: Vector3, b: Vector3, c: Vector3, result: Vector3 = new Vector3()): Vector3 {\n    const v0 = new Vector3();\n    const v1 = new Vector3();\n    const v2 = new Vector3();\n    v0.subVectors(c, a);\n    v1.subVectors(b, a);\n    v2.subVectors(point, a);\n    const dot00 = v0.dot(v0);\n    const dot01 = v0.dot(v1);\n    const dot02 = v0.dot(v2);\n    const dot11 = v1.dot(v1);\n    const dot12 = v1.dot(v2);\n    const denom = (dot00 * dot11 - dot01 * dot01);\n    // collinear or singular triangle\n    if (denom === 0) {\n      // arbitrary location outside of triangle?\n      // not sure if this is the best idea, maybe should be returning undefined\n      return result.set(- 2, - 1, - 1);\n    }\n    const invDenom = 1 / denom;\n    const u = (dot11 * dot02 - dot01 * dot12) * invDenom;\n    const v = (dot00 * dot12 - dot01 * dot02) * invDenom;\n    // barycentric coordinates must always sum to 1\n    return result.set(1 - u - v, v, u);\n  }\n  static containsPoint(point: Vector3, a: Vector3, b: Vector3, c: Vector3): boolean {\n    const v1 = new Vector3();\n    const result = Triangle.barycoordFromPoint(point, a, b, c, v1);\n    return (result.x >= 0) && (result.y >= 0) && ((result.x + result.y) <= 1);\n  }\n  set(a: Vector3, b: Vector3, c: Vector3): Triangle {\n    this.a.copy(a);\n    this.b.copy(b);\n    this.c.copy(c);\n    return this;\n  }\n  setFromPointsAndIndices(points: Vector3[], i0: number, i1: number, i2: number): Triangle {\n    this.a.copy(points[i0]);\n    this.b.copy(points[i1]);\n    this.c.copy(points[i2]);\n    return this;\n  }\n  clone(): Triangle {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(triangle: Triangle): Triangle {\n    this.a.copy(triangle.a);\n    this.b.copy(triangle.b);\n    this.c.copy(triangle.c);\n    return this;\n  }\n  area(): number {\n    const v0 = new Vector3();\n    const v1 = new Vector3();\n    v0.subVectors(this.c, this.b);\n    v1.subVectors(this.a, this.b);\n    return v0.cross(v1).length() * 0.5;\n  }\n  midpoint(result: Vector3 = new Vector3()): Vector3 {\n    return result.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);\n  }\n  normal(result: Vector3 = new Vector3()): Vector3 {\n    return Triangle.normal(this.a, this.b, this.c, result);\n  }\n  plane(result: Plane = new Plane()): Plane {\n    return result.setFromCoplanarPoints(this.a, this.b, this.c);\n  }\n  barycoordFromPoint(point: Vector3, result: Vector3 = new Vector3()): Vector3 {\n    return Triangle.barycoordFromPoint(point, this.a, this.b, this.c, result);\n  }\n  containsPoint(point: Vector3): boolean {\n    return Triangle.containsPoint(point, this.a, this.b, this.c);\n  }\n  closestPointToPoint(point: Vector3, result: Vector3 = new Vector3()): Vector3 {\n    const plane = new Plane();\n    const edgeList = [ new Line3(), new Line3(), new Line3() ];\n    const projectedPoint = new Vector3();\n    const closestPoint = new Vector3();\n    let minDistance = Infinity;\n    // project the point onto the plane of the triangle\n    plane.setFromCoplanarPoints(this.a, this.b, this.c);\n    plane.projectPoint(point, projectedPoint);\n    // check if the projection lies within the triangle\n    if (this.containsPoint(projectedPoint) === true) {\n      // if so, this is the closest point\n      result.copy(projectedPoint);\n    } else {\n      // if not, the point falls outside the triangle. the result is the closest point to the triangle's edges or vertices\n      edgeList[0].set(this.a, this.b);\n      edgeList[1].set(this.b, this.c);\n      edgeList[2].set(this.c, this.a);\n      for (let i = 0; i < edgeList.length; i ++) {\n        edgeList[i].closestPointToPoint(projectedPoint, true, closestPoint);\n        const distance = projectedPoint.distanceToSquared(closestPoint);\n        if (distance < minDistance) {\n          minDistance = distance;\n          result.copy(closestPoint);\n        }\n      }\n    }\n    return result;\n  }\n  equals(triangle: Triangle): boolean {\n    return triangle.a.equals(this.a) && triangle.b.equals(this.b) && triangle.c.equals(this.c);\n  }\n}\n","import { _Math } from \"../math/Math\";\nimport { Material } from \"./Material\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class MultiMaterial {\n  uuid: string = _Math.generateUUID();\n  type: string = 'MultiMaterial';\n  materials: Material[];\n  visible: boolean = true;\n  // {\n  side;\n  opacity;\n  transparent;\n  color;\n  map;\n  id;\n  program;\n  // }\n  dispose(): void {}\n  readonly isMultiMaterial: boolean = true;\n  constructor(materials: Material[] = []) {\n    this.materials = materials;\n  }\n  toJSON(meta: any): any {\n    const output: any = {\n      metadata: {\n        version: 4.2,\n        type: 'material',\n        generator: 'MaterialExporter'\n      },\n      uuid: this.uuid,\n      type: this.type,\n      materials: []\n    };\n    const materials = this.materials;\n    for (let i = 0, l = materials.length; i < l; i ++) {\n      const material = materials[i].toJSON(meta);\n      delete material.metadata;\n      output.materials.push(material);\n    }\n    output.visible = this.visible;\n    return output;\n  }\n  clone(): this {\n    const material = new (this.constructor as any)();\n    for (let i = 0; i < this.materials.length; i ++) {\n      material.materials.push(this.materials[i].clone());\n    }\n    material.visible = this.visible;\n    return material;\n  }\n}\n","import { Material, MaterialParameters } from \"./Material\";\nimport { BlendingOperation } from \"../constants\";\nimport { Color } from \"../math/Color\";\nimport { Texture } from \"../textures/Texture\";\nimport { CubeTexture } from \"../textures/CubeTexture\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture(<Image>),\n *\n *  aoMap: new THREE.Texture(<Image>),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture(<Image>),\n *\n *  alphaMap: new THREE.Texture(<Image>),\n *\n *  envMap: new THREE.TextureCube([posx, negx, posy, negy, posz, negz]),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  shading: THREE.ShadingMode.Smooth,\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\nexport interface MeshBasicMaterialParameters extends MaterialParameters {\n  color?: number;\n  opacity?: number;\n  map?: Texture;\n\n  aoMap?: Texture;\n  aoMapIntensity?: number;\n\n  specularMap?: Texture;\n\n  alphaMap?: Texture;\n\n  envMap?: CubeTexture;\n  combine?: BlendingOperation;\n  reflectivity?: number;\n  refractionRatio?: number;\n\n  shading?: number;\n  depthTest?: boolean;\n  depthWrite?: boolean;\n\n  wireframe?: boolean;\n  wireframeLinewidth?: number;\n\n  skinning?: boolean;\n  morphTargets?: boolean;\n}\nexport class MeshBasicMaterial extends Material {\n  aoMap: Texture;\n  aoMapIntensity: number;\n  combine: BlendingOperation;\n  refractionRatio: number;\n  readonly isMeshBasicMaterial: boolean = true;\n  constructor(parameters?: MeshBasicMaterialParameters | MaterialParameters) {\n    super();\n    this.type = 'MeshBasicMaterial';\n    this.color = new Color(0xffffff); // emissive\n    this.map = null;\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n    this.specularMap = null;\n    this.alphaMap = null;\n    this.envMap = null;\n    this.combine = BlendingOperation.Multiply;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n    this.skinning = false;\n    this.morphTargets = false;\n    this.lights = false;\n    this.setValues(parameters);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.color.copy(source.color);\n    this.map = source.map;\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n    this.specularMap = source.specularMap;\n    this.alphaMap = source.alphaMap;\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    return this;\n  }\n}\n","import { Vector4 } from \"../math/Vector4\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Color } from \"../math/Color\";\nimport { _Math } from \"../math/Math\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport type TypedArray = Int8Array | Uint8Array | Uint8ClampedArray | Int16Array | Uint16Array | Int32Array | Uint32Array | Float32Array | Float64Array;\nexport type TypedArrayConstructor = Int8ArrayConstructor | Uint8ArrayConstructor | Uint8ClampedArrayConstructor | Int16ArrayConstructor | Uint16ArrayConstructor | Int32ArrayConstructor | Uint32ArrayConstructor | Float32ArrayConstructor | Float64ArrayConstructor;\nexport class BufferAttribute {\n  uuid: string = _Math.generateUUID();\n  array: TypedArray;\n  itemSize: number;\n  count: number;\n  normalized: boolean;\n  dynamic: boolean = false;\n  updateRange: any = { offset: 0, count: - 1 };\n  version: number = 0;\n  readonly isBufferAttribute: boolean = true;\n  readonly isInterleavedBufferAttribute: boolean = false;\n  constructor(array?: TypedArray, itemSize?: number, normalized: boolean = false) {\n    if (Array.isArray(array)) {\n      throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');\n    }\n    this.array = array;\n    this.itemSize = itemSize;\n    this.count = array !== undefined ? array.length / itemSize : 0;\n    this.normalized = normalized === true;\n  }\n  set needsUpdate(value: boolean) {\n    if (value === true) this.version ++;\n  }\n  setArray(array: TypedArray): void {\n    if (Array.isArray(array)) {\n      throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');\n    }\n    this.count = array !== undefined ? array.length / this.itemSize : 0;\n    this.array = array;\n  }\n  setDynamic(value: boolean): BufferAttribute {\n    this.dynamic = value;\n    return this;\n  }\n  copy(source: this): this {\n    this.array = new (source.array.constructor as any)(source.array);\n    this.itemSize = source.itemSize;\n    this.count = source.count;\n    this.normalized = source.normalized;\n    this.dynamic = source.dynamic;\n    return this;\n  }\n  copyAt(index1: number, attribute: BufferAttribute, index2: number): BufferAttribute {\n    index1 *= this.itemSize;\n    index2 *= attribute.itemSize;\n    for (let i = 0, l = this.itemSize; i < l; i ++) {\n      this.array[index1 + i] = attribute.array[index2 + i];\n    }\n    return this;\n  }\n  copyArray(array: number[] | TypedArray): BufferAttribute {\n    this.array.set(array as any, 0);\n    return this;\n  }\n  copyColorsArray(colors: Color[]): BufferAttribute {\n    const array = this.array;\n    let offset = 0;\n    for (let i = 0, l = colors.length; i < l; i ++) {\n      let color = colors[i];\n      if (color === undefined) {\n        console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined', i);\n        color = new Color();\n      }\n      array[offset ++] = color.r;\n      array[offset ++] = color.g;\n      array[offset ++] = color.b;\n    }\n    return this;\n  }\n  copyIndicesArray(indices: any[]): BufferAttribute {\n    const array = this.array;\n    let offset = 0;\n    for (let i = 0, l = indices.length; i < l; i ++) {\n      const index = indices[i];\n      array[offset ++] = index.a;\n      array[offset ++] = index.b;\n      array[offset ++] = index.c;\n    }\n    return this;\n  }\n  copyVector2sArray(vectors: Vector2[]): BufferAttribute {\n    const array = this.array;\n    let offset = 0;\n    for (let i = 0, l = vectors.length; i < l; i ++) {\n      let vector = vectors[i];\n      if (vector === undefined) {\n        console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i);\n        vector = new Vector2();\n      }\n      array[offset ++] = vector.x;\n      array[offset ++] = vector.y;\n    }\n    return this;\n  }\n  copyVector3sArray(vectors: Vector3[]): BufferAttribute {\n    const array = this.array;\n    let offset = 0;\n    for (let i = 0, l = vectors.length; i < l; i ++) {\n      let vector = vectors[i];\n      if (vector === undefined) {\n        console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i);\n        vector = new Vector3();\n      }\n      array[offset ++] = vector.x;\n      array[offset ++] = vector.y;\n      array[offset ++] = vector.z;\n    }\n    return this;\n  }\n  copyVector4sArray(vectors: Vector4[]): BufferAttribute {\n    const array = this.array;\n    let offset = 0;\n    for (let i = 0, l = vectors.length; i < l; i ++) {\n      let vector = vectors[i];\n      if (vector === undefined) {\n        console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i);\n        vector = new Vector4();\n      }\n      array[offset ++] = vector.x;\n      array[offset ++] = vector.y;\n      array[offset ++] = vector.z;\n      array[offset ++] = vector.w;\n    }\n    return this;\n  }\n  set(value: ArrayLike<number>, offset: number = 0): BufferAttribute {\n    this.array.set(value, offset);\n    return this;\n  }\n  getX(index: number): number {\n    return this.array[index * this.itemSize];\n  }\n  setX(index: number, x: number): BufferAttribute {\n    this.array[index * this.itemSize] = x;\n    return this;\n  }\n  getY(index: number): number {\n    return this.array[index * this.itemSize + 1];\n  }\n  setY(index: number, y: number): BufferAttribute {\n    this.array[index * this.itemSize + 1] = y;\n    return this;\n  }\n  getZ(index: number): number {\n    return this.array[index * this.itemSize + 2];\n  }\n  setZ(index: number, z: number): BufferAttribute {\n    this.array[index * this.itemSize + 2] = z;\n    return this;\n  }\n  getW(index: number): number {\n    return this.array[index * this.itemSize + 3];\n  }\n  setW(index: number, w: number): BufferAttribute {\n    this.array[index * this.itemSize + 3] = w;\n    return this;\n  }\n  setXY(index: number, x: number, y: number): BufferAttribute {\n    index *= this.itemSize;\n    this.array[index + 0] = x;\n    this.array[index + 1] = y;\n    return this;\n  }\n  setXYZ(index: number, x: number, y: number, z: number): BufferAttribute {\n    index *= this.itemSize;\n    this.array[index + 0] = x;\n    this.array[index + 1] = y;\n    this.array[index + 2] = z;\n    return this;\n  }\n  setXYZW(index: number, x: number, y: number, z: number, w: number): BufferAttribute {\n    index *= this.itemSize;\n    this.array[index + 0] = x;\n    this.array[index + 1] = y;\n    this.array[index + 2] = z;\n    this.array[index + 3] = w;\n    return this;\n  }\n  clone(): this {\n    return new (this.constructor as any)().copy(this);\n  }\n  get length(): number {\n    console.warn(\"THREE.BufferAttribute: .length has been deprecated. Please use .count.\");\n    return this.array.length;\n  }\n}\n//\nexport function Int8Attribute(array: ArrayLike<number> | number, itemSize: number): BufferAttribute {\n  return new BufferAttribute(new Int8Array(array as any), itemSize);\n}\nexport function Uint8Attribute(array: ArrayLike<number> | number, itemSize: number): BufferAttribute {\n  return new BufferAttribute(new Uint8Array(array as any), itemSize);\n}\nexport function Uint8ClampedAttribute(array: ArrayLike<number> | number, itemSize: number): BufferAttribute {\n  return new BufferAttribute(new Uint8ClampedArray(array as any), itemSize);\n}\nexport function Int16Attribute(array: ArrayLike<number> | number, itemSize: number): BufferAttribute {\n  return new BufferAttribute(new Int16Array(array as any), itemSize);\n}\nexport function Uint16Attribute(array: ArrayLike<number> | number, itemSize: number): BufferAttribute {\n  return new BufferAttribute(new Uint16Array(array as any), itemSize);\n}\nexport function Int32Attribute(array: ArrayLike<number> | number, itemSize: number): BufferAttribute {\n  return new BufferAttribute(new Int32Array(array as any), itemSize);\n}\nexport function Uint32Attribute(array: ArrayLike<number> | number, itemSize: number): BufferAttribute {\n  return new BufferAttribute(new Uint32Array(array as any), itemSize);\n}\nexport function Float32Attribute(array: ArrayLike<number> | number, itemSize: number): BufferAttribute {\n  return new BufferAttribute(new Float32Array(array as any), itemSize);\n}\nexport function Float64Attribute(array: ArrayLike<number> | number, itemSize: number): BufferAttribute {\n  return new BufferAttribute(new Float64Array(array as any), itemSize);\n}\n// Deprecated\nexport function DynamicBufferAttribute(array: TypedArray, itemSize: number): BufferAttribute {\n  console.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic(true) instead.');\n  return new BufferAttribute(array, itemSize).setDynamic(true);\n}\n","import { _Math } from \"../math/Math\";\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\nexport class InterleavedBufferAttribute {\n  uuid: string = _Math.generateUUID();\n  data: any;\n  itemSize: number;\n  offset: number;\n  normalized: boolean;\n  readonly isInterleavedBufferAttribute: boolean = true;\n  constructor(interleavedBuffer: any, itemSize: number, offset: number, normalized: boolean) {\n    this.data = interleavedBuffer;\n    this.itemSize = itemSize;\n    this.offset = offset;\n    this.normalized = normalized === true;\n  }\n  get count(): number {\n    return this.data.count;\n  }\n  get array(): any {\n    return this.data.array;\n  }\n  setX(index: number, x: number): InterleavedBufferAttribute {\n    this.data.array[index * this.data.stride + this.offset] = x;\n    return this;\n  }\n  setY(index: number, y: number): InterleavedBufferAttribute {\n    this.data.array[index * this.data.stride + this.offset + 1] = y;\n    return this;\n  }\n  setZ(index: number, z: number): InterleavedBufferAttribute {\n    this.data.array[index * this.data.stride + this.offset + 2] = z;\n    return this;\n  }\n  setW(index: number, w: number): InterleavedBufferAttribute {\n    this.data.array[index * this.data.stride + this.offset + 3] = w;\n    return this;\n  }\n  getX(index: number): number {\n    return this.data.array[index * this.data.stride + this.offset];\n  }\n  getY(index: number): number {\n    return this.data.array[index * this.data.stride + this.offset + 1];\n  }\n  getZ(index: number): number {\n    return this.data.array[index * this.data.stride + this.offset + 2];\n  }\n  getW(index: number): number {\n    return this.data.array[index * this.data.stride + this.offset + 3];\n  }\n  setXY(index: number, x: number, y: number): InterleavedBufferAttribute {\n    index = index * this.data.stride + this.offset;\n    this.data.array[index + 0] = x;\n    this.data.array[index + 1] = y;\n    return this;\n  }\n  setXYZ(index: number, x: number, y: number, z: number): InterleavedBufferAttribute {\n    index = index * this.data.stride + this.offset;\n    this.data.array[index + 0] = x;\n    this.data.array[index + 1] = y;\n    this.data.array[index + 2] = z;\n    return this;\n  }\n  setXYZW(index: number, x: number, y: number, z: number, w: number): InterleavedBufferAttribute {\n    index = index * this.data.stride + this.offset;\n    this.data.array[index + 0] = x;\n    this.data.array[index + 1] = y;\n    this.data.array[index + 2] = z;\n    this.data.array[index + 3] = w;\n    return this;\n  }\n}\n","import { Geometry } from \"./Geometry\";\nimport { EventDispatcher } from \"./EventDispatcher\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Vector4 } from \"../math/Vector4\";\nimport { Color } from \"../math/Color\";\nimport { Sphere } from \"../math/Sphere\";\nimport { Box3 } from \"../math/Box3\";\nimport { _Math } from \"../math/Math\";\nimport { GeometryIdCount } from \"./Geometry\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class DirectGeometry extends EventDispatcher {\n  id: number = GeometryIdCount();\n  uuid: string = _Math.generateUUID();\n  name: string = '';\n  type: string = 'DirectGeometry';\n  indices: number[] = [];\n  vertices: Vector3[] = [];\n  normals: Vector3[] = [];\n  colors: Color[] = [];\n  uvs: Vector2[] = [];\n  uvs2: Vector2[] = [];\n  groups: any[] = [];\n  morphTargets: any = { position: undefined, normal: undefined };\n  skinWeights: Vector4[] = [];\n  skinIndices: Vector4[] = [];\n  // lineDistances: number[] = [];\n  boundingBox: Box3 = null;\n  boundingSphere: Sphere = null;\n  // update flags\n  verticesNeedUpdate: boolean = false;\n  normalsNeedUpdate: boolean = false;\n  colorsNeedUpdate: boolean = false;\n  uvsNeedUpdate: boolean = false;\n  groupsNeedUpdate: boolean = false;\n  constructor() {\n    super();\n  }\n  computeBoundingBox(): void {\n    if (this.boundingBox === null) {\n      this.boundingBox = new Box3();\n    }\n    this.boundingBox.setFromPoints(this.vertices);\n  }\n  computeBoundingSphere(): void {\n    if (this.boundingSphere === null) {\n      this.boundingSphere = new Sphere();\n    }\n    this.boundingSphere.setFromPoints(this.vertices);\n  }\n  computeFaceNormals(): void {\n    console.warn('THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.');\n  }\n  computeVertexNormals(): void {\n    console.warn('THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.');\n  }\n  computeGroups(geometry: Geometry): void {\n    let group: any;\n    const groups = [];\n    let materialIndex;\n    const faces = geometry.faces;\n    let i;\n    for (i = 0; i < faces.length; i ++) {\n      const face = faces[i];\n      // materials\n      if (face.materialIndex !== materialIndex) {\n        materialIndex = face.materialIndex;\n        if (group !== undefined) {\n          group.count = (i * 3) - group.start;\n          groups.push(group);\n        }\n        group = {\n          start: i * 3,\n          materialIndex: materialIndex\n        };\n      }\n    }\n    if (group !== undefined) {\n      group.count = (i * 3) - group.start;\n      groups.push(group);\n    }\n    this.groups = groups;\n  }\n  fromGeometry(geometry: Geometry) {\n    const faces = geometry.faces;\n    const vertices = geometry.vertices;\n    const faceVertexUvs = geometry.faceVertexUvs;\n    const hasFaceVertexUv = faceVertexUvs[0] && faceVertexUvs[0].length > 0;\n    const hasFaceVertexUv2 = faceVertexUvs[1] && faceVertexUvs[1].length > 0;\n    // morphs\n    const morphTargets = geometry.morphTargets;\n    const morphTargetsLength = morphTargets.length;\n    let morphTargetsPosition;\n    if (morphTargetsLength > 0) {\n      morphTargetsPosition = [];\n      for (let i = 0; i < morphTargetsLength; i ++) {\n        morphTargetsPosition[i] = [];\n      }\n      this.morphTargets.position = morphTargetsPosition;\n    }\n    const morphNormals = geometry.morphNormals;\n    const morphNormalsLength = morphNormals.length;\n    let morphTargetsNormal;\n    if (morphNormalsLength > 0) {\n      morphTargetsNormal = [];\n      for (let i = 0; i < morphNormalsLength; i ++) {\n        morphTargetsNormal[i] = [];\n      }\n      this.morphTargets.normal = morphTargetsNormal;\n    }\n    // skins\n    const skinIndices = geometry.skinIndices;\n    const skinWeights = geometry.skinWeights;\n    const hasSkinIndices = skinIndices.length === vertices.length;\n    const hasSkinWeights = skinWeights.length === vertices.length;\n    //\n    for (let i = 0; i < faces.length; i ++) {\n      const face = faces[i];\n      this.vertices.push(vertices[face.a], vertices[face.b], vertices[face.c]);\n      const vertexNormals = face.vertexNormals;\n      if (vertexNormals.length === 3) {\n        this.normals.push(vertexNormals[0], vertexNormals[1], vertexNormals[2]);\n      } else {\n        const normal = face.normal;\n        this.normals.push(normal, normal, normal);\n      }\n      const vertexColors = face.vertexColors;\n      if (vertexColors.length === 3) {\n        this.colors.push(vertexColors[0], vertexColors[1], vertexColors[2]);\n      } else {\n        const color = face.color;\n        this.colors.push(color, color, color);\n      }\n      if (hasFaceVertexUv === true) {\n        const vertexUvs = faceVertexUvs[0][i];\n        if (vertexUvs !== undefined) {\n          this.uvs.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);\n        } else {\n          console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i);\n          this.uvs.push(new Vector2(), new Vector2(), new Vector2());\n        }\n      }\n      if (hasFaceVertexUv2 === true) {\n        const vertexUvs = faceVertexUvs[1][i];\n        if (vertexUvs !== undefined) {\n          this.uvs2.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);\n        } else {\n          console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i);\n          this.uvs2.push(new Vector2(), new Vector2(), new Vector2());\n        }\n      }\n      // morphs\n      for (let j = 0; j < morphTargetsLength; j ++) {\n        const morphTarget = morphTargets[j].vertices;\n        morphTargetsPosition[j].push(morphTarget[face.a], morphTarget[face.b], morphTarget[face.c]);\n      }\n      for (let j = 0; j < morphNormalsLength; j ++) {\n        const morphNormal = morphNormals[j].vertexNormals[i];\n        morphTargetsNormal[j].push(morphNormal.a, morphNormal.b, morphNormal.c);\n      }\n      // skins\n      if (hasSkinIndices) {\n        this.skinIndices.push(skinIndices[face.a], skinIndices[face.b], skinIndices[face.c]);\n      }\n      if (hasSkinWeights) {\n        this.skinWeights.push(skinWeights[face.a], skinWeights[face.b], skinWeights[face.c]);\n      }\n    }\n    this.computeGroups(geometry);\n    this.verticesNeedUpdate = geometry.verticesNeedUpdate;\n    this.normalsNeedUpdate = geometry.normalsNeedUpdate;\n    this.colorsNeedUpdate = geometry.colorsNeedUpdate;\n    this.uvsNeedUpdate = geometry.uvsNeedUpdate;\n    this.groupsNeedUpdate = geometry.groupsNeedUpdate;\n    return this;\n  }\n  dispose(): void {\n    this.dispatchEvent({ type: 'dispose' });\n  }\n}\n","import { Material, MaterialParameters } from \"./Material\";\nimport { Color } from \"../math/Color\";\nimport { Texture } from \"../textures/Texture\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture(<Image>),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\nexport interface PointsMaterialParameters extends MaterialParameters {\n  color?: number;\n  opacity?: number;\n  map?: Texture;\n\n  size?: any;\n  sizeAttenuation?: boolean;\n}\nexport class PointsMaterial extends Material {\n  readonly isPointsMaterial: boolean = true;\n  constructor(parameters?: PointsMaterialParameters) {\n    super();\n    this.type = 'PointsMaterial';\n    this.color = new Color(0xffffff);\n    this.map = null;\n    this.size = 1;\n    this.sizeAttenuation = true;\n    this.lights = false;\n    this.setValues(parameters);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.color.copy(source.color);\n    this.map = source.map;\n    this.size = source.size;\n    this.sizeAttenuation = source.sizeAttenuation;\n    return this;\n  }\n}\n","import { Sphere } from \"../math/Sphere\";\nimport { Ray } from \"../math/Ray\";\nimport { Matrix4 } from \"../math/Matrix4\";\nimport { Object3D } from \"../core/Object3D\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Material } from \"../materials/Material\";\nimport { PointsMaterial } from \"../materials/PointsMaterial\";\nimport { Geometry } from \"../core/Geometry\";\nimport { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Raycaster, Intersect } from \"../core/Raycaster\";\n/**\n * @author alteredq / http://alteredqualia.com/\n */\nexport class Points extends Object3D {\n  readonly isPoints: boolean = true;\n  constructor(geometry: Geometry | BufferGeometry = new BufferGeometry(), material: Material = new PointsMaterial({ color: Math.random() * 0xffffff })) {\n    super();\n    this.type = 'Points';\n    this.geometry = geometry;\n    this.material = material;\n  }\n  raycast(raycaster: Raycaster, intersects: Intersect[]): Intersect[] {\n    const inverseMatrix = new Matrix4();\n    const ray = new Ray();\n    const sphere = new Sphere();\n    //return function raycast(raycaster, intersects) {\n      const object = this;\n      const geometry = this.geometry;\n      const matrixWorld = this.matrixWorld;\n      const threshold = raycaster.params.Points.threshold;\n      // Checking boundingSphere distance to ray\n      if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n      sphere.copy(geometry.boundingSphere);\n      sphere.applyMatrix4(matrixWorld);\n      if (raycaster.ray.intersectsSphere(sphere) === false) return intersects;\n      //\n      inverseMatrix.getInverse(matrixWorld);\n      ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);\n      const localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n      const localThresholdSq = localThreshold * localThreshold;\n      const position = new Vector3();\n      function testPoint(point: Vector3, index: number): void {\n        const rayPointDistanceSq = ray.distanceSqToPoint(point);\n        if (rayPointDistanceSq < localThresholdSq) {\n          const intersectPoint = ray.closestPointToPoint(point);\n          intersectPoint.applyMatrix4(matrixWorld);\n          const distance = raycaster.ray.origin.distanceTo(intersectPoint);\n          if (distance < raycaster.near || distance > raycaster.far) return;\n          intersects.push({\n            distance: distance,\n            distanceToRay: Math.sqrt(rayPointDistanceSq),\n            point: intersectPoint.clone(),\n            index: index,\n            face: null,\n            object: object\n          });\n        }\n      }\n      if ((geometry && geometry instanceof BufferGeometry)) {\n        const index = geometry.index;\n        const attributes = geometry.attributes;\n        const positions = attributes.position.array;\n        if (index !== null) {\n          const indices = index.array;\n          for (let i = 0, il = indices.length; i < il; i ++) {\n            const a = indices[i];\n            position.fromArray(positions, a * 3);\n            testPoint(position, a);\n          }\n        } else {\n          for (let i = 0, l = positions.length / 3; i < l; i ++) {\n            position.fromArray(positions, i * 3);\n            testPoint(position, i);\n          }\n        }\n      } else if (geometry && geometry instanceof Geometry) {\n        const vertices = geometry.vertices;\n        for (let i = 0, l = vertices.length; i < l; i ++) {\n          testPoint(vertices[i], i);\n        }\n      }\n      return intersects;\n    //};\n  }\n  clone(): this {\n    return new (this.constructor as any)(this.geometry, this.material).copy(this);\n  }\n}\n","import { Material, MaterialParameters } from \"./Material\";\nimport { Color } from \"../math/Color\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\nexport interface LineBasicMaterialParameters extends MaterialParameters {\n  fog?: any;\n  color?: any;\n  opacity?: any;\n  linewidth?: any;\n  depthTest?: any;\n  depthWrite?: any;\n  transparent?: any;\n  vertexColors?: any;\n}\nexport class LineBasicMaterial extends Material {\n  linewidth: number;\n  linecap: string;\n  linejoin: string;\n  readonly isLineBasicMaterial: boolean = true;\n  constructor(parameters?: LineBasicMaterialParameters) {\n    super();\n    this.type = 'LineBasicMaterial';\n    this.color = new Color(0xffffff);\n    this.linewidth = 1;\n    this.linecap = 'round';\n    this.linejoin = 'round';\n    this.lights = false;\n    this.setValues(parameters);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.color.copy(source.color);\n    this.linewidth = source.linewidth;\n    this.linecap = source.linecap;\n    this.linejoin = source.linejoin;\n    return this;\n  }\n}\n","import { Sphere } from \"../math/Sphere\";\nimport { Ray } from \"../math/Ray\";\nimport { Matrix4 } from \"../math/Matrix4\";\nimport { Object3D } from \"../core/Object3D\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Material } from \"../materials/Material\";\nimport { LineBasicMaterial } from \"../materials/LineBasicMaterial\";\nimport { Geometry } from \"../core/Geometry\";\nimport { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Raycaster, Intersect } from \"../core/Raycaster\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class Line extends Object3D {\n  protected _step: number = 1;\n  readonly isLine: boolean = true;\n  readonly isLineSegments: boolean = false;\n  constructor(geometry: Geometry | BufferGeometry = new BufferGeometry(), material: Material = new LineBasicMaterial({ color: Math.random() * 0xffffff }), mode?: number) {\n    super();\n    if (mode === 1) {\n      console.warn('THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.');\n      //return new LineSegments(geometry, material);\n    }\n    this.type = 'Line';\n    this.geometry = geometry;\n    this.material = material;\n  }\n  raycast(raycaster: Raycaster, intersects: Intersect[]): Intersect[] {\n    let inverseMatrix = new Matrix4();\n    let ray = new Ray();\n    let sphere = new Sphere();\n    //return function raycast(raycaster, intersects) {\n      let precision = raycaster.linePrecision;\n      let precisionSq = precision * precision;\n      let geometry = this.geometry;\n      let matrixWorld = this.matrixWorld;\n      // Checking boundingSphere distance to ray\n      if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n      sphere.copy(geometry.boundingSphere);\n      sphere.applyMatrix4(matrixWorld);\n      if (raycaster.ray.intersectsSphere(sphere) === false) return intersects;\n      //\n      inverseMatrix.getInverse(matrixWorld);\n      ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);\n      let vStart = new Vector3();\n      let vEnd = new Vector3();\n      let interSegment = new Vector3();\n      let interRay = new Vector3();\n      let step = this._step; //(this && this instanceof LineSegments) ? 2 : 1;\n      if ((geometry && geometry instanceof BufferGeometry)) {\n        let index = geometry.index;\n        let attributes = geometry.attributes;\n        let positions = attributes.position.array;\n        if (index !== null) {\n          let indices = index.array;\n          for (let i = 0, l = indices.length - 1; i < l; i += step) {\n            let a = indices[i];\n            let b = indices[i + 1];\n            vStart.fromArray(positions, a * 3);\n            vEnd.fromArray(positions, b * 3);\n            let distSq = ray.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n            if (distSq > precisionSq) continue;\n            interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n            let distance = raycaster.ray.origin.distanceTo(interRay);\n            if (distance < raycaster.near || distance > raycaster.far) continue;\n            intersects.push({\n              distance: distance,\n              // What do we want? intersection point on the ray or on the segment??\n              // point: raycaster.ray.at(distance),\n              point: interSegment.clone().applyMatrix4(this.matrixWorld),\n              index: i,\n              face: null,\n              faceIndex: null,\n              object: this\n            });\n          }\n        } else {\n          for (let i = 0, l = positions.length / 3 - 1; i < l; i += step) {\n            vStart.fromArray(positions, 3 * i);\n            vEnd.fromArray(positions, 3 * i + 3);\n            let distSq = ray.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n            if (distSq > precisionSq) continue;\n            interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n            let distance = raycaster.ray.origin.distanceTo(interRay);\n            if (distance < raycaster.near || distance > raycaster.far) continue;\n            intersects.push({\n              distance: distance,\n              // What do we want? intersection point on the ray or on the segment??\n              // point: raycaster.ray.at(distance),\n              point: interSegment.clone().applyMatrix4(this.matrixWorld),\n              index: i,\n              face: null,\n              faceIndex: null,\n              object: this\n            });\n          }\n        }\n      } else if ((geometry && geometry instanceof Geometry)) {\n        let vertices = geometry.vertices;\n        let nbVertices = vertices.length;\n        for (let i = 0; i < nbVertices - 1; i += step) {\n          let distSq = ray.distanceSqToSegment(vertices[i], vertices[i + 1], interRay, interSegment);\n          if (distSq > precisionSq) continue;\n          interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n          let distance = raycaster.ray.origin.distanceTo(interRay);\n          if (distance < raycaster.near || distance > raycaster.far) continue;\n          intersects.push({\n            distance: distance,\n            // What do we want? intersection point on the ray or on the segment??\n            // point: raycaster.ray.at(distance),\n            point: interSegment.clone().applyMatrix4(this.matrixWorld),\n            index: i,\n            face: null,\n            faceIndex: null,\n            object: this\n          });\n        }\n      }\n      return intersects;\n    //};\n  }\n  clone(): this {\n    return new (this.constructor as any)(this.geometry, this.material).copy(this);\n  }\n}\n","import { Vector3 } from \"../math/Vector3\";\nimport { Box3 } from \"../math/Box3\";\nimport { EventDispatcher } from \"./EventDispatcher\";\nimport { BufferAttribute, Float32Attribute } from \"./BufferAttribute\";\nimport { InterleavedBufferAttribute } from \"./InterleavedBufferAttribute\";\nimport { Sphere } from \"../math/Sphere\";\nimport { DirectGeometry } from \"./DirectGeometry\";\nimport { Object3D } from \"./Object3D\";\nimport { Matrix4 } from \"../math/Matrix4\";\nimport { Matrix3 } from \"../math/Matrix3\";\nimport { _Math } from \"../math/Math\";\nimport { Geometry, GeometryIdCount } from \"./Geometry\";\nimport { Points } from \"../objects/Points\";\nimport { Line } from \"../objects/Line\";\nimport { Mesh } from \"../objects/Mesh\";\nimport { Bone } from \"../objects/Bone\";\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\nexport interface BufferGeometryRange {\n  start: number;\n  count: number;\n}\nexport interface BufferGeometryGroup {\n  start: number;\n  count: number;\n  materialIndex: number;\n}\nexport class BufferGeometry extends EventDispatcher {\n  id: number = GeometryIdCount();\n  uuid: string = _Math.generateUUID();\n  name: string = '';\n  type: string = 'BufferGeometry';\n  index: BufferAttribute = null;\n  attributes: any = {\n    //position: undefined,\n    //normal: undefined,\n    //color: undefined,\n    //uv: undefined,\n    //lineDistance: undefined,\n    //skinWeight: undefined\n  };\n  parameters: any = undefined;\n  morphTargets: any; // Mesh.ts\n  bones: Bone[];\n  morphAttributes: any = {};\n  groups: BufferGeometryGroup[] = [];\n  boundingBox: Box3 = null;\n  boundingSphere: Sphere = null;\n  drawRange: BufferGeometryRange = { start: 0, count: Infinity };\n  maxInstancedCount: number;\n  // {\n  iks;\n  grants;\n  rigidBodies;\n  constraints;\n  mmdFormat;\n  // }\n  readonly isGeometry: boolean = false;\n  readonly isBufferGeometry: boolean = true;\n  static MaxIndex: number = 65535;\n  constructor() {\n    super();\n  }\n  getIndex(): BufferAttribute {\n    return this.index;\n  }\n  setIndex(index: BufferAttribute): void {\n    this.index = index;\n  }\n  addAttribute(name: string, attribute: BufferAttribute): BufferGeometry {\n    if ((attribute && attribute instanceof BufferAttribute) === false && (attribute && attribute instanceof InterleavedBufferAttribute) === false) {\n      console.warn('THREE.BufferGeometry: .addAttribute() now expects (name, attribute).');\n      this.addAttribute(name, new BufferAttribute(arguments[1], arguments[2]));\n      return this;\n    }\n    if (name === 'index') {\n      console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.');\n      this.setIndex(attribute);\n      return this;\n    }\n    this.attributes[name] = attribute;\n    return this;\n  }\n  getAttribute(name: string): BufferAttribute {\n    return this.attributes[name];\n  }\n  removeAttribute(name: string): BufferGeometry {\n    delete this.attributes[name];\n    return this;\n  }\n  addGroup(start: number, count: number, materialIndex: number = 0): void {\n    this.groups.push({\n      start: start,\n      count: count,\n      materialIndex: materialIndex\n    });\n  }\n  clearGroups(): void {\n    this.groups = [];\n  }\n  setDrawRange(start: number, count: number): void {\n    this.drawRange.start = start;\n    this.drawRange.count = count;\n  }\n  applyMatrix(matrix: Matrix4): BufferGeometry {\n    const position = this.attributes.position;\n    if (position !== undefined) {\n      matrix.applyToVector3Array(position.array);\n      position.needsUpdate = true;\n    }\n    const normal = this.attributes.normal;\n    if (normal !== undefined) {\n      const normalMatrix = new Matrix3().getNormalMatrix(matrix);\n      normalMatrix.applyToVector3Array(normal.array);\n      normal.needsUpdate = true;\n    }\n    if (this.boundingBox !== null) {\n      this.computeBoundingBox();\n    }\n    if (this.boundingSphere !== null) {\n      this.computeBoundingSphere();\n    }\n    return this;\n  }\n  rotateX(angle: number): BufferGeometry {\n    // rotate geometry around world x-axis\n    const m1 = new Matrix4();\n    //return function rotateX(angle) {\n      m1.makeRotationX(angle);\n      this.applyMatrix(m1);\n      return this;\n    //};\n  }\n  rotateY(angle: number): BufferGeometry {\n    // rotate geometry around world y-axis\n    const m1 = new Matrix4();\n    //return function rotateY(angle) {\n      m1.makeRotationY(angle);\n      this.applyMatrix(m1);\n      return this;\n    //};\n  }\n  rotateZ(angle: number): BufferGeometry {\n    // rotate geometry around world z-axis\n    const m1 = new Matrix4();\n    //return function rotateZ(angle) {\n      m1.makeRotationZ(angle);\n      this.applyMatrix(m1);\n      return this;\n    //};\n  }\n  translate(x: number, y: number, z: number): BufferGeometry {\n    // translate geometry\n    const m1 = new Matrix4();\n    //return function translate(x, y, z) {\n      m1.makeTranslation(x, y, z);\n      this.applyMatrix(m1);\n      return this;\n    //};\n  }\n  scale(x: number, y: number, z: number): BufferGeometry {\n    // scale geometry\n    const m1 = new Matrix4();\n    //return function scale(x, y, z) {\n      m1.makeScale(x, y, z);\n      this.applyMatrix(m1);\n      return this;\n    //};\n  }\n  lookAt(vector: Vector3): void {\n    const obj = new Object3D();\n    //return function lookAt(vector) {\n      obj.lookAt(vector);\n      obj.updateMatrix();\n      this.applyMatrix(obj.matrix);\n    //};\n  }\n  center(): Vector3 {\n    this.computeBoundingBox();\n    const offset = this.boundingBox.getCenter().negate();\n    this.translate(offset.x, offset.y, offset.z);\n    return offset;\n  }\n  setFromObject(object: any): BufferGeometry {\n    // console.log('THREE.BufferGeometry.setFromObject(). Converting', object, this);\n    const geometry = object.geometry;\n    if ((object && object instanceof Points) || (object && object instanceof Line)) {\n      const positions = Float32Attribute(geometry.vertices.length * 3, 3);\n      const colors = Float32Attribute(geometry.colors.length * 3, 3);\n      this.addAttribute('position', positions.copyVector3sArray(geometry.vertices));\n      this.addAttribute('color', colors.copyColorsArray(geometry.colors));\n      if (geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length) {\n        const lineDistances = Float32Attribute(geometry.lineDistances.length, 1);\n        this.addAttribute('lineDistance', lineDistances.copyArray(geometry.lineDistances));\n      }\n      if (geometry.boundingSphere !== null) {\n        this.boundingSphere = geometry.boundingSphere.clone();\n      }\n      if (geometry.boundingBox !== null) {\n        this.boundingBox = geometry.boundingBox.clone();\n      }\n    } else if ((object && object instanceof Mesh)) {\n      if ((geometry && geometry instanceof Geometry)) {\n        this.fromGeometry(geometry);\n      }\n    }\n    return this;\n  }\n  updateFromObject(object: any): BufferGeometry {\n    let geometry = object.geometry;\n    if ((object && object instanceof Mesh)) {\n      let direct = geometry.__directGeometry;\n      if (geometry.elementsNeedUpdate === true) {\n        direct = undefined;\n        geometry.elementsNeedUpdate = false;\n      }\n      if (direct === undefined) {\n        return this.fromGeometry(geometry);\n      }\n      direct.verticesNeedUpdate = geometry.verticesNeedUpdate;\n      direct.normalsNeedUpdate = geometry.normalsNeedUpdate;\n      direct.colorsNeedUpdate = geometry.colorsNeedUpdate;\n      direct.uvsNeedUpdate = geometry.uvsNeedUpdate;\n      direct.groupsNeedUpdate = geometry.groupsNeedUpdate;\n      geometry.verticesNeedUpdate = false;\n      geometry.normalsNeedUpdate = false;\n      geometry.colorsNeedUpdate = false;\n      geometry.uvsNeedUpdate = false;\n      geometry.groupsNeedUpdate = false;\n      geometry = direct;\n    }\n    let attribute;\n    if (geometry.verticesNeedUpdate === true) {\n      attribute = this.attributes.position;\n      if (attribute !== undefined) {\n        attribute.copyVector3sArray(geometry.vertices);\n        attribute.needsUpdate = true;\n      }\n      geometry.verticesNeedUpdate = false;\n    }\n    if (geometry.normalsNeedUpdate === true) {\n      attribute = this.attributes.normal;\n      if (attribute !== undefined) {\n        attribute.copyVector3sArray(geometry.normals);\n        attribute.needsUpdate = true;\n      }\n      geometry.normalsNeedUpdate = false;\n    }\n    if (geometry.colorsNeedUpdate === true) {\n      attribute = this.attributes.color;\n      if (attribute !== undefined) {\n        attribute.copyColorsArray(geometry.colors);\n        attribute.needsUpdate = true;\n      }\n      geometry.colorsNeedUpdate = false;\n    }\n    if (geometry.uvsNeedUpdate) {\n      attribute = this.attributes.uv;\n      if (attribute !== undefined) {\n        attribute.copyVector2sArray(geometry.uvs);\n        attribute.needsUpdate = true;\n      }\n      geometry.uvsNeedUpdate = false;\n    }\n    if (geometry.lineDistancesNeedUpdate) {\n      attribute = this.attributes.lineDistance;\n      if (attribute !== undefined) {\n        attribute.copyArray(geometry.lineDistances);\n        attribute.needsUpdate = true;\n      }\n      geometry.lineDistancesNeedUpdate = false;\n    }\n    if (geometry.groupsNeedUpdate) {\n      geometry.computeGroups(object.geometry);\n      this.groups = geometry.groups;\n      geometry.groupsNeedUpdate = false;\n    }\n    return this;\n  }\n  fromGeometry(geometry: any): BufferGeometry {\n    geometry.__directGeometry = new DirectGeometry().fromGeometry(geometry);\n    return this.fromDirectGeometry(geometry.__directGeometry);\n  }\n  fromDirectGeometry(geometry: any): BufferGeometry {\n    const positions = new Float32Array(geometry.vertices.length * 3);\n    this.addAttribute('position', new BufferAttribute(positions, 3).copyVector3sArray(geometry.vertices));\n    if (geometry.normals.length > 0) {\n      const normals = new Float32Array(geometry.normals.length * 3);\n      this.addAttribute('normal', new BufferAttribute(normals, 3).copyVector3sArray(geometry.normals));\n    }\n    if (geometry.colors.length > 0) {\n      const colors = new Float32Array(geometry.colors.length * 3);\n      this.addAttribute('color', new BufferAttribute(colors, 3).copyColorsArray(geometry.colors));\n    }\n    if (geometry.uvs.length > 0) {\n      const uvs = new Float32Array(geometry.uvs.length * 2);\n      this.addAttribute('uv', new BufferAttribute(uvs, 2).copyVector2sArray(geometry.uvs));\n    }\n    if (geometry.uvs2.length > 0) {\n      const uvs2 = new Float32Array(geometry.uvs2.length * 2);\n      this.addAttribute('uv2', new BufferAttribute(uvs2, 2).copyVector2sArray(geometry.uvs2));\n    }\n    if (geometry.indices.length > 0) {\n      const TypeArray = geometry.vertices.length > 65535 ? Uint32Array : Uint16Array;\n      const indices = new TypeArray(geometry.indices.length * 3);\n      this.setIndex(new BufferAttribute(indices, 1).copyIndicesArray(geometry.indices));\n    }\n    // groups\n    this.groups = geometry.groups;\n    // morphs\n    for (let name in geometry.morphTargets) {\n      if (!geometry.morphTargets[name]) continue;\n      const array = [];\n      const morphTargets = geometry.morphTargets[name];\n      for (let i = 0, l = morphTargets.length; i < l; i ++) {\n        const morphTarget = morphTargets[i];\n        const attribute = Float32Attribute(morphTarget.length * 3, 3);\n        array.push(attribute.copyVector3sArray(morphTarget));\n      }\n      this.morphAttributes[name] = array;\n    }\n    // skinning\n    if (geometry.skinIndices.length > 0) {\n      const skinIndices = Float32Attribute(geometry.skinIndices.length * 4, 4);\n      this.addAttribute('skinIndex', skinIndices.copyVector4sArray(geometry.skinIndices));\n    }\n    if (geometry.skinWeights.length > 0) {\n      const skinWeights = Float32Attribute(geometry.skinWeights.length * 4, 4);\n      this.addAttribute('skinWeight', skinWeights.copyVector4sArray(geometry.skinWeights));\n    }\n    //\n    if (geometry.boundingSphere !== null) {\n      this.boundingSphere = geometry.boundingSphere.clone();\n    }\n    if (geometry.boundingBox !== null) {\n      this.boundingBox = geometry.boundingBox.clone();\n    }\n    return this;\n  }\n  computeBoundingBox(): void {\n    if (this.boundingBox === null) {\n      this.boundingBox = new Box3();\n    }\n    const positions = this.attributes.position.array;\n    if (positions !== undefined) {\n      this.boundingBox.setFromArray(positions);\n    } else {\n      this.boundingBox.makeEmpty();\n    }\n    if (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) {\n      console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this);\n    }\n  }\n  computeBoundingSphere(): void {\n    const box = new Box3();\n    const vector = new Vector3();\n    //return function computeBoundingSphere() {\n      if (this.boundingSphere === null) {\n        this.boundingSphere = new Sphere();\n      }\n      const positions = this.attributes.position;\n      if (positions) {\n        const array = positions.array;\n        const center = this.boundingSphere.center;\n        box.setFromArray(array);\n        box.getCenter(center);\n        // hoping to find a boundingSphere with a radius smaller than the\n        // boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n        let maxRadiusSq = 0;\n        for (let i = 0, il = array.length; i < il; i += 3) {\n          vector.fromArray(array, i);\n          maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(vector));\n        }\n        this.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n        if (isNaN(this.boundingSphere.radius)) {\n          console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this);\n        }\n      }\n    //};\n  }\n  computeFaceNormals(): void {\n    // backwards compatibility\n  }\n  computeVertexNormals(): void {\n    const index = this.index;\n    const attributes = this.attributes;\n    const groups = this.groups;\n    if (attributes.position) {\n      const positions = attributes.position.array;\n      if (attributes.normal === undefined) {\n        this.addAttribute('normal', new BufferAttribute(new Float32Array(positions.length), 3));\n      } else {\n        // reset existing normals to zero\n        const array = attributes.normal.array;\n        for (let i = 0, il = array.length; i < il; i ++) {\n          array[i] = 0;\n        }\n      }\n      const normals = attributes.normal.array;\n      let vA, vB, vC,\n      pA = new Vector3(),\n      pB = new Vector3(),\n      pC = new Vector3(),\n      cb = new Vector3(),\n      ab = new Vector3();\n      // indexed elements\n      if (index) {\n        const indices = index.array;\n        if (groups.length === 0) {\n          this.addGroup(0, indices.length);\n        }\n        for (let j = 0, jl = groups.length; j < jl; ++ j) {\n          const group = groups[j];\n          const start = group.start;\n          const count = group.count;\n          for (let i = start, il = start + count; i < il; i += 3) {\n            vA = indices[i + 0] * 3;\n            vB = indices[i + 1] * 3;\n            vC = indices[i + 2] * 3;\n            pA.fromArray(positions, vA);\n            pB.fromArray(positions, vB);\n            pC.fromArray(positions, vC);\n            cb.subVectors(pC, pB);\n            ab.subVectors(pA, pB);\n            cb.cross(ab);\n            normals[vA] += cb.x;\n            normals[vA + 1] += cb.y;\n            normals[vA + 2] += cb.z;\n            normals[vB] += cb.x;\n            normals[vB + 1] += cb.y;\n            normals[vB + 2] += cb.z;\n            normals[vC] += cb.x;\n            normals[vC + 1] += cb.y;\n            normals[vC + 2] += cb.z;\n          }\n        }\n      } else {\n        // non-indexed elements (unconnected triangle soup)\n        for (let i = 0, il = positions.length; i < il; i += 9) {\n          pA.fromArray(positions, i);\n          pB.fromArray(positions, i + 3);\n          pC.fromArray(positions, i + 6);\n          cb.subVectors(pC, pB);\n          ab.subVectors(pA, pB);\n          cb.cross(ab);\n          normals[i] = cb.x;\n          normals[i + 1] = cb.y;\n          normals[i + 2] = cb.z;\n          normals[i + 3] = cb.x;\n          normals[i + 4] = cb.y;\n          normals[i + 5] = cb.z;\n          normals[i + 6] = cb.x;\n          normals[i + 7] = cb.y;\n          normals[i + 8] = cb.z;\n        }\n      }\n      this.normalizeNormals();\n      attributes.normal.needsUpdate = true;\n    }\n  }\n  merge(geometry: BufferGeometry, offset: number = 0): BufferGeometry {\n    if ((geometry && geometry instanceof BufferGeometry) === false) {\n      console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry);\n      return this;\n    }\n    const attributes = this.attributes;\n    for (let key in attributes) {\n      const attribute1 = attributes[key];\n      if (attribute1 === undefined) continue;\n      const attributeArray1 = attribute1.array;\n      const attribute2 = geometry.attributes[key];\n      if (attribute2 === undefined) continue;\n      const attributeArray2 = attribute2.array;\n      const attributeSize = attribute2.itemSize;\n      for (let i = 0, j = attributeSize * offset; i < attributeArray2.length; i ++, j ++) {\n        attributeArray1[j] = attributeArray2[i];\n      }\n    }\n    return this;\n  }\n  normalizeNormals(): void {\n    const normals = this.attributes.normal.array;\n    for (let i = 0, il = normals.length; i < il; i += 3) {\n      const x = normals[i];\n      const y = normals[i + 1];\n      const z = normals[i + 2];\n      const n = 1.0 / Math.sqrt(x * x + y * y + z * z);\n      normals[i] *= n;\n      normals[i + 1] *= n;\n      normals[i + 2] *= n;\n    }\n  }\n  toNonIndexed(): BufferGeometry {\n    if (this.index === null) {\n      console.warn('THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.');\n      return this;\n    }\n    const geometry2 = new BufferGeometry();\n    const indices = this.index.array;\n    const attributes = this.attributes;\n    for (let name in attributes) {\n      const attribute = attributes[name];\n      if (attribute === undefined) continue;\n      const array = attribute.array;\n      const itemSize = attribute.itemSize;\n      const array2 = new array.constructor(indices.length * itemSize);\n      let index = 0, index2 = 0;\n      for (let i = 0, l = indices.length; i < l; i ++) {\n        index = indices[i] * itemSize;\n        for (let j = 0; j < itemSize; j ++) {\n          array2[index2 ++] = array[index ++];\n        }\n      }\n      geometry2.addAttribute(name, new BufferAttribute(array2, itemSize));\n    }\n    return geometry2;\n  }\n  toJSON(meta?: any): any {\n    const data: any = {\n      metadata: {\n        version: 4.4,\n        type: 'BufferGeometry',\n        generator: 'BufferGeometry.toJSON'\n      }\n    };\n    // standard BufferGeometry serialization\n    data.uuid = this.uuid;\n    data.type = this.type;\n    if (this.name !== '') data.name = this.name;\n    if (this.parameters !== undefined) {\n      const parameters = this.parameters;\n      for (let key in parameters) {\n        if (parameters[key] !== undefined) data[key] = parameters[key];\n      }\n      return data;\n    }\n    data.data = { attributes: {} };\n    const index = this.index;\n    if (index !== null) {\n      const array = Array.prototype.slice.call(index.array);\n      data.data.index = {\n        type: index.array.constructor.name,\n        array: array\n      };\n    }\n    const attributes = this.attributes;\n    for (let key in attributes) {\n      const attribute = attributes[key];\n      if (attribute === undefined) continue;\n      const array = Array.prototype.slice.call(attribute.array);\n      data.data.attributes[key] = {\n        itemSize: attribute.itemSize,\n        type: attribute.array.constructor.name,\n        array: array,\n        normalized: attribute.normalized\n      };\n    }\n    const groups = this.groups;\n    if (groups.length > 0) {\n      data.data.groups = JSON.parse(JSON.stringify(groups));\n    }\n    const boundingSphere = this.boundingSphere;\n    if (boundingSphere !== null) {\n      data.data.boundingSphere = {\n        center: boundingSphere.center.toArray(),\n        radius: boundingSphere.radius\n      };\n    }\n    return data;\n  }\n  clone(): this {\n    /*\n    // Handle primitives\n    const parameters = this.parameters;\n    if (parameters !== undefined) {\n      const values = [];\n      for (let key in parameters) {\n        values.push(parameters[key]);\n      }\n      const geometry = Object.create(this.constructor.prototype);\n      this.constructor.apply(geometry, values);\n      return geometry;\n    }\n    return new this.constructor().copy(this);\n    */\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(source: this): this {\n    const index = source.index;\n    if (index !== null) {\n      this.setIndex(index.clone());\n    }\n    const attributes = source.attributes;\n    for (let name in attributes) {\n      const attribute = attributes[name];\n      if (attribute === undefined) continue;\n      this.addAttribute(name, attribute.clone());\n    }\n    const groups = source.groups;\n    for (let i = 0, l = groups.length; i < l; i ++) {\n      const group = groups[i];\n      this.addGroup(group.start, group.count, group.materialIndex);\n    }\n    return this;\n  }\n  dispose(): void {\n    this.dispatchEvent({ type: 'dispose' });\n  }\n  addIndex(index: BufferAttribute): void {\n    console.warn(\"THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().\");\n    this.setIndex(index);\n  }\n  addDrawCall(start: number, count: number, indexOffset?: number): void {\n    if (indexOffset !== undefined) {\n      console.warn(\"THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.\");\n    }\n    console.warn(\"THREE.BufferGeometry: .addDrawCall() is now .addGroup().\");\n    this.addGroup(start, count);\n  }\n  clearDrawCalls(): void {\n    console.warn(\"THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().\");\n    this.clearGroups();\n  }\n  computeTangents(): void {\n    console.warn(\"THREE.BufferGeometry: .computeTangents() has been removed.\");\n  }\n  computeOffsets(): void {\n    console.warn(\"THREE.BufferGeometry: .computeOffsets() has been removed.\");\n  }\n  get drawcalls(): any[] {\n    console.error(\"THREE.BufferGeometry: .drawcalls has been renamed to .groups.\");\n    return this.groups;\n  }\n  get offsets(): any[] {\n    console.warn(\"THREE.BufferGeometry: .offsets has been renamed to .groups.\");\n    return this.groups;\n  }\n}\n","import { Vector3 } from \"../math/Vector3\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Sphere } from \"../math/Sphere\";\nimport { Ray } from \"../math/Ray\";\nimport { Matrix4 } from \"../math/Matrix4\";\nimport { Object3D } from \"../core/Object3D\";\nimport { Triangle } from \"../math/Triangle\";\nimport { Face3 } from \"../core/Face3\";\nimport { SideMode, DrawMode } from \"../constants\";\nimport { Geometry } from \"../core/Geometry\";\nimport { Material } from \"../materials/Material\";\nimport { MultiMaterial } from \"../materials/MultiMaterial\";\nimport { MeshBasicMaterial } from \"../materials/MeshBasicMaterial\";\nimport { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Raycaster, Intersect } from \"../core/Raycaster\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\nexport class Mesh extends Object3D {\n  drawMode: DrawMode = DrawMode.Triangles;\n  morphTargetInfluences: number[];\n  morphTargetDictionary: any;\n  readonly isMesh: boolean = true;\n  constructor(geometry: Geometry | BufferGeometry = new BufferGeometry(), material: Material | MultiMaterial = new MeshBasicMaterial({ color: Math.random() * 0xffffff })) {\n    super();\n    this.type = 'Mesh';\n    this.geometry = geometry;\n    this.material = material;\n    this.updateMorphTargets();\n  }\n  setDrawMode(value: DrawMode): void {\n    this.drawMode = value;\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.drawMode = source.drawMode;\n    return this;\n  }\n  updateMorphTargets(): void {\n    let morphTargets = this.geometry.morphTargets;\n    if (morphTargets !== undefined && morphTargets.length > 0) {\n      this.morphTargetInfluences = [];\n      this.morphTargetDictionary = {};\n      for (let m = 0, ml = morphTargets.length; m < ml; m ++) {\n        this.morphTargetInfluences.push(0);\n        this.morphTargetDictionary[morphTargets[m].name] = m;\n      }\n    }\n  }\n  raycast(raycaster: Raycaster, intersects: Intersect[]): Intersect[] {\n    let inverseMatrix = new Matrix4();\n    let ray = new Ray();\n    let sphere = new Sphere();\n    let vA = new Vector3();\n    let vB = new Vector3();\n    let vC = new Vector3();\n    let tempA = new Vector3();\n    let tempB = new Vector3();\n    let tempC = new Vector3();\n    let uvA = new Vector2();\n    let uvB = new Vector2();\n    let uvC = new Vector2();\n    let barycoord = new Vector3();\n    let intersectionPoint = new Vector3();\n    let intersectionPointWorld = new Vector3();\n    function uvIntersection(point: Vector3, p1: Vector3, p2: Vector3, p3: Vector3, uv1: Vector2, uv2: Vector2, uv3: Vector2): Vector2 {\n      Triangle.barycoordFromPoint(point, p1, p2, p3, barycoord);\n      uv1.multiplyScalar(barycoord.x);\n      uv2.multiplyScalar(barycoord.y);\n      uv3.multiplyScalar(barycoord.z);\n      uv1.add(uv2).add(uv3);\n      return uv1.clone();\n    }\n    function checkIntersection(object: Object3D, raycaster: Raycaster, ray: Ray, pA: Vector3, pB: Vector3, pC: Vector3, point: Vector3): Intersect {\n      let intersect;\n      let material = object.material;\n      if (material.side === SideMode.Back) {\n        intersect = ray.intersectTriangle(pC, pB, pA, true, point);\n      } else {\n        intersect = ray.intersectTriangle(pA, pB, pC, material.side !== SideMode.Double, point);\n      }\n      if (intersect === null) return null;\n      intersectionPointWorld.copy(point);\n      intersectionPointWorld.applyMatrix4(object.matrixWorld);\n      let distance = raycaster.ray.origin.distanceTo(intersectionPointWorld);\n      if (distance < raycaster.near || distance > raycaster.far) return null;\n      return {\n        distance: distance,\n        point: intersectionPointWorld.clone(),\n        index: 0,\n        face: null,\n        faceIndex: 0,\n        uv: null,\n        object: object\n      };\n    }\n    function checkBufferGeometryIntersection(object: Object3D, raycaster: Raycaster, ray: Ray, positions: number[], uvs: number[], a: number, b: number, c: number): Intersect {\n      vA.fromArray(positions, a * 3);\n      vB.fromArray(positions, b * 3);\n      vC.fromArray(positions, c * 3);\n      let intersection = checkIntersection(object, raycaster, ray, vA, vB, vC, intersectionPoint);\n      if (intersection) {\n        if (uvs) {\n          uvA.fromArray(uvs, a * 2);\n          uvB.fromArray(uvs, b * 2);\n          uvC.fromArray(uvs, c * 2);\n          intersection.uv = uvIntersection(intersectionPoint,  vA, vB, vC,  uvA, uvB, uvC);\n        }\n        intersection.face = new Face3(a, b, c, Triangle.normal(vA, vB, vC));\n        intersection.faceIndex = a;\n      }\n      return intersection;\n    }\n    //return function raycast(raycaster, intersects) {\n      let geometry = this.geometry;\n      let material = this.material;\n      let matrixWorld = this.matrixWorld;\n      if (material === undefined) return intersects;\n      // Checking boundingSphere distance to ray\n      if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n      sphere.copy(geometry.boundingSphere);\n      sphere.applyMatrix4(matrixWorld);\n      if (raycaster.ray.intersectsSphere(sphere) === false) return intersects;\n      //\n      inverseMatrix.getInverse(matrixWorld);\n      ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);\n      // Check boundingBox before continuing\n      if (geometry.boundingBox !== null) {\n        if (ray.intersectsBox(geometry.boundingBox) === false) return intersects;\n      }\n      let uvs, intersection;\n      if ((geometry && geometry instanceof BufferGeometry)) {\n        let a, b, c;\n        let index = geometry.index;\n        let attributes = geometry.attributes;\n        let positions = attributes.position.array;\n        if (attributes.uv !== undefined) {\n          uvs = attributes.uv.array;\n        }\n        if (index !== null) {\n          let indices = index.array;\n          for (let i = 0, l = indices.length; i < l; i += 3) {\n            a = indices[i];\n            b = indices[i + 1];\n            c = indices[i + 2];\n            intersection = checkBufferGeometryIntersection(this, raycaster, ray, positions, uvs, a, b, c);\n            if (intersection) {\n              intersection.faceIndex = Math.floor(i / 3); // triangle number in indices buffer semantics\n              intersects.push(intersection);\n            }\n          }\n        } else {\n          for (let i = 0, l = positions.length; i < l; i += 9) {\n            a = i / 3;\n            b = a + 1;\n            c = a + 2;\n            intersection = checkBufferGeometryIntersection(this, raycaster, ray, positions, uvs, a, b, c);\n            if (intersection) {\n              intersection.index = a; // triangle number in positions buffer semantics\n              intersects.push(intersection);\n            }\n          }\n        }\n      } else if ((geometry && geometry instanceof Geometry)) {\n        let fvA, fvB, fvC;\n        let isFaceMaterial = (material && material instanceof MultiMaterial);\n        let materials = isFaceMaterial === true ? material.materials : null;\n        let vertices = geometry.vertices;\n        let faces = geometry.faces;\n        let faceVertexUvs = geometry.faceVertexUvs[0];\n        if (faceVertexUvs.length > 0) uvs = faceVertexUvs;\n        for (let f = 0, fl = faces.length; f < fl; f ++) {\n          let face = faces[f];\n          let faceMaterial = isFaceMaterial === true ? materials[face.materialIndex] : material;\n          if (faceMaterial === undefined) continue;\n          fvA = vertices[face.a];\n          fvB = vertices[face.b];\n          fvC = vertices[face.c];\n          if (faceMaterial.morphTargets === true) {\n            let morphTargets = geometry.morphTargets;\n            let morphInfluences = this.morphTargetInfluences;\n            vA.set(0, 0, 0);\n            vB.set(0, 0, 0);\n            vC.set(0, 0, 0);\n            for (let t = 0, tl = morphTargets.length; t < tl; t ++) {\n              let influence = morphInfluences[t];\n              if (influence === 0) continue;\n              let targets = morphTargets[t].vertices;\n              vA.addScaledVector(tempA.subVectors(targets[face.a], fvA), influence);\n              vB.addScaledVector(tempB.subVectors(targets[face.b], fvB), influence);\n              vC.addScaledVector(tempC.subVectors(targets[face.c], fvC), influence);\n            }\n            vA.add(fvA);\n            vB.add(fvB);\n            vC.add(fvC);\n            fvA = vA;\n            fvB = vB;\n            fvC = vC;\n          }\n          intersection = checkIntersection(this, raycaster, ray, fvA, fvB, fvC, intersectionPoint);\n          if (intersection) {\n            if (uvs) {\n              let uvs_f = uvs[f];\n              uvA.copy(uvs_f[0]);\n              uvB.copy(uvs_f[1]);\n              uvC.copy(uvs_f[2]);\n              intersection.uv = uvIntersection(intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC);\n            }\n            intersection.face = face;\n            intersection.faceIndex = f;\n            intersects.push(intersection);\n          }\n        }\n      }\n      return intersects;\n    //};\n  }\n  clone(): this {\n    return new (this.constructor as any)(this.geometry, this.material).copy(this);\n  }\n}\n","import { EventDispatcher } from \"./EventDispatcher\";\nimport { Face3 } from \"./Face3\";\nimport { Matrix3 } from \"../math/Matrix3\";\nimport { Sphere } from \"../math/Sphere\";\nimport { Box3 } from \"../math/Box3\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Matrix4 } from \"../math/Matrix4\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Vector4 } from \"../math/Vector4\";\nimport { Color } from \"../math/Color\";\nimport { Object3D } from \"./Object3D\";\nimport { _Math } from \"../math/Math\";\nimport { Mesh } from \"../objects/Mesh\";\nimport { BufferGeometry } from \"./BufferGeometry\";\nimport { Bone } from \"../objects/Bone\";\nimport { AnimationClip } from \"../animation/AnimationClip\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */\nexport class Geometry extends EventDispatcher {\n  id: number = GeometryIdCount();\n  uuid: string = _Math.generateUUID();\n  name: string = '';\n  type: string = 'Geometry';\n  vertices: Vector3[] = [];\n  colors: Color[] = [];\n  faces: Face3[] = [];\n  faceVertexUvs: Vector2[][][] = [[]];\n  morphTargets: any[] = [];\n  morphNormals: any[] = [];\n  skinWeights: Vector4[] = [];\n  skinIndices: Vector4[] = [];\n  lineDistances: number[] = [];\n  boundingBox: Box3 = null;\n  boundingSphere: Sphere = null;\n  // update flags\n  elementsNeedUpdate: boolean = false;\n  verticesNeedUpdate: boolean = false;\n  uvsNeedUpdate: boolean = false;\n  normalsNeedUpdate: boolean = false;\n  colorsNeedUpdate: boolean = false;\n  lineDistancesNeedUpdate: boolean = false;\n  groupsNeedUpdate: boolean = false;\n  parameters: any = undefined;\n  // {\n  bones: Bone[]; // JSONLoader, ObjectLoader, SkinnedMesh\n  animations: AnimationClip[]; // JSONLoader\n  dynamic: boolean; // SkeletonHelper\n  _bufferGeometry: BufferGeometry; // WebGLGeometries\n  // }\n  readonly isGeometry: boolean = true;\n  readonly isBufferGeometry: boolean = false;\n  constructor() {\n    super();\n  }\n  applyMatrix(matrix: Matrix4): Geometry {\n    const normalMatrix = new Matrix3().getNormalMatrix(matrix);\n    for (let i = 0, il = this.vertices.length; i < il; i ++) {\n      const vertex = this.vertices[i];\n      vertex.applyMatrix4(matrix);\n    }\n    for (let i = 0, il = this.faces.length; i < il; i ++) {\n      const face = this.faces[i];\n      face.normal.applyMatrix3(normalMatrix).normalize();\n      for (let j = 0, jl = face.vertexNormals.length; j < jl; j ++) {\n        face.vertexNormals[j].applyMatrix3(normalMatrix).normalize();\n      }\n    }\n    if (this.boundingBox !== null) {\n      this.computeBoundingBox();\n    }\n    if (this.boundingSphere !== null) {\n      this.computeBoundingSphere();\n    }\n    this.verticesNeedUpdate = true;\n    this.normalsNeedUpdate = true;\n    return this;\n  }\n  rotateX(angle: number): Geometry {\n    // rotate geometry around world x-axis\n    const m1 = new Matrix4();\n    //return function rotateX(angle) {\n      m1.makeRotationX(angle);\n      this.applyMatrix(m1);\n      return this;\n    //};\n  }\n  rotateY(angle: number): Geometry {\n    // rotate geometry around world y-axis\n    const m1 = new Matrix4();\n    //return function rotateY(angle) {\n      m1.makeRotationY(angle);\n      this.applyMatrix(m1);\n      return this;\n    //};\n  }\n  rotateZ(angle: number): Geometry {\n    // rotate geometry around world z-axis\n    const m1 = new Matrix4();\n    //return function rotateZ(angle) {\n      m1.makeRotationZ(angle);\n      this.applyMatrix(m1);\n      return this;\n    //};\n  }\n  translate(x: number, y: number, z: number): Geometry {\n    // translate geometry\n    const m1 = new Matrix4();\n    //return function translate(x, y, z) {\n      m1.makeTranslation(x, y, z);\n      this.applyMatrix(m1);\n      return this;\n    //};\n  }\n  scale(x: number, y: number, z: number): Geometry {\n    // scale geometry\n    const m1 = new Matrix4();\n    //return function scale(x, y, z) {\n      m1.makeScale(x, y, z);\n      this.applyMatrix(m1);\n      return this;\n    //};\n  }\n  lookAt(vector: Vector3): void {\n    const obj = new Object3D();\n    //return function lookAt(vector) {\n      obj.lookAt(vector);\n      obj.updateMatrix();\n      this.applyMatrix(obj.matrix);\n    //};\n  }\n  fromBufferGeometry(geometry: BufferGeometry): Geometry {\n    const scope = this;\n    const indices = geometry.index !== null ? geometry.index.array : undefined;\n    const attributes = geometry.attributes;\n    const positions = attributes.position.array;\n    const normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n    const colors = attributes.color !== undefined ? attributes.color.array : undefined;\n    const uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n    const uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n    if (uvs2 !== undefined) this.faceVertexUvs[1] = [];\n    const tempNormals: any[] = [];\n    const tempUVs: any[] = [];\n    const tempUVs2: any[] = [];\n    for (let i = 0, j = 0; i < positions.length; i += 3, j += 2) {\n      scope.vertices.push(new Vector3(positions[i], positions[i + 1], positions[i + 2]));\n      if (normals !== undefined) {\n        tempNormals.push(new Vector3(normals[i], normals[i + 1], normals[i + 2]));\n      }\n      if (colors !== undefined) {\n        scope.colors.push(new Color(colors[i], colors[i + 1], colors[i + 2]));\n      }\n      if (uvs !== undefined) {\n        tempUVs.push(new Vector2(uvs[j], uvs[j + 1]));\n      }\n      if (uvs2 !== undefined) {\n        tempUVs2.push(new Vector2(uvs2[j], uvs2[j + 1]));\n      }\n    }\n    function addFace(a: number, b: number, c: number, materialIndex?: number): void {\n      const vertexNormals: Vector3[] = normals !== undefined ? [ tempNormals[a].clone(), tempNormals[b].clone(), tempNormals[c].clone() ] : [];\n      const vertexColors: Color[] = colors !== undefined ? [ scope.colors[a].clone(), scope.colors[b].clone(), scope.colors[c].clone() ] : [];\n      const face = new Face3(a, b, c, vertexNormals, vertexColors, materialIndex);\n      scope.faces.push(face);\n      if (uvs !== undefined) {\n        scope.faceVertexUvs[0].push([tempUVs[a].clone(), tempUVs[b].clone(), tempUVs[c].clone()]);\n      }\n      if (uvs2 !== undefined) {\n        scope.faceVertexUvs[1].push([tempUVs2[a].clone(), tempUVs2[b].clone(), tempUVs2[c].clone()]);\n      }\n    }\n    if (indices !== undefined) {\n      const groups = geometry.groups;\n      if (groups.length > 0) {\n        for (let i = 0; i < groups.length; i ++) {\n          const group = groups[i];\n          const start = group.start;\n          const count = group.count;\n          for (let j = start, jl = start + count; j < jl; j += 3) {\n            addFace(indices[j], indices[j + 1], indices[j + 2], group.materialIndex);\n          }\n        }\n      } else {\n        for (let i = 0; i < indices.length; i += 3) {\n          addFace(indices[i], indices[i + 1], indices[i + 2]);\n        }\n      }\n    } else {\n      for (let i = 0; i < positions.length / 3; i += 3) {\n        addFace(i, i + 1, i + 2);\n      }\n    }\n    this.computeFaceNormals();\n    if (geometry.boundingBox !== null) {\n      this.boundingBox = geometry.boundingBox.clone();\n    }\n    if (geometry.boundingSphere !== null) {\n      this.boundingSphere = geometry.boundingSphere.clone();\n    }\n    return this;\n  }\n  center(): Vector3 {\n    this.computeBoundingBox();\n    const offset = this.boundingBox.getCenter().negate();\n    this.translate(offset.x, offset.y, offset.z);\n    return offset;\n  }\n  normalize(): Geometry {\n    this.computeBoundingSphere();\n    const center = this.boundingSphere.center;\n    const radius = this.boundingSphere.radius;\n    const s = radius === 0 ? 1 : 1.0 / radius;\n    const matrix = new Matrix4();\n    matrix.set(\n      s, 0, 0, - s * center.x,\n      0, s, 0, - s * center.y,\n      0, 0, s, - s * center.z,\n      0, 0, 0, 1\n    );\n    this.applyMatrix(matrix);\n    return this;\n  }\n  computeFaceNormals(): void {\n    const cb = new Vector3(), ab = new Vector3();\n    for (let f = 0, fl = this.faces.length; f < fl; f ++) {\n      const face = this.faces[f];\n      const vA = this.vertices[face.a];\n      const vB = this.vertices[face.b];\n      const vC = this.vertices[face.c];\n      cb.subVectors(vC, vB);\n      ab.subVectors(vA, vB);\n      cb.cross(ab);\n      cb.normalize();\n      face.normal.copy(cb);\n    }\n  }\n  computeVertexNormals(areaWeighted: boolean = true): void {\n    let v, vl, f, fl, face, vertices;\n    vertices = new Array(this.vertices.length);\n    for (v = 0, vl = this.vertices.length; v < vl; v ++) {\n      vertices[v] = new Vector3();\n    }\n    if (areaWeighted) {\n      // vertex normals weighted by triangle areas\n      // http://www.iquilezles.org/www/articles/normals/normals.htm\n      let vA, vB, vC;\n      const cb = new Vector3(), ab = new Vector3();\n      for (f = 0, fl = this.faces.length; f < fl; f ++) {\n        face = this.faces[f];\n        vA = this.vertices[face.a];\n        vB = this.vertices[face.b];\n        vC = this.vertices[face.c];\n        cb.subVectors(vC, vB);\n        ab.subVectors(vA, vB);\n        cb.cross(ab);\n        vertices[face.a].add(cb);\n        vertices[face.b].add(cb);\n        vertices[face.c].add(cb);\n      }\n    } else {\n      this.computeFaceNormals();\n      for (f = 0, fl = this.faces.length; f < fl; f ++) {\n        face = this.faces[f];\n        vertices[face.a].add(face.normal);\n        vertices[face.b].add(face.normal);\n        vertices[face.c].add(face.normal);\n      }\n    }\n    for (v = 0, vl = this.vertices.length; v < vl; v ++) {\n      vertices[v].normalize();\n    }\n    for (f = 0, fl = this.faces.length; f < fl; f ++) {\n      face = this.faces[f];\n      const vertexNormals = face.vertexNormals;\n      if (vertexNormals.length === 3) {\n        vertexNormals[0].copy(vertices[face.a]);\n        vertexNormals[1].copy(vertices[face.b]);\n        vertexNormals[2].copy(vertices[face.c]);\n      } else {\n        vertexNormals[0] = vertices[face.a].clone();\n        vertexNormals[1] = vertices[face.b].clone();\n        vertexNormals[2] = vertices[face.c].clone();\n      }\n    }\n    if (this.faces.length > 0) {\n      this.normalsNeedUpdate = true;\n    }\n  }\n  computeFlatVertexNormals() {\n    this.computeFaceNormals();\n    for (let f = 0, fl = this.faces.length; f < fl; f ++) {\n      const face = this.faces[ f ];\n      const vertexNormals = face.vertexNormals;\n      if (vertexNormals.length === 3) {\n        vertexNormals[ 0 ].copy(face.normal);\n        vertexNormals[ 1 ].copy(face.normal);\n        vertexNormals[ 2 ].copy(face.normal);\n      } else {\n        vertexNormals[ 0 ] = face.normal.clone();\n        vertexNormals[ 1 ] = face.normal.clone();\n        vertexNormals[ 2 ] = face.normal.clone();\n      }\n    }\n    if (this.faces.length > 0) {\n      this.normalsNeedUpdate = true;\n    }\n  }\n  computeMorphNormals(): void {\n    let i, il, f, fl, face;\n    // save original normals\n    // - create temp variables on first access\n    //   otherwise just copy (for faster repeated calls)\n    for (f = 0, fl = this.faces.length; f < fl; f ++) {\n      face = this.faces[f];\n      if (! face.__originalFaceNormal) {\n        face.__originalFaceNormal = face.normal.clone();\n      } else {\n        face.__originalFaceNormal.copy(face.normal);\n      }\n      if (! face.__originalVertexNormals) face.__originalVertexNormals = [];\n      for (i = 0, il = face.vertexNormals.length; i < il; i ++) {\n        if (! face.__originalVertexNormals[i]) {\n          face.__originalVertexNormals[i] = face.vertexNormals[i].clone();\n        } else {\n          face.__originalVertexNormals[i].copy(face.vertexNormals[i]);\n        }\n      }\n    }\n    // use temp geometry to compute face and vertex normals for each morph\n    const tmpGeo = new Geometry();\n    tmpGeo.faces = this.faces;\n    for (i = 0, il = this.morphTargets.length; i < il; i ++) {\n      // create on first access\n      if (! this.morphNormals[i]) {\n        this.morphNormals[i] = {};\n        this.morphNormals[i].faceNormals = [];\n        this.morphNormals[i].vertexNormals = [];\n        const dstNormalsFace = this.morphNormals[i].faceNormals;\n        const dstNormalsVertex = this.morphNormals[i].vertexNormals;\n        let faceNormal, vertexNormals;\n        for (f = 0, fl = this.faces.length; f < fl; f ++) {\n          faceNormal = new Vector3();\n          vertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n          dstNormalsFace.push(faceNormal);\n          dstNormalsVertex.push(vertexNormals);\n        }\n      }\n      const morphNormals = this.morphNormals[i];\n      // set vertices to morph target\n      tmpGeo.vertices = this.morphTargets[i].vertices;\n      // compute morph normals\n      tmpGeo.computeFaceNormals();\n      tmpGeo.computeVertexNormals();\n      // store morph normals\n      let faceNormal, vertexNormals;\n      for (f = 0, fl = this.faces.length; f < fl; f ++) {\n        face = this.faces[f];\n        faceNormal = morphNormals.faceNormals[f];\n        vertexNormals = morphNormals.vertexNormals[f];\n        faceNormal.copy(face.normal);\n        vertexNormals.a.copy(face.vertexNormals[0]);\n        vertexNormals.b.copy(face.vertexNormals[1]);\n        vertexNormals.c.copy(face.vertexNormals[2]);\n      }\n    }\n    // restore original normals\n    for (f = 0, fl = this.faces.length; f < fl; f ++) {\n      face = this.faces[f];\n      face.normal = face.__originalFaceNormal;\n      face.vertexNormals = face.__originalVertexNormals;\n    }\n  }\n  computeTangents(): void {\n    console.warn('THREE.Geometry: .computeTangents() has been removed.');\n  }\n  computeLineDistances(): void {\n    let d = 0;\n    const vertices = this.vertices;\n    for (let i = 0, il = vertices.length; i < il; i ++) {\n      if (i > 0) {\n        d += vertices[i].distanceTo(vertices[i - 1]);\n      }\n      this.lineDistances[i] = d;\n    }\n  }\n  computeBoundingBox(): void {\n    if (this.boundingBox === null) {\n      this.boundingBox = new Box3();\n    }\n    this.boundingBox.setFromPoints(this.vertices);\n  }\n  computeBoundingSphere(): void {\n    if (this.boundingSphere === null) {\n      this.boundingSphere = new Sphere();\n    }\n    this.boundingSphere.setFromPoints(this.vertices);\n  }\n  merge(geometry: Geometry, matrix: any, materialIndexOffset: number = 0): void {\n    let normalMatrix,\n    vertexOffset = this.vertices.length,\n    vertices1 = this.vertices,\n    vertices2 = geometry.vertices,\n    faces1 = this.faces,\n    faces2 = geometry.faces,\n    uvs1 = this.faceVertexUvs[0],\n    uvs2 = geometry.faceVertexUvs[0],\n    colors1 = this.colors,\n    colors2 = geometry.colors;\n    if (matrix !== undefined) {\n      normalMatrix = new Matrix3().getNormalMatrix(matrix);\n    }\n    // vertices\n    for (let i = 0, il = vertices2.length; i < il; i ++) {\n      const vertex = vertices2[i];\n      const vertexCopy = vertex.clone();\n      if (matrix !== undefined) vertexCopy.applyMatrix4(matrix);\n      vertices1.push(vertexCopy);\n    }\n    // colors\n    for (let i = 0, il = colors2.length; i < il; i ++) {\n      colors1.push(colors2[i].clone());\n    }\n    // faces\n    for (let i = 0, il = faces2.length; i < il; i ++) {\n      let face = faces2[i], faceCopy, normal, color,\n      faceVertexNormals = face.vertexNormals,\n      faceVertexColors = face.vertexColors;\n      faceCopy = new Face3(face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset);\n      faceCopy.normal.copy(face.normal);\n      if (normalMatrix !== undefined) {\n        faceCopy.normal.applyMatrix3(normalMatrix).normalize();\n      }\n      for (let j = 0, jl = faceVertexNormals.length; j < jl; j ++) {\n        normal = faceVertexNormals[j].clone();\n        if (normalMatrix !== undefined) {\n          normal.applyMatrix3(normalMatrix).normalize();\n        }\n        faceCopy.vertexNormals.push(normal);\n      }\n      faceCopy.color.copy(face.color);\n      for (let j = 0, jl = faceVertexColors.length; j < jl; j ++) {\n        color = faceVertexColors[j];\n        faceCopy.vertexColors.push(color.clone());\n      }\n      faceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n      faces1.push(faceCopy);\n    }\n    // uvs\n    for (let i = 0, il = uvs2.length; i < il; i ++) {\n      const uv = uvs2[i], uvCopy = [];\n      if (uv === undefined) {\n        continue;\n      }\n      for (let j = 0, jl = uv.length; j < jl; j ++) {\n        uvCopy.push(uv[j].clone());\n      }\n      uvs1.push(uvCopy);\n    }\n  }\n  mergeMesh(mesh: Mesh): void {\n    if ((mesh && mesh instanceof Mesh) === false) {\n      console.error('THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh);\n      return;\n    }\n    mesh.matrixAutoUpdate && mesh.updateMatrix();\n    if (mesh.geometry instanceof Geometry) {\n      this.merge(mesh.geometry, mesh.matrix);\n    }\n  }\n  /*\n   * Checks for duplicate vertices with hashmap.\n   * Duplicated vertices are removed\n   * and faces' vertices are updated.\n   */\n  mergeVertices(): number {\n    const verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n    const unique: any[] = [], changes: any[] = [];\n    let v, key;\n    const precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n    const precision = Math.pow(10, precisionPoints);\n    let i, il, face;\n    let indices, j, jl;\n    for (i = 0, il = this.vertices.length; i < il; i ++) {\n      v = this.vertices[i];\n      key = Math.round(v.x * precision) + '_' + Math.round(v.y * precision) + '_' + Math.round(v.z * precision);\n      if (verticesMap[key] === undefined) {\n        verticesMap[key] = i;\n        unique.push(this.vertices[i]);\n        changes[i] = unique.length - 1;\n      } else {\n        //console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n        changes[i] = changes[verticesMap[key]];\n      }\n    }\n    // if faces are completely degenerate after merging vertices, we\n    // have to remove them from the geometry.\n    const faceIndicesToRemove = [];\n    for (i = 0, il = this.faces.length; i < il; i ++) {\n      face = this.faces[i];\n      face.a = changes[face.a];\n      face.b = changes[face.b];\n      face.c = changes[face.c];\n      indices = [face.a, face.b, face.c];\n      let dupIndex = - 1;\n      // if any duplicate vertices are found in a Face3\n      // we have to remove the face as nothing can be saved\n      for (let n = 0; n < 3; n ++) {\n        if (indices[n] === indices[(n + 1) % 3]) {\n          dupIndex = n;\n          faceIndicesToRemove.push(i);\n          break;\n        }\n      }\n    }\n    for (i = faceIndicesToRemove.length - 1; i >= 0; i --) {\n      const idx = faceIndicesToRemove[i];\n      this.faces.splice(idx, 1);\n      for (j = 0, jl = this.faceVertexUvs.length; j < jl; j ++) {\n        this.faceVertexUvs[j].splice(idx, 1);\n      }\n    }\n    // Use unique set of vertices\n    const diff = this.vertices.length - unique.length;\n    this.vertices = unique;\n    return diff;\n  }\n  sortFacesByMaterialIndex(): void {\n    const faces = this.faces;\n    const length = faces.length;\n    // tag faces\n    for (let i = 0; i < length; i ++) {\n      faces[i]._id = i;\n    }\n    // sort faces\n    function materialIndexSort(a: any, b: any): number {\n      return a.materialIndex - b.materialIndex;\n    }\n    faces.sort(materialIndexSort);\n    // sort uvs\n    const uvs1 = this.faceVertexUvs[0];\n    const uvs2 = this.faceVertexUvs[1];\n    let newUvs1: any[], newUvs2: any[];\n    if (uvs1 && uvs1.length === length) newUvs1 = [];\n    if (uvs2 && uvs2.length === length) newUvs2 = [];\n    for (let i = 0; i < length; i ++) {\n      const id = faces[i]._id;\n      if (newUvs1) newUvs1.push(uvs1[id]);\n      if (newUvs2) newUvs2.push(uvs2[id]);\n    }\n    if (newUvs1) this.faceVertexUvs[0] = newUvs1;\n    if (newUvs2) this.faceVertexUvs[1] = newUvs2;\n  }\n  toJSON(meta: any): any {\n    const data: any = {\n      metadata: {\n        version: 4.4,\n        type: 'Geometry',\n        generator: 'Geometry.toJSON'\n      }\n    };\n    // standard Geometry serialization\n    data.uuid = this.uuid;\n    data.type = this.type;\n    if (this.name !== '') data.name = this.name;\n    if (this.parameters !== undefined) {\n      const parameters = this.parameters;\n      for (let key in parameters) {\n        if (parameters[key] !== undefined) data[key] = parameters[key];\n      }\n      return data;\n    }\n    const vertices = [];\n    for (let i = 0; i < this.vertices.length; i ++) {\n      const vertex = this.vertices[i];\n      vertices.push(vertex.x, vertex.y, vertex.z);\n    }\n    const faces: any[] = [];\n    const normals: any[] = [];\n    const normalsHash: any = {};\n    const colors: any[] = [];\n    const colorsHash = {};\n    const uvs: any[] = [];\n    const uvsHash = {};\n    for (let i = 0; i < this.faces.length; i ++) {\n      const face = this.faces[i];\n      const hasMaterial = true;\n      const hasFaceUv = false; // deprecated\n      const hasFaceVertexUv = this.faceVertexUvs[0][i] !== undefined;\n      const hasFaceNormal = face.normal.length() > 0;\n      const hasFaceVertexNormal = face.vertexNormals.length > 0;\n      const hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n      const hasFaceVertexColor = face.vertexColors.length > 0;\n      let faceType = 0;\n      faceType = setBit(faceType, 0, false); // isQuad\n      faceType = setBit(faceType, 1, hasMaterial);\n      faceType = setBit(faceType, 2, hasFaceUv);\n      faceType = setBit(faceType, 3, hasFaceVertexUv);\n      faceType = setBit(faceType, 4, hasFaceNormal);\n      faceType = setBit(faceType, 5, hasFaceVertexNormal);\n      faceType = setBit(faceType, 6, hasFaceColor);\n      faceType = setBit(faceType, 7, hasFaceVertexColor);\n      faces.push(faceType);\n      faces.push(face.a, face.b, face.c);\n      faces.push(face.materialIndex);\n      if (hasFaceVertexUv) {\n        const faceVertexUvs = this.faceVertexUvs[0][i];\n        faces.push(\n          getUvIndex(faceVertexUvs[0]),\n          getUvIndex(faceVertexUvs[1]),\n          getUvIndex(faceVertexUvs[2])\n        );\n      }\n      if (hasFaceNormal) {\n        faces.push(getNormalIndex(face.normal));\n      }\n      if (hasFaceVertexNormal) {\n        const vertexNormals = face.vertexNormals;\n        faces.push(\n          getNormalIndex(vertexNormals[0]),\n          getNormalIndex(vertexNormals[1]),\n          getNormalIndex(vertexNormals[2])\n        );\n      }\n      if (hasFaceColor) {\n        faces.push(getColorIndex(face.color));\n      }\n      if (hasFaceVertexColor) {\n        const vertexColors = face.vertexColors;\n        faces.push(\n          getColorIndex(vertexColors[0]),\n          getColorIndex(vertexColors[1]),\n          getColorIndex(vertexColors[2])\n        );\n      }\n    }\n    function setBit(value: number, position: number, enabled: boolean): number {\n      return enabled ? value | (1 << position) : value & (~ (1 << position));\n    }\n    function getNormalIndex(normal: Vector3): any {\n      const hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n      if (normalsHash[hash] !== undefined) {\n        return normalsHash[hash];\n      }\n      normalsHash[hash] = normals.length / 3;\n      normals.push(normal.x, normal.y, normal.z);\n      return normalsHash[hash];\n    }\n    function getColorIndex(color: Color): any {\n      const hash = color.r.toString() + color.g.toString() + color.b.toString();\n      if (colorsHash[hash] !== undefined) {\n        return colorsHash[hash];\n      }\n      colorsHash[hash] = colors.length;\n      colors.push(color.getHex());\n      return colorsHash[hash];\n    }\n    function getUvIndex(uv: Vector2): any {\n      const hash = uv.x.toString() + uv.y.toString();\n      if (uvsHash[hash] !== undefined) {\n        return uvsHash[hash];\n      }\n      uvsHash[hash] = uvs.length / 2;\n      uvs.push(uv.x, uv.y);\n      return uvsHash[hash];\n    }\n    data.data = {};\n    data.data.vertices = vertices;\n    data.data.normals = normals;\n    if (colors.length > 0) data.data.colors = colors;\n    if (uvs.length > 0) data.data.uvs = [uvs]; // temporal backward compatibility\n    data.data.faces = faces;\n    return data;\n  }\n  clone(): this {\n    /*\n    // Handle primitives\n    const parameters = this.parameters;\n    if (parameters !== undefined) {\n      const values = [];\n      for (let key in parameters) {\n        values.push(parameters[key]);\n      }\n      const geometry = Object.create(this.constructor.prototype);\n      this.constructor.apply(geometry, values);\n      return geometry;\n    }\n    return new this.constructor().copy(this);\n    */\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(source: this): this {\n    this.vertices = [];\n    this.faces = [];\n    this.faceVertexUvs = [[]];\n    this.colors = [];\n    const vertices = source.vertices;\n    for (let i = 0, il = vertices.length; i < il; i ++) {\n      this.vertices.push(vertices[i].clone());\n    }\n    const colors = source.colors;\n    for (let i = 0, il = colors.length; i < il; i ++) {\n      this.colors.push(colors[i].clone());\n    }\n    const faces = source.faces;\n    for (let i = 0, il = faces.length; i < il; i ++) {\n      this.faces.push(faces[i].clone());\n    }\n    for (let i = 0, il = source.faceVertexUvs.length; i < il; i ++) {\n      const faceVertexUvs = source.faceVertexUvs[i];\n      if (this.faceVertexUvs[i] === undefined) {\n        this.faceVertexUvs[i] = [];\n      }\n      for (let j = 0, jl = faceVertexUvs.length; j < jl; j ++) {\n        const uvs = faceVertexUvs[j], uvsCopy = [];\n        for (let k = 0, kl = uvs.length; k < kl; k ++) {\n          const uv = uvs[k];\n          uvsCopy.push(uv.clone());\n        }\n        this.faceVertexUvs[i].push(uvsCopy);\n      }\n    }\n    return this;\n  }\n  dispose(): void {\n    this.dispatchEvent({ type: 'dispose' });\n  }\n}\nlet count: number = 0;\nexport function GeometryIdCount(): number { return count++; };\n","import { Vector3 } from \"./Vector3\";\nimport { Matrix4 } from \"./Matrix4\";\nimport { Sphere } from \"./Sphere\";\nimport { Plane } from \"./Plane\";\nimport { Object3D } from \"../core/Object3D\";\nimport { Geometry } from \"../core/Geometry\";\nimport { BufferGeometry } from \"../core/BufferGeometry\";\nimport { InterleavedBufferAttribute } from \"../core/InterleavedBufferAttribute\";\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\nexport class Box3 {\n  min: Vector3;\n  max: Vector3;\n  readonly isBox3: boolean = true;\n  constructor(min = new Vector3(+ Infinity, + Infinity, + Infinity), max = new Vector3(- Infinity, - Infinity, - Infinity)) {\n    this.min = min;\n    this.max = max;\n  }\n  set(min: Vector3, max: Vector3): Box3 {\n    this.min.copy(min);\n    this.max.copy(max);\n    return this;\n  }\n  setFromArray(array: number[]): void {\n    let minX = + Infinity;\n    let minY = + Infinity;\n    let minZ = + Infinity;\n    let maxX = - Infinity;\n    let maxY = - Infinity;\n    let maxZ = - Infinity;\n    for (let i = 0, l = array.length; i < l; i += 3) {\n      const x = array[i];\n      const y = array[i + 1];\n      const z = array[i + 2];\n      if (x < minX) minX = x;\n      if (y < minY) minY = y;\n      if (z < minZ) minZ = z;\n      if (x > maxX) maxX = x;\n      if (y > maxY) maxY = y;\n      if (z > maxZ) maxZ = z;\n    }\n    this.min.set(minX, minY, minZ);\n    this.max.set(maxX, maxY, maxZ);\n  }\n  setFromPoints(points: Vector3[]): Box3 {\n    this.makeEmpty();\n    for (let i = 0, il = points.length; i < il; i ++) {\n      this.expandByPoint(points[i]);\n    }\n    return this;\n  }\n  private static _setFromCenterAndSize_v1 = new Vector3();\n  setFromCenterAndSize(center: Vector3, size: Vector3): Box3 {\n    const v1 = Box3._setFromCenterAndSize_v1;\n    const halfSize = v1.copy(size).multiplyScalar(0.5);\n    this.min.copy(center).sub(halfSize);\n    this.max.copy(center).add(halfSize);\n    return this;\n  }\n  private static _setFromObject_v1 = new Vector3();\n  setFromObject(object: Object3D): Box3 {\n    // Computes the world-axis-aligned bounding box of an object (including its children),\n    // accounting for both the object's, and children's, world transforms\n    const v1 = Box3._setFromObject_v1;\n    const scope = this;\n    object.updateMatrixWorld(true);\n    this.makeEmpty();\n    object.traverse(function(node: Object3D): void {\n      const geometry = node.geometry;\n      if (geometry !== undefined) {\n        if ((geometry && geometry instanceof Geometry)) {\n          const vertices = geometry.vertices;\n          for (let i = 0, il = vertices.length; i < il; i ++) {\n            v1.copy(vertices[i]);\n            v1.applyMatrix4(node.matrixWorld);\n            scope.expandByPoint(v1);\n          }\n        } else if ((geometry && geometry instanceof BufferGeometry)) {\n          const attribute = geometry.attributes.position;\n          if (attribute !== undefined) {\n            let array, offset: number, stride;\n            if ((attribute && attribute instanceof InterleavedBufferAttribute)) {\n              array = attribute.data.array;\n              offset = attribute.offset;\n              stride = attribute.data.stride;\n            } else {\n              array = attribute.array;\n              offset = 0;\n              stride = 3;\n            }\n            for (let i = offset, il = array.length; i < il; i += stride) {\n              v1.fromArray(array, i);\n              v1.applyMatrix4(node.matrixWorld);\n              scope.expandByPoint(v1);\n            }\n          }\n        }\n      }\n    });\n    return this;\n  }\n  clone(): Box3 {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(box: Box3): Box3 {\n    this.min.copy(box.min);\n    this.max.copy(box.max);\n    return this;\n  }\n  makeEmpty(): Box3 {\n    this.min.x = this.min.y = this.min.z = + Infinity;\n    this.max.x = this.max.y = this.max.z = - Infinity;\n    return this;\n  }\n  isEmpty(): boolean {\n    // this is a more robust check for empty than (volume <= 0) because volume can get positive with two negative axes\n    return (this.max.x < this.min.x) || (this.max.y < this.min.y) || (this.max.z < this.min.z);\n  }\n  getCenter(result: Vector3 = new Vector3()): Vector3 {\n    return this.isEmpty() ? result.set(0, 0, 0) : result.addVectors(this.min, this.max).multiplyScalar(0.5);\n  }\n  getSize(result: Vector3 = new Vector3()): Vector3 {\n    return this.isEmpty() ? result.set(0, 0, 0) : result.subVectors(this.max, this.min);\n  }\n  expandByPoint(point: Vector3): Box3 {\n    this.min.min(point);\n    this.max.max(point);\n    return this;\n  }\n  expandByVector(vector: Vector3): Box3 {\n    this.min.sub(vector);\n    this.max.add(vector);\n    return this;\n  }\n  expandByScalar(scalar: number): Box3 {\n    this.min.addScalar(- scalar);\n    this.max.addScalar(scalar);\n    return this;\n  }\n  containsPoint(point: Vector3): boolean {\n    if (point.x < this.min.x || point.x > this.max.x ||\n         point.y < this.min.y || point.y > this.max.y ||\n         point.z < this.min.z || point.z > this.max.z) {\n      return false;\n    }\n    return true;\n  }\n  containsBox(box: Box3): boolean {\n    if ((this.min.x <= box.min.x) && (box.max.x <= this.max.x) &&\n       (this.min.y <= box.min.y) && (box.max.y <= this.max.y) &&\n       (this.min.z <= box.min.z) && (box.max.z <= this.max.z)) {\n      return true;\n    }\n    return false;\n  }\n  getParameter(point: Vector3, result: Vector3 = new Vector3()): Vector3 {\n    // This can potentially have a divide by zero if the box\n    // has a size dimension of 0.\n    return result.set(\n      (point.x - this.min.x) / (this.max.x - this.min.x),\n      (point.y - this.min.y) / (this.max.y - this.min.y),\n      (point.z - this.min.z) / (this.max.z - this.min.z)\n    );\n  }\n  intersectsBox(box: Box3): boolean {\n    // using 6 splitting planes to rule out intersections.\n    if (box.max.x < this.min.x || box.min.x > this.max.x ||\n         box.max.y < this.min.y || box.min.y > this.max.y ||\n         box.max.z < this.min.z || box.min.z > this.max.z) {\n      return false;\n    }\n    return true;\n  }\n  private static _intersectsSphere_closestPoint = new Vector3();\n  intersectsSphere(sphere: Sphere): boolean {\n    const closestPoint = Box3._intersectsSphere_closestPoint;\n    // Find the point on the AABB closest to the sphere center.\n    this.clampPoint(sphere.center, closestPoint);\n    // If that point is inside the sphere, the AABB and sphere intersect.\n    return closestPoint.distanceToSquared(sphere.center) <= (sphere.radius * sphere.radius);\n  }\n  intersectsPlane(plane: Plane): boolean {\n    // We compute the minimum and maximum dot product values. If those values\n    // are on the same side (back or front) of the plane, then there is no intersection.\n    let min, max;\n    if (plane.normal.x > 0) {\n      min = plane.normal.x * this.min.x;\n      max = plane.normal.x * this.max.x;\n    } else {\n      min = plane.normal.x * this.max.x;\n      max = plane.normal.x * this.min.x;\n    }\n    if (plane.normal.y > 0) {\n      min += plane.normal.y * this.min.y;\n      max += plane.normal.y * this.max.y;\n    } else {\n      min += plane.normal.y * this.max.y;\n      max += plane.normal.y * this.min.y;\n    }\n    if (plane.normal.z > 0) {\n      min += plane.normal.z * this.min.z;\n      max += plane.normal.z * this.max.z;\n    } else {\n      min += plane.normal.z * this.max.z;\n      max += plane.normal.z * this.min.z;\n    }\n    return (min <= plane.constant && max >= plane.constant);\n  }\n  clampPoint(point: Vector3, result: Vector3 = new Vector3()): Vector3 {\n    return result.copy(point).clamp(this.min, this.max);\n  }\n  private static _distanceToPoint_v1 = new Vector3();\n  distanceToPoint(point: Vector3): number {\n    const v1 = Box3._distanceToPoint_v1;\n    const clampedPoint = v1.copy(point).clamp(this.min, this.max);\n    return clampedPoint.sub(point).length();\n  }\n  private static _getBoundingSphere_v1 = new Vector3();\n  getBoundingSphere(result: Sphere = new Sphere()) {\n    const v1 = Box3._getBoundingSphere_v1;\n    this.getCenter(result.center);\n    result.radius = this.getSize(v1).length() * 0.5;\n    return result;\n  }\n  intersect(box: Box3): Box3 {\n    this.min.max(box.min);\n    this.max.min(box.max);\n    // ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n    if (this.isEmpty()) this.makeEmpty();\n    return this;\n  }\n  union(box: Box3): Box3 {\n    this.min.min(box.min);\n    this.max.max(box.max);\n    return this;\n  }\n  private static _applyMatrix4_points = [\n    new Vector3(), new Vector3(), new Vector3(), new Vector3(),\n    new Vector3(), new Vector3(), new Vector3(), new Vector3()\n  ];\n  applyMatrix4(matrix: Matrix4): Box3 {\n    // transform of empty box is an empty box.\n    if (this.isEmpty()) return this;\n    const points = Box3._applyMatrix4_points;\n    // NOTE: I am using a binary pattern to specify all 2^3 combinations below\n    points[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(matrix); // 000\n    points[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(matrix); // 001\n    points[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(matrix); // 010\n    points[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(matrix); // 011\n    points[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(matrix); // 100\n    points[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(matrix); // 101\n    points[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(matrix); // 110\n    points[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(matrix);  // 111\n    this.setFromPoints(points);\n    return this;\n  }\n  translate(offset: Vector3): Box3 {\n    this.min.add(offset);\n    this.max.add(offset);\n    return this;\n  }\n  equals(box: Box3) {\n    return box.min.equals(this.min) && box.max.equals(this.max);\n  }\n  center(optionalTarget: Vector3 = new Vector3()): Vector3 {\n    console.warn(\"THREE.Box3: .center() has been renamed to .getCenter().\");\n    return this.getCenter(optionalTarget);\n  }\n  empty(): boolean {\n    console.warn(\"THREE.Box3: .empty() has been renamed to .isEmpty().\");\n    return this.isEmpty();\n  }\n  isIntersectionBox(box: Box3): boolean {\n    console.warn(\"THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().\");\n    return this.intersectsBox(box);\n  }\n  isIntersectionSphere(sphere: Sphere): boolean {\n    console.warn(\"THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().\");\n    return this.intersectsSphere(sphere);\n  }\n  size(optionalTarget: Vector3 = new Vector3()): Vector3 {\n    console.warn(\"THREE.Box3: .size() has been renamed to .getSize().\");\n    return this.getSize(optionalTarget);\n  }\n}\n","import { Box3 } from \"./Box3\";\nimport { Vector3 } from \"./Vector3\";\nimport { Matrix4 } from \"./Matrix4\";\nimport { Plane } from \"./Plane\";\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\nexport class Sphere {\n  center: Vector3;\n  radius: number;\n  constructor(center: Vector3 = new Vector3(), radius: number = 0) {\n    this.center = center;\n    this.radius = radius;\n  }\n  set(center: Vector3, radius: number): Sphere {\n    this.center.copy(center);\n    this.radius = radius;\n    return this;\n  }\n  private static setFromPoints_box = new Box3();\n  setFromPoints(points: Vector3[], optionalCenter?: Vector3): Sphere {\n    const box = Sphere.setFromPoints_box;\n    const center = this.center;\n    if (optionalCenter !== undefined) {\n      center.copy(optionalCenter);\n    } else {\n      box.setFromPoints(points).getCenter(center);\n    }\n    let maxRadiusSq = 0;\n    for (let i = 0, il = points.length; i < il; i ++) {\n      maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(points[i]));\n    }\n    this.radius = Math.sqrt(maxRadiusSq);\n    return this;\n  }\n  clone(): Sphere {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(sphere: Sphere): Sphere {\n    this.center.copy(sphere.center);\n    this.radius = sphere.radius;\n    return this;\n  }\n  empty(): boolean {\n    return (this.radius <= 0);\n  }\n  containsPoint(point: Vector3): boolean {\n    return (point.distanceToSquared(this.center) <= (this.radius * this.radius));\n  }\n  distanceToPoint(point: Vector3): number {\n    return (point.distanceTo(this.center) - this.radius);\n  }\n  intersectsSphere(sphere: Sphere): boolean {\n    const radiusSum = this.radius + sphere.radius;\n    return sphere.center.distanceToSquared(this.center) <= (radiusSum * radiusSum);\n  }\n  intersectsBox(box: Box3): boolean {\n    return box.intersectsSphere(this);\n  }\n  intersectsPlane(plane: Plane): boolean {\n    // We use the following equation to compute the signed distance from\n    // the center of the sphere to the plane.\n    //\n    // distance = q * n - d\n    //\n    // If this distance is greater than the radius of the sphere,\n    // then there is no intersection.\n    return Math.abs(this.center.dot(plane.normal) - plane.constant) <= this.radius;\n  }\n  clampPoint(point: Vector3, result: Vector3 = new Vector3()): Vector3 {\n    const deltaLengthSq = this.center.distanceToSquared(point);\n    result.copy(point);\n    if (deltaLengthSq > (this.radius * this.radius)) {\n      result.sub(this.center).normalize();\n      result.multiplyScalar(this.radius).add(this.center);\n    }\n    return result;\n  }\n  getBoundingBox(box: Box3 = new Box3()): Box3 {\n    box.set(this.center, this.center);\n    box.expandByScalar(this.radius);\n    return box;\n  }\n  applyMatrix4(matrix: Matrix4): Sphere {\n    this.center.applyMatrix4(matrix);\n    this.radius = this.radius * matrix.getMaxScaleOnAxis();\n    return this;\n  }\n  translate(offset: Vector3): Sphere {\n    this.center.add(offset);\n    return this;\n  }\n  equals(sphere: Sphere): boolean {\n    return sphere.center.equals(this.center) && (sphere.radius === this.radius);\n  }\n}\n","import { Vector3 } from \"./Vector3\";\nimport { Matrix4 } from \"./Matrix4\";\nimport { Sphere } from \"./Sphere\";\nimport { Plane } from \"./Plane\";\nimport { Box3 } from \"./Box3\";\nimport { Object3D } from \"../core/Object3D\";\nimport { Sprite } from \"../objects/Sprite\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */\nexport class Frustum {\n  planes: Plane[];\n  constructor(p0: Plane = new Plane(), p1: Plane = new Plane(), p2: Plane = new Plane(), p3: Plane = new Plane(), p4: Plane = new Plane(), p5: Plane = new Plane()) {\n    this.planes = [ p0, p1, p2, p3, p4, p5 ];\n  }\n  set(p0: Plane, p1: Plane, p2: Plane, p3: Plane, p4: Plane, p5: Plane): Frustum {\n    const planes = this.planes;\n    planes[0].copy(p0);\n    planes[1].copy(p1);\n    planes[2].copy(p2);\n    planes[3].copy(p3);\n    planes[4].copy(p4);\n    planes[5].copy(p5);\n    return this;\n  }\n  clone(): Frustum {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(frustum: Frustum): Frustum {\n    const planes = this.planes;\n    for (let i = 0; i < 6; i ++) {\n      planes[i].copy(frustum.planes[i]);\n    }\n    return this;\n  }\n  setFromMatrix(m: Matrix4): Frustum {\n    const planes = this.planes;\n    const me: Float32Array = m.elements;\n    const me0 = me[0], me1 = me[1], me2 = me[2], me3 = me[3];\n    const me4 = me[4], me5 = me[5], me6 = me[6], me7 = me[7];\n    const me8 = me[8], me9 = me[9], me10 = me[10], me11 = me[11];\n    const me12 = me[12], me13 = me[13], me14 = me[14], me15 = me[15];\n    planes[0].setComponents(me3 - me0, me7 - me4, me11 - me8, me15 - me12).normalize();\n    planes[1].setComponents(me3 + me0, me7 + me4, me11 + me8, me15 + me12).normalize();\n    planes[2].setComponents(me3 + me1, me7 + me5, me11 + me9, me15 + me13).normalize();\n    planes[3].setComponents(me3 - me1, me7 - me5, me11 - me9, me15 - me13).normalize();\n    planes[4].setComponents(me3 - me2, me7 - me6, me11 - me10, me15 - me14).normalize();\n    planes[5].setComponents(me3 + me2, me7 + me6, me11 + me10, me15 + me14).normalize();\n    return this;\n  }\n  private static intersectsObject_sphere = new Sphere();\n  intersectsObject(object: Object3D): boolean {\n    const sphere = Frustum.intersectsObject_sphere;\n    const geometry = object.geometry;\n    if (geometry.boundingSphere === null)\n      geometry.computeBoundingSphere();\n    sphere.copy(geometry.boundingSphere)\n      .applyMatrix4(object.matrixWorld);\n    return this.intersectsSphere(sphere);\n  }\n  private static intersectsSprite_sphere = new Sphere();\n  intersectsSprite(sprite: Sprite): boolean {\n    const sphere = Frustum.intersectsSprite_sphere;\n    sphere.center.set(0, 0, 0);\n    sphere.radius = 0.7071067811865476;\n    sphere.applyMatrix4(sprite.matrixWorld);\n    return this.intersectsSphere(sphere);\n  }\n  intersectsSphere(sphere: Sphere): boolean {\n    const planes = this.planes;\n    const center = sphere.center;\n    const negRadius = - sphere.radius;\n    for (let i = 0; i < 6; i ++) {\n      const distance = planes[i].distanceToPoint(center);\n      if (distance < negRadius) {\n        return false;\n      }\n    }\n    return true;\n  }\n  private static intersectsBox_p1 = new Vector3();\n  private static intersectsBox_p2 = new Vector3();\n  intersectsBox(box: Box3): boolean {\n    const p1 = Frustum.intersectsBox_p1,\n      p2 = Frustum.intersectsBox_p2;\n    const planes = this.planes;\n    for (let i = 0; i < 6 ; i ++) {\n      const plane = planes[i];\n      p1.x = plane.normal.x > 0 ? box.min.x : box.max.x;\n      p2.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n      p1.y = plane.normal.y > 0 ? box.min.y : box.max.y;\n      p2.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n      p1.z = plane.normal.z > 0 ? box.min.z : box.max.z;\n      p2.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n      const d1 = plane.distanceToPoint(p1);\n      const d2 = plane.distanceToPoint(p2);\n      // if both outside plane, no intersection\n      if (d1 < 0 && d2 < 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n  containsPoint(point: Vector3): boolean {\n    const planes = this.planes;\n    for (let i = 0; i < 6; i ++) {\n      if (planes[i].distanceToPoint(point) < 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n","import { Matrix4 } from \"../math/Matrix4\";\nimport { Quaternion } from \"../math/Quaternion\";\nimport { Object3D } from \"../core/Object3D\";\nimport { Vector3 } from \"../math/Vector3\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n*/\nexport class Camera extends Object3D {\n  matrixWorldInverse: Matrix4 = new Matrix4();\n  projectionMatrix: Matrix4 = new Matrix4();\n  // {\n  far: number;\n  // }\n  readonly isCamera: boolean = true;\n  constructor() {\n    super();\n    this.type = 'Camera';\n  }\n  updateProjectionMatrix(): void {}\n  getWorldDirection(result: Vector3 = new Vector3()): Vector3 {\n    const quaternion = new Quaternion();\n    //return function getWorldDirection(result) {\n      this.getWorldQuaternion(quaternion);\n      return result.set(0, 0, - 1).applyQuaternion(quaternion);\n    //};\n  }\n  lookAt(vector: Vector3): void {\n    // This routine does not support cameras with rotated and/or translated parent(s)\n    const m1 = new Matrix4();\n    //return function lookAt(vector) {\n      m1.lookAt(this.position, vector, this.up);\n      this.quaternion.setFromRotationMatrix(m1);\n    //};\n  }\n  clone(): this {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.matrixWorldInverse.copy(source.matrixWorldInverse);\n    this.projectionMatrix.copy(source.projectionMatrix);\n    return this;\n  }\n}\n","import { Camera } from \"./Camera\";\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */\nexport class OrthographicCamera extends Camera {\n  zoom: number = 1;\n  view: any = null;\n  left: number;\n  right: number;\n  top: number;\n  bottom: number;\n  near: number;\n  far: number;\n  readonly isOrthographicCamera: boolean = true;\n  constructor(left: number, right: number, top: number, bottom: number, near: number = 0.1, far: number = 2000) {\n    super();\n    this.type = 'OrthographicCamera';\n    this.left = left;\n    this.right = right;\n    this.top = top;\n    this.bottom = bottom;\n    this.near = near;\n    this.far = far;\n    this.updateProjectionMatrix();\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.left = source.left;\n    this.right = source.right;\n    this.top = source.top;\n    this.bottom = source.bottom;\n    this.near = source.near;\n    this.far = source.far;\n    this.zoom = source.zoom;\n    this.view = source.view === null ? null : Object.assign({}, source.view);\n    return this;\n  }\n  setViewOffset(fullWidth: number, fullHeight: number, x: number, y: number, width: number, height: number): void {\n    this.view = {\n      fullWidth: fullWidth,\n      fullHeight: fullHeight,\n      offsetX: x,\n      offsetY: y,\n      width: width,\n      height: height\n    };\n    this.updateProjectionMatrix();\n  }\n  clearViewOffset(): void {\n    this.view = null;\n    this.updateProjectionMatrix();\n  }\n  updateProjectionMatrix(): void {\n    const dx = (this.right - this.left) / (2 * this.zoom);\n    const dy = (this.top - this.bottom) / (2 * this.zoom);\n    const cx = (this.right + this.left) / 2;\n    const cy = (this.top + this.bottom) / 2;\n    let left = cx - dx;\n    let right = cx + dx;\n    let top = cy + dy;\n    let bottom = cy - dy;\n    if (this.view !== null) {\n      const zoomW = this.zoom / (this.view.width / this.view.fullWidth);\n      const zoomH = this.zoom / (this.view.height / this.view.fullHeight);\n      const scaleW = (this.right - this.left) / this.view.width;\n      const scaleH = (this.top - this.bottom) / this.view.height;\n      left += scaleW * (this.view.offsetX / zoomW);\n      right = left + scaleW * (this.view.width / zoomW);\n      top -= scaleH * (this.view.offsetY / zoomH);\n      bottom = top - scaleH * (this.view.height / zoomH);\n    }\n    this.projectionMatrix.makeOrthographic(left, right, top, bottom, this.near, this.far);\n  }\n  toJSON(meta: any): any {\n    const data = super.toJSON(meta);\n    data.object.zoom = this.zoom;\n    data.object.left = this.left;\n    data.object.right = this.right;\n    data.object.top = this.top;\n    data.object.bottom = this.bottom;\n    data.object.near = this.near;\n    data.object.far = this.far;\n    if (this.view !== null) data.object.view = Object.assign({}, this.view);\n    return data;\n  }\n}\n","import { Camera } from \"./Camera\";\nimport { _Math } from \"../math/Math\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */\nexport class PerspectiveCamera extends Camera {\n  fov: number;\n  zoom: number = 1;\n  near: number;\n  far: number;\n  focus: number = 10;\n  aspect: number;\n  view: any = null;\n  filmGauge: number = 35; // width of the film (default in millimeters)\n  filmOffset: number = 0; // horizontal film offset (same unit as gauge)\n  readonly isPerspectiveCamera: boolean = true;\n  constructor(fov: number = 50, aspect: number = 1, near: number = 0.1, far: number = 2000) {\n    super();\n    this.type = 'PerspectiveCamera';\n    this.fov = fov;\n    this.near = near;\n    this.far = far;\n    this.aspect = aspect;\n    this.updateProjectionMatrix();\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.fov = source.fov;\n    this.zoom = source.zoom;\n    this.near = source.near;\n    this.far = source.far;\n    this.focus = source.focus;\n    this.aspect = source.aspect;\n    this.view = source.view === null ? null : Object.assign({}, source.view);\n    this.filmGauge = source.filmGauge;\n    this.filmOffset = source.filmOffset;\n    return this;\n  }\n  setLens(focalLength: number, filmGauge: number): void {\n    console.warn(\"THREE.PerspectiveCamera.setLens is deprecated. \" +\n        \"Use .setFocalLength and .filmGauge for a photographic setup.\");\n    if (filmGauge !== undefined) this.filmGauge = filmGauge;\n    this.setFocalLength(focalLength);\n  }\n  /**\n   * Sets the FOV by focal length in respect to the current .filmGauge.\n   *\n   * The default film gauge is 35, so that the focal length can be specified for\n   * a 35mm (full frame) camera.\n   *\n   * Values for focal length and film gauge must have the same unit.\n   */\n  setFocalLength(focalLength: number): void {\n    // see http://www.bobatkins.com/photography/technical/field_of_view.html\n    const vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n    this.fov = _Math.RAD2DEG * 2 * Math.atan(vExtentSlope);\n    this.updateProjectionMatrix();\n  }\n  /**\n   * Calculates the focal length from the current .fov and .filmGauge.\n   */\n  getFocalLength(): number {\n    const vExtentSlope = Math.tan(_Math.DEG2RAD * 0.5 * this.fov);\n    return 0.5 * this.getFilmHeight() / vExtentSlope;\n  }\n  getEffectiveFOV(): number {\n    return _Math.RAD2DEG * 2 * Math.atan(\n        Math.tan(_Math.DEG2RAD * 0.5 * this.fov) / this.zoom);\n  }\n  getFilmWidth(): number {\n    // film not completely covered in portrait format (aspect < 1)\n    return this.filmGauge * Math.min(this.aspect, 1);\n  }\n  getFilmHeight(): number {\n    // film not completely covered in landscape format (aspect > 1)\n    return this.filmGauge / Math.max(this.aspect, 1);\n  }\n  /**\n   * Sets an offset in a larger frustum. This is useful for multi-window or\n   * multi-monitor/multi-machine setups.\n   *\n   * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n   * the monitors are in grid like this\n   *\n   *   +---+---+---+\n   *   | A | B | C |\n   *   +---+---+---+\n   *   | D | E | F |\n   *   +---+---+---+\n   *\n   * then for each monitor you would call it like this\n   *\n   *   let w = 1920;\n   *   let h = 1080;\n   *   let fullWidth = w * 3;\n   *   let fullHeight = h * 2;\n   *\n   *   --A--\n   *   camera.setOffset(fullWidth, fullHeight, w * 0, h * 0, w, h);\n   *   --B--\n   *   camera.setOffset(fullWidth, fullHeight, w * 1, h * 0, w, h);\n   *   --C--\n   *   camera.setOffset(fullWidth, fullHeight, w * 2, h * 0, w, h);\n   *   --D--\n   *   camera.setOffset(fullWidth, fullHeight, w * 0, h * 1, w, h);\n   *   --E--\n   *   camera.setOffset(fullWidth, fullHeight, w * 1, h * 1, w, h);\n   *   --F--\n   *   camera.setOffset(fullWidth, fullHeight, w * 2, h * 1, w, h);\n   *\n   *   Note there is no reason monitors have to be the same size or in a grid.\n   */\n  setViewOffset(fullWidth: number, fullHeight: number, x: number, y: number, width: number, height: number): void {\n    this.aspect = fullWidth / fullHeight;\n    this.view = {\n      fullWidth: fullWidth,\n      fullHeight: fullHeight,\n      offsetX: x,\n      offsetY: y,\n      width: width,\n      height: height\n    };\n    this.updateProjectionMatrix();\n  }\n  clearViewOffset(): void {\n    this.view = null;\n    this.updateProjectionMatrix();\n  }\n  updateProjectionMatrix(): void {\n    const near = this.near;\n    let top = near * Math.tan(\n          _Math.DEG2RAD * 0.5 * this.fov) / this.zoom;\n    let height = 2 * top;\n    let width = this.aspect * height;\n    let left = - 0.5 * width;\n    const view = this.view;\n    if (view !== null) {\n      const fullWidth = view.fullWidth,\n        fullHeight = view.fullHeight;\n      left += view.offsetX * width / fullWidth;\n      top -= view.offsetY * height / fullHeight;\n      width *= view.width / fullWidth;\n      height *= view.height / fullHeight;\n    }\n    const skew = this.filmOffset;\n    if (skew !== 0) left += near * skew / this.getFilmWidth();\n    this.projectionMatrix.makeFrustum(\n        left, left + width, top - height, top, near, this.far);\n  }\n  toJSON(meta: any): any {\n    const data = super.toJSON(meta);\n    data.object.fov = this.fov;\n    data.object.zoom = this.zoom;\n    data.object.near = this.near;\n    data.object.far = this.far;\n    data.object.focus = this.focus;\n    data.object.aspect = this.aspect;\n    if (this.view !== null) data.object.view = Object.assign({}, this.view);\n    data.object.filmGauge = this.filmGauge;\n    data.object.filmOffset = this.filmOffset;\n    return data;\n  }\n}\n","import { Object3D } from \"../core/Object3D\";\nimport { Color } from \"../math/Color\";\nimport { LightShadow } from \"./LightShadow\";\nimport { OrthographicCamera } from \"../cameras/OrthographicCamera\";\nimport { PerspectiveCamera } from \"../cameras/PerspectiveCamera\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\nexport class Light extends Object3D {\n  color: any;\n  intensity: any;\n  groundColor: any;\n  distance: any;\n  angle: any;\n  decay: any;\n  penumbra: any;\n  shadow: LightShadow;\n  target: any;\n  readonly isLight: boolean = true;\n  constructor(color: number, intensity: number = 1) {\n    super();\n    this.type = 'Light';\n    this.color = new Color(color);\n    this.intensity = intensity !== undefined ? intensity : 1;\n    this.receiveShadow = undefined;\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.color.copy(source.color);\n    this.intensity = source.intensity;\n    return this;\n  }\n  toJSON(meta: any): any {\n    let data = super.toJSON(meta);\n    data.object.color = this.color.getHex();\n    data.object.intensity = this.intensity;\n    if (this.groundColor !== undefined) data.object.groundColor = this.groundColor.getHex();\n    if (this.distance !== undefined) data.object.distance = this.distance;\n    if (this.angle !== undefined) data.object.angle = this.angle;\n    if (this.decay !== undefined) data.object.decay = this.decay;\n    if (this.penumbra !== undefined) data.object.penumbra = this.penumbra;\n    if (this.shadow !== undefined) data.object.shadow = this.shadow.toJSON();\n    return data;\n  }\n  set onlyShadow(value: boolean) {\n    console.warn(\"THREE.Light: .onlyShadow has been removed.\");\n  }\n  set shadowCameraFov(value: number) {\n    console.warn(\"THREE.Light: .shadowCameraFov is now .shadow.camera.fov.\");\n    if (this.shadow.camera instanceof PerspectiveCamera) {\n      this.shadow.camera.fov = value;\n    }\n  }\n  set shadowCameraLeft(value: number) {\n    console.warn(\"THREE.Light: .shadowCameraLeft is now .shadow.camera.left.\");\n    if (this.shadow.camera instanceof OrthographicCamera) {\n      this.shadow.camera.left = value;\n    }\n  }\n  set shadowCameraRight(value: number) {\n    console.warn(\"THREE.Light: .shadowCameraRight is now .shadow.camera.right.\");\n    if (this.shadow.camera instanceof OrthographicCamera) {\n      this.shadow.camera.right = value;\n    }\n  }\n  set shadowCameraTop(value: number) {\n    console.warn(\"THREE.Light: .shadowCameraTop is now .shadow.camera.top.\");\n    if (this.shadow.camera instanceof OrthographicCamera) {\n      this.shadow.camera.top = value;\n    }\n  }\n  set shadowCameraBottom(value: number) {\n    console.warn(\"THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.\");\n    if (this.shadow.camera instanceof OrthographicCamera) {\n      this.shadow.camera.bottom = value;\n    }\n  }\n  set shadowCameraNear(value: number) {\n    console.warn(\"THREE.Light: .shadowCameraNear is now .shadow.camera.near.\");\n    if (this.shadow.camera instanceof OrthographicCamera) {\n      this.shadow.camera.near = value;\n    }\n  }\n  set shadowCameraFar(value: number) {\n    console.warn(\"THREE.Light: .shadowCameraFar is now .shadow.camera.far.\");\n    if (this.shadow.camera instanceof OrthographicCamera) {\n      this.shadow.camera.far = value;\n    }\n  }\n  set shadowCameraVisible(value: boolean) {\n    console.warn(\"THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper(light.shadow.camera) instead.\");\n  }\n  set shadowBias(value: number) {\n    console.warn(\"THREE.Light: .shadowBias is now .shadow.bias.\");\n    this.shadow.bias = value;\n  }\n  set shadowDarkness(value: number) {\n    console.warn(\"THREE.Light: .shadowDarkness has been removed.\");\n  }\n  set shadowMapWidth(value: number) {\n    console.warn(\"THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.\");\n    this.shadow.mapSize.width = value;\n  }\n  set shadowMapHeight(value: number) {\n    console.warn(\"THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.\");\n    this.shadow.mapSize.height = value;\n  }\n}\n","import { Matrix4 } from \"../math/Matrix4\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Camera } from \"../cameras/Camera\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class LightShadow {\n  camera: Camera;\n  bias: number = 0;\n  radius: number = 1;\n  mapSize: Vector2 = new Vector2(512, 512);\n  map: any = null;\n  matrix: Matrix4 = new Matrix4();\n  constructor(camera?: Camera) {\n    this.camera = camera;\n  }\n  copy(source: this): this {\n    this.camera = source.camera.clone();\n    this.bias = source.bias;\n    this.radius = source.radius;\n    this.mapSize.copy(source.mapSize);\n    return this;\n  }\n  clone(): this {\n    return new (this.constructor as any)().copy(this);\n  }\n  toJSON(): any {\n    let object: any = {};\n    if (this.bias !== 0) object.bias = this.bias;\n    if (this.radius !== 1) object.radius = this.radius;\n    if (this.mapSize.x !== 512 || this.mapSize.y !== 512) object.mapSize = this.mapSize.toArray();\n    object.camera = this.camera.toJSON(false).object;\n    delete object.camera.matrix;\n    return object;\n  }\n}\n","import { Light } from \"./Light\";\nimport { PerspectiveCamera } from \"../cameras/PerspectiveCamera\";\nimport { LightShadow } from \"./LightShadow\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class PointLight extends Light {\n  readonly isPointLight: boolean = true;\n  constructor(color: number, intensity?: number, distance: number = 0, decay: number = 1) {\n    super(color, intensity);\n    this.type = 'PointLight';\n    this.distance = distance;\n    this.decay = decay;  // for physically correct lights, should be 2.\n    this.shadow = new LightShadow(new PerspectiveCamera(90, 1, 0.5, 500));\n  }\n  get power(): number {\n    // intensity = power per solid angle.\n    // ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n    return this.intensity * 4 * Math.PI;\n  }\n  set power(value: number) {\n    // intensity = power per solid angle.\n    // ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n    this.intensity = value / (4 * Math.PI);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.distance = source.distance;\n    this.decay = source.decay;\n    this.shadow = source.shadow.clone();\n    return this;\n  }\n}\n","import { Light } from \"./Light\";\nimport { LightShadow } from \"./LightShadow\";\nimport { _Math } from \"../math/Math\";\nimport { PerspectiveCamera } from \"../cameras/PerspectiveCamera\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class SpotLightShadow extends LightShadow {\n  readonly isSpotLightShadow: boolean = true;\n  constructor() {\n    super(new PerspectiveCamera(50, 1, 0.5, 500));\n  }\n  update(light: Light): void {\n    let fov = _Math.RAD2DEG * 2 * light.angle;\n    let aspect = this.mapSize.width / this.mapSize.height;\n    let far = light.distance || 500;\n    let camera = <PerspectiveCamera> this.camera;\n    if (fov !== camera.fov || aspect !== camera.aspect || far !== camera.far) {\n      camera.fov = fov;\n      camera.aspect = aspect;\n      camera.far = far;\n      camera.updateProjectionMatrix();\n    }\n  }\n}\n","import { Texture } from \"./Texture\";\nimport { TextureMapping, TextureWrapping, TextureEncoding, TextureType, TextureFormat, TextureFilter } from \"../constants\";\n/**\n * @author alteredq / http://alteredqualia.com/\n */\nexport class DataTexture extends Texture {\n  readonly isDataTexture: boolean = true;\n  constructor(data?: any, width?: number, height?: number, format?: TextureFormat, type?: TextureType, mapping?: TextureMapping, wrapS?: TextureWrapping, wrapT?: TextureWrapping, magFilter: TextureFilter = TextureFilter.Nearest, minFilter: TextureFilter = TextureFilter.Nearest, anisotropy?: number, encoding?: TextureEncoding) {\n    super(null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n    this.image = { data: data, width: width, height: height };\n    this.magFilter = magFilter;\n    this.minFilter = minFilter;\n    this.generateMipmaps  = false;\n    this.flipY = false;\n    this.unpackAlignment = 1;\n  }\n}\n","import { Object3D } from \"../core/Object3D\";\nimport { SkinnedMesh } from \"./SkinnedMesh\";\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\nexport class Bone extends Object3D {\n  skin: SkinnedMesh;\n  readonly isBone: boolean = true;\n  constructor(skin?: SkinnedMesh) {\n    super();\n    this.type = 'Bone';\n    this.skin = skin;\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.skin = source.skin;\n    return this;\n  }\n}\n","import { Matrix4 } from \"../math/Matrix4\";\nimport { TextureType, TextureFormat } from \"../constants\";\nimport { DataTexture } from \"../textures/DataTexture\";\nimport { _Math } from \"../math/Math\";\nimport { Bone } from \"./Bone\";\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author michael guerrero / http://realitymeltdown.com\n * @author ikerr / http://verold.com\n */\nexport class Skeleton {\n  useVertexTexture: boolean;\n  identityMatrix: Matrix4 = new Matrix4();\n  bones: Bone[];\n  boneMatrices: Float32Array;\n  boneInverses: Matrix4[];\n  boneTexture: DataTexture;\n  boneTextureWidth: number;\n  boneTextureHeight: number;\n  constructor(bones: Bone[] = [], boneInverses?: Matrix4[], useVertexTexture: boolean = true) {\n    this.useVertexTexture = useVertexTexture;\n    // copy the bone array\n    this.bones = bones.slice(0);\n    // create a bone texture or an array of floats\n    if (this.useVertexTexture) {\n      // layout (1 matrix = 4 pixels)\n      //      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n      //  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n      //       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n      //       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n      //       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n      let size = Math.sqrt(this.bones.length * 4); // 4 pixels needed for 1 matrix\n      size = _Math.nextPowerOfTwo(Math.ceil(size));\n      size = Math.max(size, 4);\n      this.boneTextureWidth = size;\n      this.boneTextureHeight = size;\n      this.boneMatrices = new Float32Array(this.boneTextureWidth * this.boneTextureHeight * 4); // 4 floats per RGBA pixel\n      this.boneTexture = new DataTexture(this.boneMatrices, this.boneTextureWidth, this.boneTextureHeight, TextureFormat.RGBA, TextureType.Float);\n    } else {\n      this.boneMatrices = new Float32Array(16 * this.bones.length);\n    }\n    // use the supplied bone inverses or calculate the inverses\n    if (boneInverses === undefined) {\n      this.calculateInverses();\n    } else {\n      if (this.bones.length === boneInverses.length) {\n        this.boneInverses = boneInverses.slice(0);\n      } else {\n        console.warn('THREE.Skeleton bonInverses is the wrong length.');\n        this.boneInverses = [];\n        for (let b = 0, bl = this.bones.length; b < bl; b ++) {\n          this.boneInverses.push(new Matrix4());\n        }\n      }\n    }\n  }\n  calculateInverses(): void {\n    this.boneInverses = [];\n    for (let b = 0, bl = this.bones.length; b < bl; b ++) {\n      const inverse = new Matrix4();\n      if (this.bones[b]) {\n        inverse.getInverse(this.bones[b].matrixWorld);\n      }\n      this.boneInverses.push(inverse);\n    }\n  }\n  pose(): void {\n    let bone: Bone;\n    // recover the bind-time world matrices\n    for (let b = 0, bl = this.bones.length; b < bl; b ++) {\n      bone = this.bones[b];\n      if (bone) {\n        bone.matrixWorld.getInverse(this.boneInverses[b]);\n      }\n    }\n    // compute the local matrices, positions, rotations and scales\n    for (let b = 0, bl = this.bones.length; b < bl; b ++) {\n      bone = this.bones[b];\n      if (bone) {\n        if ((bone.parent && bone.parent instanceof Bone)) {\n          bone.matrix.getInverse(bone.parent.matrixWorld);\n          bone.matrix.multiply(bone.matrixWorld);\n        } else {\n          bone.matrix.copy(bone.matrixWorld);\n        }\n        bone.matrix.decompose(bone.position, bone.quaternion, bone.scale);\n      }\n    }\n  }\n  private static update_offsetMatrix = new Matrix4();\n  update(): void {\n    const offsetMatrix = Skeleton.update_offsetMatrix;\n    //return function update() {\n      // flatten bone matrices to array\n      for (let b = 0, bl = this.bones.length; b < bl; b ++) {\n        // compute the offset between the current and the original transform\n        const matrix = this.bones[b] ? this.bones[b].matrixWorld : this.identityMatrix;\n        offsetMatrix.multiplyMatrices(matrix, this.boneInverses[b]);\n        offsetMatrix.toArray(this.boneMatrices, b * 16);\n      }\n      if (this.useVertexTexture) {\n        this.boneTexture.needsUpdate = true;\n      }\n    //};\n  }\n  clone(): this {\n    return new (this.constructor as any)(this.bones, this.boneInverses, this.useVertexTexture);\n  }\n}\n","import { Mesh } from \"./Mesh\";\nimport { Vector4 } from \"../math/Vector4\";\nimport { Skeleton } from \"./Skeleton\";\nimport { Bone } from \"./Bone\";\nimport { Matrix4 } from \"../math/Matrix4\";\nimport { Geometry } from \"../core/Geometry\";\nimport { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Material } from \"../materials/Material\";\nimport { MultiMaterial } from \"../materials/MultiMaterial\";\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\nexport class SkinnedMesh extends Mesh {\n  bindMode: string = \"attached\";\n  bindMatrix: Matrix4 = new Matrix4();\n  bindMatrixInverse: Matrix4 = new Matrix4();\n  skeleton: Skeleton;\n  mixer;\n  ikSolver;\n  grantSolver;\n  physics;\n  readonly isSkinnedMesh: boolean = true;\n  constructor(geometry: Geometry | BufferGeometry, material: Material | MultiMaterial, useVertexTexture: boolean = true) {\n    super(geometry, material);\n    this.type = 'SkinnedMesh';\n    // init bones\n    // TODO: remove bone creation as there is no reason (other than\n    // convenience) for THREE.SkinnedMesh to do this.\n    let bones = [];\n    if (this.geometry && this.geometry.bones !== undefined) {\n      let bone, gbone;\n      for (let b = 0, bl = this.geometry.bones.length; b < bl; ++ b) {\n        gbone = this.geometry.bones[ b ];\n        bone = new Bone(this);\n        bones.push(bone);\n        bone.name = gbone.name;\n        bone.position.fromArray(gbone.pos);\n        bone.quaternion.fromArray(gbone.rotq);\n        if (gbone.scl !== undefined) bone.scale.fromArray(gbone.scl);\n      }\n      for (let b = 0, bl = this.geometry.bones.length; b < bl; ++ b) {\n        gbone = this.geometry.bones[ b ];\n        if (gbone.parent !== - 1 && gbone.parent !== null &&\n            bones[ gbone.parent ] !== undefined) {\n          bones[ gbone.parent ].add(bones[ b ]);\n        } else {\n          this.add(bones[ b ]);\n        }\n      }\n    }\n    this.normalizeSkinWeights();\n    this.updateMatrixWorld(true);\n    this.bind(new Skeleton(bones, undefined, useVertexTexture), this.matrixWorld);\n  }\n  bind(skeleton: Skeleton, bindMatrix: Matrix4): void {\n    this.skeleton = skeleton;\n    if (bindMatrix === undefined) {\n      this.updateMatrixWorld(true);\n      this.skeleton.calculateInverses();\n      bindMatrix = this.matrixWorld;\n    }\n    this.bindMatrix.copy(bindMatrix);\n    this.bindMatrixInverse.getInverse(bindMatrix);\n  }\n  pose(): void {\n    this.skeleton.pose();\n  }\n  normalizeSkinWeights(): void {\n    if ((this.geometry && this.geometry instanceof Geometry)) {\n      for (let i = 0; i < this.geometry.skinWeights.length; i ++) {\n        let sw = this.geometry.skinWeights[ i ];\n        let scale = 1.0 / sw.lengthManhattan();\n        if (scale !== Infinity) {\n          sw.multiplyScalar(scale);\n        } else {\n          sw.set(1, 0, 0, 0); // do something reasonable\n        }\n      }\n    } else if ((this.geometry && this.geometry instanceof BufferGeometry)) {\n      let vec = new Vector4();\n      let skinWeight = this.geometry.attributes.skinWeight;\n      for (let i = 0; i < skinWeight.count; i ++) {\n        vec.x = skinWeight.getX(i);\n        vec.y = skinWeight.getY(i);\n        vec.z = skinWeight.getZ(i);\n        vec.w = skinWeight.getW(i);\n        let scale = 1.0 / vec.lengthManhattan();\n        if (scale !== Infinity) {\n          vec.multiplyScalar(scale);\n        } else {\n          vec.set(1, 0, 0, 0); // do something reasonable\n        }\n        skinWeight.setXYZW(i, vec.x, vec.y, vec.z, vec.w);\n      }\n    }\n  }\n  updateMatrixWorld(force: boolean): void {\n    super.updateMatrixWorld(true);\n    if (this.bindMode === \"attached\") {\n      this.bindMatrixInverse.getInverse(this.matrixWorld);\n    } else if (this.bindMode === \"detached\") {\n      this.bindMatrixInverse.getInverse(this.bindMatrix);\n    } else {\n      console.warn('THREE.SkinnedMesh unrecognized bindMode: ' + this.bindMode);\n    }\n  }\n  clone(): this {\n    return new (this.constructor as any)(this.geometry, this.material, this.skeleton.useVertexTexture).copy(this);\n  }\n}\n","/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\nimport { SideMode, TextureFormat, TextureFilter, ShadowMap, DepthPacking } from \"../../constants\";\nimport { CullFace } from \"../../constants\";\nimport { WebGLRenderTarget } from \"../WebGLRenderTarget\";\nimport { ShaderMaterial } from \"../../materials/ShaderMaterial\";\nimport { UniformsUtils } from \"../shaders/UniformsUtils\";\nimport { ShaderLib } from \"../shaders/ShaderLib\";\nimport { MeshDepthMaterial } from \"../../materials/MeshDepthMaterial\";\nimport { Vector4 } from \"../../math/Vector4\";\nimport { Vector3 } from \"../../math/Vector3\";\nimport { Vector2 } from \"../../math/Vector2\";\nimport { Matrix4 } from \"../../math/Matrix4\";\nimport { Frustum } from \"../../math/Frustum\";\nimport { PointLight } from \"../../lights/PointLight\";\nimport { SpotLightShadow } from \"../../lights/SpotLightShadow\";\nimport { MultiMaterial } from \"../../materials/MultiMaterial\";\nimport { BufferGeometry } from \"../../core/BufferGeometry\";\nimport { Geometry } from \"../../core/Geometry\";\nimport { SkinnedMesh } from \"../../objects/SkinnedMesh\";\nimport { Mesh } from \"../../objects/Mesh\";\nimport { Line } from \"../../objects/Line\";\nimport { Points } from \"../../objects/Points\";\nexport class WebGLShadowMap {\n  _renderer: any;\n  _lights: any;\n  _objects: any;\n  capabilities: any;\n  _gl: any;\n  _state: any;\n  _frustum: any;\n  _projScreenMatrix: any;\n  _lightShadows: any;\n  _shadowMapSize: any;\n  _maxShadowMapSize: any;\n  _lookTarget: any;\n  _lightPositionWorld: any;\n  _renderList: any;\n  _MorphingFlag: any;\n  _SkinningFlag: any;\n  _NumberOfMaterialVariants: any;\n  _depthMaterials: any;\n  _distanceMaterials: any;\n  _materialCache: any;\n  cubeDirections: any;\n  cubeUps: any;\n  cube2DViewPorts: any;\n  enabled: any;\n  autoUpdate: any;\n  needsUpdate: any;\n  type: ShadowMap;\n  renderReverseSided: any;\n  renderSingleSided: any;\n  constructor(_renderer: any, _lights: any, _objects: any, capabilities: any) {\n    this._renderer = _renderer;\n    this._lights = _lights;\n    this._objects = _objects;\n    this.capabilities = capabilities;\n    this._gl = _renderer.context;\n    this._state = _renderer.state;\n    this._frustum = new Frustum();\n    this._projScreenMatrix = new Matrix4();\n    this._lightShadows = _lights.shadows;\n    this._shadowMapSize = new Vector2();\n    this._maxShadowMapSize = new Vector2(capabilities.maxTextureSize, capabilities.maxTextureSize);\n    this._lookTarget = new Vector3();\n    this._lightPositionWorld = new Vector3();\n    this._renderList = [];\n    this._MorphingFlag = 1;\n    this._SkinningFlag = 2;\n    this._NumberOfMaterialVariants = (this._MorphingFlag | this._SkinningFlag) + 1;\n    this._depthMaterials = new Array(this._NumberOfMaterialVariants);\n    this._distanceMaterials = new Array(this._NumberOfMaterialVariants);\n    this._materialCache = {};\n    this.cubeDirections = [\n      new Vector3(1, 0, 0), new Vector3(- 1, 0, 0), new Vector3(0, 0, 1),\n      new Vector3(0, 0, - 1), new Vector3(0, 1, 0), new Vector3(0, - 1, 0)\n    ];\n    this.cubeUps = [\n      new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0),\n      new Vector3(0, 1, 0), new Vector3(0, 0, 1),  new Vector3(0, 0, - 1)\n    ];\n    this.cube2DViewPorts = [\n      new Vector4(), new Vector4(), new Vector4(),\n      new Vector4(), new Vector4(), new Vector4()\n    ];\n    // init\n    const depthMaterialTemplate = new MeshDepthMaterial();\n    depthMaterialTemplate.depthPacking = DepthPacking.RGBA;\n    depthMaterialTemplate.clipping = true;\n    const distanceShader = ShaderLib[\"distanceRGBA\"];\n    const distanceUniforms = UniformsUtils.clone(distanceShader.uniforms);\n    for (let i = 0; i !== this._NumberOfMaterialVariants; ++ i) {\n      const useMorphing = (i & this._MorphingFlag) !== 0;\n      const useSkinning = (i & this._SkinningFlag) !== 0;\n      const depthMaterial = depthMaterialTemplate.clone();\n      depthMaterial.morphTargets = useMorphing;\n      depthMaterial.skinning = useSkinning;\n      this._depthMaterials[i] = depthMaterial;\n      const distanceMaterial = new ShaderMaterial({\n        defines: {\n          'USE_SHADOWMAP': ''\n        },\n        uniforms: distanceUniforms,\n        vertexShader: distanceShader.vertexShader,\n        fragmentShader: distanceShader.fragmentShader,\n        morphTargets: useMorphing,\n        skinning: useSkinning,\n        clipping: true\n      });\n      this._distanceMaterials[i] = distanceMaterial;\n    }\n    //\n    this.enabled = false;\n    this.autoUpdate = true;\n    this.needsUpdate = false;\n    this.type = ShadowMap.PCF;\n    this.renderReverseSided = true;\n    this.renderSingleSided = true;\n  }\n  render(scene: any, camera: any) {\n    if (this.enabled === false) return;\n    if (this.autoUpdate === false && this.needsUpdate === false) return;\n    if (this._lightShadows.length === 0) return;\n    // Set GL state for depth map.\n    this._state.clearColor(1, 1, 1, 1);\n    this._state.disable(this._gl.BLEND);\n    this._state.setDepthTest(true);\n    this._state.setScissorTest(false);\n    // render depth map\n    let faceCount, isPointLight;\n    for (let i = 0, il = this._lightShadows.length; i < il; i ++) {\n      const light = this._lightShadows[i];\n      const shadow = light.shadow;\n      if (shadow === undefined) {\n        console.warn('THREE.WebGLShadowMap:', light, 'has no shadow.');\n        continue;\n      }\n      const shadowCamera = shadow.camera;\n      this._shadowMapSize.copy(shadow.mapSize);\n      this._shadowMapSize.min(this._maxShadowMapSize);\n      if ((light && light instanceof PointLight)) {\n        faceCount = 6;\n        isPointLight = true;\n        const vpWidth = this._shadowMapSize.x;\n        const vpHeight = this._shadowMapSize.y;\n        // These viewports map a cube-map onto a 2D texture with the\n        // following orientation:\n        //\n        //  xzXZ\n        //   y Y\n        //\n        // X - Positive x direction\n        // x - Negative x direction\n        // Y - Positive y direction\n        // y - Negative y direction\n        // Z - Positive z direction\n        // z - Negative z direction\n        // positive X\n        this.cube2DViewPorts[0].set(vpWidth * 2, vpHeight, vpWidth, vpHeight);\n        // negative X\n        this.cube2DViewPorts[1].set(0, vpHeight, vpWidth, vpHeight);\n        // positive Z\n        this.cube2DViewPorts[2].set(vpWidth * 3, vpHeight, vpWidth, vpHeight);\n        // negative Z\n        this.cube2DViewPorts[3].set(vpWidth, vpHeight, vpWidth, vpHeight);\n        // positive Y\n        this.cube2DViewPorts[4].set(vpWidth * 3, 0, vpWidth, vpHeight);\n        // negative Y\n        this.cube2DViewPorts[5].set(vpWidth, 0, vpWidth, vpHeight);\n        this._shadowMapSize.x *= 4.0;\n        this._shadowMapSize.y *= 2.0;\n      } else {\n        faceCount = 1;\n        isPointLight = false;\n      }\n      if (shadow.map === null) {\n        const pars = { minFilter: TextureFilter.Nearest, magFilter: TextureFilter.Nearest, format: TextureFormat.RGBA };\n        shadow.map = new WebGLRenderTarget(this._shadowMapSize.x, this._shadowMapSize.y, pars);\n        shadowCamera.updateProjectionMatrix();\n      }\n      if ((shadow && shadow instanceof SpotLightShadow)) {\n        shadow.update(light);\n      }\n      const shadowMap = shadow.map;\n      const shadowMatrix = shadow.matrix;\n      this._lightPositionWorld.setFromMatrixPosition(light.matrixWorld);\n      shadowCamera.position.copy(this._lightPositionWorld);\n      this._renderer.setRenderTarget(shadowMap);\n      this._renderer.clear();\n      // render shadow map for each cube face (if omni-directional) or\n      // run a single pass if not\n      for (let face = 0; face < faceCount; face ++) {\n        if (isPointLight) {\n          this._lookTarget.copy(shadowCamera.position);\n          this._lookTarget.add(this.cubeDirections[face]);\n          shadowCamera.up.copy(this.cubeUps[face]);\n          shadowCamera.lookAt(this._lookTarget);\n          const vpDimensions = this.cube2DViewPorts[face];\n          this._state.viewport(vpDimensions);\n        } else {\n          this._lookTarget.setFromMatrixPosition(light.target.matrixWorld);\n          shadowCamera.lookAt(this._lookTarget);\n        }\n        shadowCamera.updateMatrixWorld();\n        shadowCamera.matrixWorldInverse.getInverse(shadowCamera.matrixWorld);\n        // compute shadow matrix\n        shadowMatrix.set(\n          0.5, 0.0, 0.0, 0.5,\n          0.0, 0.5, 0.0, 0.5,\n          0.0, 0.0, 0.5, 0.5,\n          0.0, 0.0, 0.0, 1.0\n        );\n        shadowMatrix.multiply(shadowCamera.projectionMatrix);\n        shadowMatrix.multiply(shadowCamera.matrixWorldInverse);\n        // update camera matrices and frustum\n        this._projScreenMatrix.multiplyMatrices(shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse);\n        this._frustum.setFromMatrix(this._projScreenMatrix);\n        // set object matrices & frustum culling\n        this._renderList.length = 0;\n        this.projectObject(scene, camera, shadowCamera);\n        // render shadow map\n        // render regular objects\n        for (let j = 0, jl = this._renderList.length; j < jl; j ++) {\n          const object = this._renderList[j];\n          const geometry = this._objects.update(object);\n          const material = object.material;\n          if ((material && material instanceof MultiMaterial)) {\n            const groups = geometry.groups;\n            const materials = material.materials;\n            for (let k = 0, kl = groups.length; k < kl; k ++) {\n              const group = groups[k];\n              const groupMaterial = materials[group.materialIndex];\n              if (groupMaterial.visible === true) {\n                const depthMaterial = this.getDepthMaterial(object, groupMaterial, isPointLight, this._lightPositionWorld);\n                this._renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, group);\n              }\n            }\n          } else {\n            const depthMaterial = this.getDepthMaterial(object, material, isPointLight, this._lightPositionWorld);\n            this._renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, null);\n          }\n        }\n      }\n    }\n    // Restore GL state.\n    const clearColor = this._renderer.getClearColor(),\n    clearAlpha = this._renderer.getClearAlpha();\n    this._renderer.setClearColor(clearColor, clearAlpha);\n    this.needsUpdate = false;\n  }\n  private getDepthMaterial(object: any, material: any, isPointLight: any, lightPositionWorld: any) {\n    const geometry = object.geometry;\n    let result = null;\n    let materialVariants = this._depthMaterials;\n    let customMaterial = object.customDepthMaterial;\n    if (isPointLight) {\n      materialVariants = this._distanceMaterials;\n      customMaterial = object.customDistanceMaterial;\n    }\n    if (! customMaterial) {\n      let useMorphing = false;\n      if (material.morphTargets) {\n        if ((geometry && geometry instanceof BufferGeometry)) {\n          useMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n        } else if ((geometry && geometry instanceof Geometry)) {\n          useMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n        }\n      }\n      const useSkinning = object instanceof SkinnedMesh && material.skinning;\n      let variantIndex = 0;\n      if (useMorphing) variantIndex |= this._MorphingFlag;\n      if (useSkinning) variantIndex |= this._SkinningFlag;\n      result = materialVariants[variantIndex];\n    } else {\n      result = customMaterial;\n    }\n    if (this._renderer.localClippingEnabled &&\n       material.clipShadows === true &&\n        material.clippingPlanes.length !== 0) {\n      // in this case we need a unique material instance reflecting the\n      // appropriate state\n      const keyA = result.uuid, keyB = material.uuid;\n      let materialsForVariant = this._materialCache[keyA];\n      if (materialsForVariant === undefined) {\n        materialsForVariant = {};\n        this._materialCache[keyA] = materialsForVariant;\n      }\n      let cachedMaterial = materialsForVariant[keyB];\n      if (cachedMaterial === undefined) {\n        cachedMaterial = result.clone();\n        materialsForVariant[keyB] = cachedMaterial;\n      }\n      result = cachedMaterial;\n    }\n    result.visible = material.visible;\n    result.wireframe = material.wireframe;\n    let side = material.side;\n    if (this.renderSingleSided && side === SideMode.Double) {\n      side = SideMode.Front;\n    }\n    if (this.renderReverseSided) {\n      if (side === SideMode.Front) side = SideMode.Back;\n      else if (side === SideMode.Back) side = SideMode.Front;\n    }\n    result.side = side;\n    result.clipShadows = material.clipShadows;\n    result.clippingPlanes = material.clippingPlanes;\n    result.wireframeLinewidth = material.wireframeLinewidth;\n    result.linewidth = material.linewidth;\n    if (isPointLight && result.uniforms.lightPos !== undefined) {\n      result.uniforms.lightPos.value.copy(lightPositionWorld);\n    }\n    return result;\n  }\n  private projectObject(object: any, camera: any, shadowCamera: any) {\n    if (object.visible === false) return;\n    const visible = (object.layers.mask & camera.layers.mask) !== 0;\n    if (visible && (object instanceof Mesh || object instanceof Line || object instanceof Points)) {\n      if (object.castShadow && (object.frustumCulled === false || this._frustum.intersectsObject(object) === true)) {\n        const material = object.material;\n        if (material.visible === true) {\n          object.modelViewMatrix.multiplyMatrices(shadowCamera.matrixWorldInverse, object.matrixWorld);\n          this._renderList.push(object);\n        }\n      }\n    }\n    const children = object.children;\n    for (let i = 0, l = children.length; i < l; i ++) {\n      this.projectObject(children[i], camera, shadowCamera);\n    }\n  }\n  get cullFace(): CullFace {\n    return this.renderReverseSided ? CullFace.Front : CullFace.Back;\n  }\n  set cullFace(cullFace: CullFace) {\n    const value = (cullFace !== CullFace.Back);\n    console.warn(\"WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to \" + value + \".\");\n    this.renderReverseSided = value;\n  }\n}\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { BufferAttribute } from \"../core/BufferAttribute\";\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\nexport class BoxBufferGeometry extends BufferGeometry {\n  constructor(width: number, height: number, depth: number, widthSegments?: number, heightSegments?: number, depthSegments?: number) {\n    super();\n    this.type = 'BoxBufferGeometry';\n    this.parameters = {\n      width: width,\n      height: height,\n      depth: depth,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n      depthSegments: depthSegments\n    };\n    const scope = this;\n    // segments\n    widthSegments = Math.floor(widthSegments) || 1;\n    heightSegments = Math.floor(heightSegments) || 1;\n    depthSegments = Math.floor(depthSegments) || 1;\n    // these are used to calculate buffer length\n    const vertexCount = calculateVertexCount(widthSegments, heightSegments, depthSegments);\n    const indexCount = calculateIndexCount(widthSegments, heightSegments, depthSegments);\n    // buffers\n    const indices = new (indexCount > 65535 ? Uint32Array : Uint16Array)(indexCount);\n    const vertices = new Float32Array(vertexCount * 3);\n    const normals = new Float32Array(vertexCount * 3);\n    const uvs = new Float32Array(vertexCount * 2);\n    // offset variables\n    let vertexBufferOffset = 0;\n    let uvBufferOffset = 0;\n    let indexBufferOffset = 0;\n    let numberOfVertices = 0;\n    // group variables\n    let groupStart = 0;\n    // build each side of the box geometry\n    buildPlane('z', 'y', 'x', - 1, - 1, depth, height,   width,  depthSegments, heightSegments, 0); // px\n    buildPlane('z', 'y', 'x',   1, - 1, depth, height, - width,  depthSegments, heightSegments, 1); // nx\n    buildPlane('x', 'z', 'y',   1,   1, width, depth,    height, widthSegments, depthSegments,  2); // py\n    buildPlane('x', 'z', 'y',   1, - 1, width, depth,  - height, widthSegments, depthSegments,  3); // ny\n    buildPlane('x', 'y', 'z',   1, - 1, width, height,   depth,  widthSegments, heightSegments, 4); // pz\n    buildPlane('x', 'y', 'z', - 1, - 1, width, height, - depth,  widthSegments, heightSegments, 5); // nz\n    // build geometry\n    this.setIndex(new BufferAttribute(indices, 1));\n    this.addAttribute('position', new BufferAttribute(vertices, 3));\n    this.addAttribute('normal', new BufferAttribute(normals, 3));\n    this.addAttribute('uv', new BufferAttribute(uvs, 2));\n    // helper functions\n    function calculateVertexCount(w: number, h: number, d: number) {\n      let vertices = 0;\n      // calculate the amount of vertices for each side (plane)\n      vertices += (w + 1) * (h + 1) * 2; // xy\n      vertices += (w + 1) * (d + 1) * 2; // xz\n      vertices += (d + 1) * (h + 1) * 2; // zy\n      return vertices;\n    }\n    function calculateIndexCount(w: number, h: number, d: number) {\n      let index = 0;\n      // calculate the amount of squares for each side\n      index += w * h * 2; // xy\n      index += w * d * 2; // xz\n      index += d * h * 2; // zy\n      return index * 6; // two triangles per square => six vertices per square\n    }\n    function buildPlane(u: string, v: string, w: string, udir: number, vdir: number, width: number, height: number, depth: number, gridX: number, gridY: number, materialIndex: number) {\n      const segmentWidth  = width / gridX;\n      const segmentHeight = height / gridY;\n      const widthHalf = width / 2;\n      const heightHalf = height / 2;\n      const depthHalf = depth / 2;\n      const gridX1 = gridX + 1;\n      const gridY1 = gridY + 1;\n      let vertexCounter = 0;\n      let groupCount = 0;\n      const vector = new Vector3();\n      // generate vertices, normals and uvs\n      for (let iy = 0; iy < gridY1; iy ++) {\n        const y = iy * segmentHeight - heightHalf;\n        for (let ix = 0; ix < gridX1; ix ++) {\n          const x = ix * segmentWidth - widthHalf;\n          // set values to correct vector component\n          vector[u] = x * udir;\n          vector[v] = y * vdir;\n          vector[w] = depthHalf;\n          // now apply vector to vertex buffer\n          vertices[vertexBufferOffset] = vector.x;\n          vertices[vertexBufferOffset + 1] = vector.y;\n          vertices[vertexBufferOffset + 2] = vector.z;\n          // set values to correct vector component\n          vector[u] = 0;\n          vector[v] = 0;\n          vector[w] = depth > 0 ? 1 : - 1;\n          // now apply vector to normal buffer\n          normals[vertexBufferOffset] = vector.x;\n          normals[vertexBufferOffset + 1] = vector.y;\n          normals[vertexBufferOffset + 2] = vector.z;\n          // uvs\n          uvs[uvBufferOffset] = ix / gridX;\n          uvs[uvBufferOffset + 1] = 1 - (iy / gridY);\n          // update offsets and counters\n          vertexBufferOffset += 3;\n          uvBufferOffset += 2;\n          vertexCounter += 1;\n        }\n      }\n      // 1. you need three indices to draw a single face\n      // 2. a single segment consists of two faces\n      // 3. so we need to generate six (2*3) indices per segment\n      for (let iy = 0; iy < gridY; iy ++) {\n        for (let ix = 0; ix < gridX; ix ++) {\n          // indices\n          const a = numberOfVertices + ix + gridX1 * iy;\n          const b = numberOfVertices + ix + gridX1 * (iy + 1);\n          const c = numberOfVertices + (ix + 1) + gridX1 * (iy + 1);\n          const d = numberOfVertices + (ix + 1) + gridX1 * iy;\n          // face one\n          indices[indexBufferOffset] = a;\n          indices[indexBufferOffset + 1] = b;\n          indices[indexBufferOffset + 2] = d;\n          // face two\n          indices[indexBufferOffset + 3] = b;\n          indices[indexBufferOffset + 4] = c;\n          indices[indexBufferOffset + 5] = d;\n          // update offsets and counters\n          indexBufferOffset += 6;\n          groupCount += 6;\n        }\n      }\n      // add a group to the geometry. this will ensure multi material support\n      scope.addGroup(groupStart, groupCount, materialIndex);\n      // calculate new start value for groups\n      groupStart += groupCount;\n      // update total number of vertices\n      numberOfVertices += vertexCounter;\n    }\n  }\n}\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { BufferAttribute } from \"../core/BufferAttribute\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Plane.as\n */\nexport class PlaneBufferGeometry extends BufferGeometry {\n  constructor(width: number, height: number, widthSegments?: number, heightSegments?: number) {\n    super();\n    this.type = 'PlaneBufferGeometry';\n    this.parameters = {\n      width: width,\n      height: height,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments\n    };\n    const width_half = width / 2;\n    const height_half = height / 2;\n    const gridX = Math.floor(widthSegments) || 1;\n    const gridY = Math.floor(heightSegments) || 1;\n    const gridX1 = gridX + 1;\n    const gridY1 = gridY + 1;\n    const segment_width = width / gridX;\n    const segment_height = height / gridY;\n    const vertices = new Float32Array(gridX1 * gridY1 * 3);\n    const normals = new Float32Array(gridX1 * gridY1 * 3);\n    const uvs = new Float32Array(gridX1 * gridY1 * 2);\n    let offset = 0;\n    let offset2 = 0;\n    for (let iy = 0; iy < gridY1; iy ++) {\n      const y = iy * segment_height - height_half;\n      for (let ix = 0; ix < gridX1; ix ++) {\n        const x = ix * segment_width - width_half;\n        vertices[offset] = x;\n        vertices[offset + 1] = - y;\n        normals[offset + 2] = 1;\n        uvs[offset2] = ix / gridX;\n        uvs[offset2 + 1] = 1 - (iy / gridY);\n        offset += 3;\n        offset2 += 2;\n      }\n    }\n    offset = 0;\n    const indices = new ((vertices.length / 3) > 65535 ? Uint32Array : Uint16Array)(gridX * gridY * 6);\n    for (let iy = 0; iy < gridY; iy ++) {\n      for (let ix = 0; ix < gridX; ix ++) {\n        const a = ix + gridX1 * iy;\n        const b = ix + gridX1 * (iy + 1);\n        const c = (ix + 1) + gridX1 * (iy + 1);\n        const d = (ix + 1) + gridX1 * iy;\n        indices[offset] = a;\n        indices[offset + 1] = b;\n        indices[offset + 2] = d;\n        indices[offset + 3] = b;\n        indices[offset + 4] = c;\n        indices[offset + 5] = d;\n        offset += 6;\n      }\n    }\n    this.setIndex(new BufferAttribute(indices, 1));\n    this.addAttribute('position', new BufferAttribute(vertices, 3));\n    this.addAttribute('normal', new BufferAttribute(normals, 3));\n    this.addAttribute('uv', new BufferAttribute(uvs, 2));\n  }\n}\n","import { Material, MaterialParameters } from \"./Material\";\nimport { BlendingOperation } from \"../constants\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Color } from \"../math/Color\";\nimport { Texture } from \"../textures/Texture\";\nimport { CubeTexture } from \"../textures/CubeTexture\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture(<Image>),\n *\n *  lightMap: new THREE.Texture(<Image>),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture(<Image>),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture(<Image>),\n *\n *  bumpMap: new THREE.Texture(<Image>),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture(<Image>),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture(<Image>),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture(<Image>),\n *\n *  alphaMap: new THREE.Texture(<Image>),\n *\n *  envMap: new THREE.TextureCube([posx, negx, posy, negy, posz, negz]),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\nexport interface MeshPhongMaterialParameters extends MaterialParameters {\n  color?: number;\n  specular?: number;\n  shininess?: number;\n  opacity?: number;\n\n  map?: Texture;\n\n  lightMap?: Texture;\n  lightMapIntensity?: number;\n\n  aoMap?: Texture;\n  aoMapIntensity?: number;\n\n  emissive?: number;\n  emissiveIntensity?: number;\n  emissiveMap?: Texture;\n\n  bumpMap?: Texture;\n  bumpScale?: number;\n\n  normalMap?: Texture;\n  normalScale?: Vector2;\n\n  displacementMap?: Texture;\n  displacementScale?: number;\n  displacementBias?: number;\n\n  specularMap?: Texture;\n\n  alphaMap?: Texture;\n\n  envMap?: CubeTexture;\n  combine?: BlendingOperation; // THREE.Multiply,\n  reflectivity?: number;\n  refractionRatio?: number;\n\n  wireframe?: boolean;\n  wireframeLinewidth?: number;\n\n  skinning?: boolean;\n  morphTargets?: boolean;\n  morphNormals?: boolean;\n}\nexport class MeshPhongMaterial extends Material {\n  lightMapIntensity: any;\n  aoMap: any;\n  aoMapIntensity: any;\n  emissiveIntensity: any;\n  combine: BlendingOperation;\n  refractionRatio: any;\n  morphNormals: any;\n  readonly isMeshPhongMaterial: boolean = true;\n  constructor(parameters?: MeshPhongMaterialParameters) {\n    super();\n    this.type = 'MeshPhongMaterial';\n    this.color = new Color(0xffffff); // diffuse\n    this.specular = new Color(0x111111);\n    this.shininess = 30;\n    this.map = null;\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n    this.bumpMap = null;\n    this.bumpScale = 1;\n    this.normalMap = null;\n    this.normalScale = new Vector2(1, 1);\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n    this.specularMap = null;\n    this.alphaMap = null;\n    this.envMap = null;\n    this.combine = BlendingOperation.Multiply;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n    this.setValues(parameters);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.color.copy(source.color);\n    this.specular.copy(source.specular);\n    this.shininess = source.shininess;\n    this.map = source.map;\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n    this.normalMap = source.normalMap;\n    this.normalScale.copy(source.normalScale);\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n    this.specularMap = source.specularMap;\n    this.alphaMap = source.alphaMap;\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n    return this;\n  }\n  get metal() {\n    console.warn(\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.\");\n    return false;\n  }\n  set metal(value) {\n    console.warn(\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead\");\n  }\n}\n","import { Material, MaterialParameters } from \"./Material\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Color } from \"../math/Color\";\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture(<Image>),\n *\n *  lightMap: new THREE.Texture(<Image>),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture(<Image>),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture(<Image>),\n *\n *  bumpMap: new THREE.Texture(<Image>),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture(<Image>),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture(<Image>),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture(<Image>),\n *\n *  metalnessMap: new THREE.Texture(<Image>),\n *\n *  alphaMap: new THREE.Texture(<Image>),\n *\n *  envMap: new THREE.CubeTexture([posx, negx, posy, negy, posz, negz]),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\nexport interface MeshStandardMaterialParameters extends MaterialParameters {\n}\nexport class MeshStandardMaterial extends Material {\n  defines: any;\n  lightMapIntensity: any;\n  aoMap: any;\n  aoMapIntensity: any;\n  emissiveIntensity: any;\n  envMapIntensity: any;\n  refractionRatio: any;\n  morphNormals: any;\n  readonly isMeshStandardMaterial: boolean = true;\n  constructor(parameters?: MeshStandardMaterialParameters) {\n    super();\n    this.defines = { 'STANDARD': '' };\n    this.type = 'MeshStandardMaterial';\n    this.color = new Color(0xffffff); // diffuse\n    this.roughness = 0.5;\n    this.metalness = 0.5;\n    this.map = null;\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n    this.bumpMap = null;\n    this.bumpScale = 1;\n    this.normalMap = null;\n    this.normalScale = new Vector2(1, 1);\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n    this.roughnessMap = null;\n    this.metalnessMap = null;\n    this.alphaMap = null;\n    this.envMap = null;\n    this.envMapIntensity = 1.0;\n    this.refractionRatio = 0.98;\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n    this.setValues(parameters);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.defines = { 'STANDARD': '' };\n    this.color.copy(source.color);\n    this.roughness = source.roughness;\n    this.metalness = source.metalness;\n    this.map = source.map;\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n    this.normalMap = source.normalMap;\n    this.normalScale.copy(source.normalScale);\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n    this.roughnessMap = source.roughnessMap;\n    this.metalnessMap = source.metalnessMap;\n    this.alphaMap = source.alphaMap;\n    this.envMap = source.envMap;\n    this.envMapIntensity = source.envMapIntensity;\n    this.refractionRatio = source.refractionRatio;\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n    return this;\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture(<Image>),\n *\n *  lightMap: new THREE.Texture(<Image>),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture(<Image>),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture(<Image>),\n *\n *  specularMap: new THREE.Texture(<Image>),\n *\n *  alphaMap: new THREE.Texture(<Image>),\n *\n *  envMap: new THREE.TextureCube([posx, negx, posy, negy, posz, negz]),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\nimport { Material, MaterialParameters } from \"./Material\";\nimport { BlendingOperation } from \"../constants\";\nimport { Color } from \"../math/Color\";\nimport { Texture } from \"../textures/Texture\";\nexport interface MeshLambertMaterialParameters extends MaterialParameters {\n  color?: Color | number | string;\n  opacity?: number;\n  wireframe?: boolean;\n  transparent?: boolean;\n  map?: Texture;\n  side?: number;\n  aoMap?: any;\n  aoMapIntensity?: number;\n  emissiveIntensity?: number;\n  combine?: BlendingOperation;\n  refractionRatio?: number;\n  morphNormals?: boolean;\n  emissive?: any;\n}\nexport class MeshLambertMaterial extends Material {\n  lightMapIntensity: any;\n  aoMap: any;\n  aoMapIntensity: any;\n  emissiveIntensity: any;\n  combine: BlendingOperation;\n  refractionRatio: any;\n  morphNormals: any;\n  readonly isMeshLambertMaterial: boolean = true;\n  constructor(parameters?: MeshLambertMaterialParameters) {\n    super();\n    this.type = 'MeshLambertMaterial';\n    this.color = new Color(0xffffff); // diffuse\n    this.map = null;\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n    this.specularMap = null;\n    this.alphaMap = null;\n    this.envMap = null;\n    this.combine = BlendingOperation.Multiply;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n    this.setValues(parameters);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.color.copy(source.color);\n    this.map = source.map;\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n    this.specularMap = source.specularMap;\n    this.alphaMap = source.alphaMap;\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n    return this;\n  }\n}\n","import { MeshStandardMaterial, MeshStandardMaterialParameters } from \"./MeshStandardMaterial\";\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  reflectivity: <float>\n * }\n */\nexport interface MeshPhysicalMaterialParameters extends MeshStandardMaterialParameters {\n}\nexport class MeshPhysicalMaterial extends MeshStandardMaterial {\n  clearCoat: any;\n  clearCoatRoughness: any;\n  readonly isMeshPhysicalMaterial: boolean = true;\n  constructor(parameters?: MeshPhysicalMaterialParameters) {\n    super(parameters);\n    this.defines = { 'PHYSICAL': '' };\n    this.type = 'MeshPhysicalMaterial';\n    this.reflectivity = 0.5; // maps to F0 = 0.04\n    this.clearCoat = 0.0;\n    this.clearCoatRoughness = 0.0;\n    this.setValues(parameters);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.defines = { 'PHYSICAL': '' };\n    this.reflectivity = source.reflectivity;\n    this.clearCoat = source.clearCoat;\n    this.clearCoatRoughness = source.clearCoatRoughness;\n    return this;\n  };\n}\n","import { Material, MaterialParameters } from \"./Material\";\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\nexport interface MeshNormalMaterialParameters extends MaterialParameters {\n}\nexport class MeshNormalMaterial extends Material {\n  readonly isMeshNormalMaterial: boolean = true;\n  constructor(parameters?: MeshNormalMaterialParameters) {\n    super();\n    this.type = 'MeshNormalMaterial';\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.fog = false;\n    this.lights = false;\n    this.morphTargets = false;\n    this.setValues(parameters);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    return this;\n  };\n}\n","import { ShaderMaterial, ShaderMaterialParameters } from \"./ShaderMaterial\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport interface RawShaderMaterialParameters extends ShaderMaterialParameters {\n}\nexport class RawShaderMaterial extends ShaderMaterial {\n  readonly isRawShaderMaterial: boolean = true;\n  constructor(parameters?: RawShaderMaterialParameters) {\n    super(parameters);\n    this.type = 'RawShaderMaterial';\n  }\n}\n","import { Material, MaterialParameters } from \"./Material\";\nimport { Color } from \"../math/Color\";\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\nexport interface LineDashedMaterialParameters extends MaterialParameters {\n}\nexport class LineDashedMaterial extends Material {\n  linewidth: number;\n  scale: number;\n  dashSize: number;\n  gapSize: number;\n  readonly isLineDashedMaterial: boolean = true;\n  constructor(parameters?: LineDashedMaterialParameters) {\n    super();\n    this.type = 'LineDashedMaterial';\n    this.color = new Color(0xffffff);\n    this.linewidth = 1;\n    this.scale = 1;\n    this.dashSize = 3;\n    this.gapSize = 1;\n    this.lights = false;\n    this.setValues(parameters);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.color.copy(source.color);\n    this.linewidth = source.linewidth;\n    this.scale = source.scale;\n    this.dashSize = source.dashSize;\n    this.gapSize = source.gapSize;\n    return this;\n  };\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class WebGLIndexedBufferRenderer {\n  gl: WebGLRenderingContext;\n  extensions: any;\n  infoRender: any;\n  mode: number;\n  type: number;\n  size: number;\n  constructor(gl: WebGLRenderingContext, extensions: any, infoRender: any) {\n    this.gl = gl;\n    this.extensions = extensions;\n    this.infoRender = infoRender;\n  }\n  setMode(value: number): void {\n    this.mode = value;\n  }\n  setIndex(index): void {\n    if (index.array instanceof Uint32Array && this.extensions.get('OES_element_index_uint')) {\n      this.type = this.gl.UNSIGNED_INT;\n      this.size = 4;\n    } else {\n      this.type = this.gl.UNSIGNED_SHORT;\n      this.size = 2;\n    }\n  }\n  render(start: number, count: number): void {\n    this.gl.drawElements(this.mode, count, this.type, start * this.size);\n    this.infoRender.calls ++;\n    this.infoRender.vertices += count;\n    if (this.mode === this.gl.TRIANGLES) this.infoRender.faces += count / 3;\n  }\n  renderInstances(geometry: any, start: number, count: number): void {\n    const extension = this.extensions.get('ANGLE_instanced_arrays');\n    if (extension === null) {\n      console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n      return;\n    }\n    extension.drawElementsInstancedANGLE(this.mode, count, this.type, start * this.size, geometry.maxInstancedCount);\n    this.infoRender.calls ++;\n    this.infoRender.vertices += count * geometry.maxInstancedCount;\n    if (this.mode === this.gl.TRIANGLES) this.infoRender.faces += geometry.maxInstancedCount * count / 3;\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nimport { WebGLExtensions } from \"./WebGLExtensions\";\nimport { Geometry } from \"../../core/Geometry\";\nimport { BufferGeometry } from \"../../core/BufferGeometry\";\nimport { InterleavedBufferAttribute } from \"../../core/InterleavedBufferAttribute\";\nexport class WebGLBufferRenderer {\n  gl: WebGLRenderingContext;\n  extensions: WebGLExtensions;\n  infoRender: any;\n  mode: number;\n  constructor(gl: WebGLRenderingContext, extensions: WebGLExtensions, infoRender: any) {\n    this.gl = gl;\n    this.extensions = extensions;\n    this.infoRender = infoRender;\n  }\n  setMode(value: number): void {\n    this.mode = value;\n  }\n  render(start: number, count: number): void {\n    const gl: WebGLRenderingContext = this.gl;\n    gl.drawArrays(this.mode, start, count);\n    this.infoRender.calls ++;\n    this.infoRender.vertices += count;\n    if (this.mode === gl.TRIANGLES) this.infoRender.faces += count / 3;\n  }\n  renderInstances(geometry: BufferGeometry): void {\n    const gl: WebGLRenderingContext = this.gl;\n    const extension = this.extensions.get('ANGLE_instanced_arrays');\n    if (extension === null) {\n      console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n      return;\n    }\n    const position = geometry.attributes.position;\n    let count = 0;\n    if ((position && position instanceof InterleavedBufferAttribute)) {\n      count = position.data.count;\n      extension.drawArraysInstancedANGLE(this.mode, 0, count, geometry.maxInstancedCount);\n    } else {\n      count = position.count;\n      extension.drawArraysInstancedANGLE(this.mode, 0, count, geometry.maxInstancedCount);\n    }\n    this.infoRender.calls ++;\n    this.infoRender.vertices += count * geometry.maxInstancedCount;\n    if (this.mode === gl.TRIANGLES) this.infoRender.faces += geometry.maxInstancedCount * count / 3;\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nimport { Color } from \"../../math/Color\";\nimport { Vector3 } from \"../../math/Vector3\";\nimport { Vector2 } from \"../../math/Vector2\";\nimport { Light } from \"../../lights/Light\";\nexport class WebGLLights {\n  lights: any = {};\n  get(light: Light): any {\n    if (this.lights[light.id] !== undefined) {\n      return this.lights[light.id];\n    }\n    let uniforms;\n    switch (light.type) {\n      case 'DirectionalLight':\n        uniforms = {\n          direction: new Vector3(),\n          color: new Color(),\n          shadow: false,\n          shadowBias: 0,\n          shadowRadius: 1,\n          shadowMapSize: new Vector2()\n        };\n        break;\n      case 'SpotLight':\n        uniforms = {\n          position: new Vector3(),\n          direction: new Vector3(),\n          color: new Color(),\n          distance: 0,\n          coneCos: 0,\n          penumbraCos: 0,\n          decay: 0,\n          shadow: false,\n          shadowBias: 0,\n          shadowRadius: 1,\n          shadowMapSize: new Vector2()\n        };\n        break;\n      case 'PointLight':\n        uniforms = {\n          position: new Vector3(),\n          color: new Color(),\n          distance: 0,\n          decay: 0,\n          shadow: false,\n          shadowBias: 0,\n          shadowRadius: 1,\n          shadowMapSize: new Vector2()\n        };\n        break;\n      case 'HemisphereLight':\n        uniforms = {\n          direction: new Vector3(),\n          skyColor: new Color(),\n          groundColor: new Color()\n        };\n        break;\n    }\n    this.lights[light.id] = uniforms;\n    return uniforms;\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nfunction addLineNumbers(code: string): string {\n  const lines = code.split('\\n');\n  for (let i = 0; i < lines.length; i ++) {\n    lines[i] = (i + 1) + ': ' + lines[i];\n  }\n  return lines.join('\\n');\n}\nexport function WebGLShader(gl: WebGLRenderingContext, type: number, code: string): WebGLShader {\n  const shader = gl.createShader(type);\n  gl.shaderSource(shader, code);\n  gl.compileShader(shader);\n  if (gl.getShaderParameter(shader, gl.COMPILE_STATUS) === false) {\n    console.error('THREE.WebGLShader: Shader couldn\\'t compile.');\n  }\n  if (gl.getShaderInfoLog(shader) !== '') {\n    console.warn('THREE.WebGLShader: gl.getShaderInfoLog()', type === gl.VERTEX_SHADER ? 'vertex' : 'fragment', gl.getShaderInfoLog(shader), addLineNumbers(code));\n  }\n  // --enable-privileged-webgl-extension\n  // console.log(type, gl.getExtension('WEBGL_debug_shaders').getTranslatedShaderSource(shader));\n  return shader;\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nimport { WebGLRenderer } from \"../WebGLRenderer\";\nimport { WebGLUniforms } from \"./WebGLUniforms\";\nimport { WebGLShader } from \"./WebGLShader\";\nimport { WebGLExtensions } from \"./WebGLExtensions\";\nimport { ShaderChunk } from \"../shaders/ShaderChunk\";\nimport { BlendingOperation, TextureMapping, ShadowMap, ToneMapping, TextureEncoding } from \"../../constants\";\nimport { ShaderMaterial } from \"../../materials/ShaderMaterial\";\nimport { RawShaderMaterial } from \"../../materials/RawShaderMaterial\";\nlet programIdCount: number = 0;\nfunction getEncodingComponents(encoding: number): string[] {\n  switch (encoding) {\n    case TextureEncoding.Linear:\n      return [ 'Linear', '(value)' ];\n    case TextureEncoding.sRGB:\n      return [ 'sRGB', '(value)' ];\n    case TextureEncoding.RGBE:\n      return [ 'RGBE', '(value)' ];\n    case TextureEncoding.RGBM7:\n      return [ 'RGBM', '(value, 7.0)' ];\n    case TextureEncoding.RGBM16:\n      return [ 'RGBM', '(value, 16.0)' ];\n    case TextureEncoding.RGBD:\n      return [ 'RGBD', '(value, 256.0)' ];\n    case TextureEncoding.Gamma:\n      return [ 'Gamma', '(value, float(GAMMA_FACTOR))' ];\n    default:\n      throw new Error('unsupported encoding: ' + encoding);\n  }\n}\nfunction getTexelDecodingFunction(functionName: string, encoding: TextureEncoding): string {\n  const components = getEncodingComponents(encoding);\n  return \"vec4 \" + functionName + \"(vec4 value) { return \" + components[0] + \"ToLinear\" + components[1] + \"; }\";\n}\nfunction getTexelEncodingFunction(functionName: string, encoding: TextureEncoding): string {\n  const components = getEncodingComponents(encoding);\n  return \"vec4 \" + functionName + \"(vec4 value) { return LinearTo\" + components[0] + components[1] + \"; }\";\n}\nfunction getToneMappingFunction(functionName: string, toneMapping: ToneMapping): string {\n  let toneMappingName: string;\n  switch (toneMapping) {\n    case ToneMapping.Linear:\n      toneMappingName = \"Linear\";\n      break;\n    case ToneMapping.Reinhard:\n      toneMappingName = \"Reinhard\";\n      break;\n    case ToneMapping.Uncharted2:\n      toneMappingName = \"Uncharted2\";\n      break;\n    case ToneMapping.Cineon:\n      toneMappingName = \"OptimizedCineon\";\n      break;\n    default:\n      throw new Error('unsupported toneMapping: ' + toneMapping);\n  }\n  return \"vec3 \" + functionName + \"(vec3 color) { return \" + toneMappingName + \"ToneMapping(color); }\";\n}\nfunction generateExtensions(extensions: any, parameters: any, rendererExtensions: WebGLExtensions): string {\n  extensions = extensions || {};\n  const chunks: string[] = [\n    (extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.normalMap || parameters.flatShading) ? '#extension GL_OES_standard_derivatives : enable' : '',\n    (extensions.fragDepth || parameters.logarithmicDepthBuffer) && rendererExtensions.get('EXT_frag_depth') ? '#extension GL_EXT_frag_depth : enable' : '',\n    (extensions.drawBuffers) && rendererExtensions.get('WEBGL_draw_buffers') ? '#extension GL_EXT_draw_buffers : require' : '',\n    (extensions.shaderTextureLOD || parameters.envMap) && rendererExtensions.get('EXT_shader_texture_lod') ? '#extension GL_EXT_shader_texture_lod : enable' : '',\n  ];\n  return chunks.filter(filterEmptyLine).join('\\n');\n}\nfunction generateDefines(defines: any[]): string {\n  const chunks: string[] = [];\n  for (let name in defines) {\n    const value = defines[name];\n    if (value === false) continue;\n    chunks.push('#define ' + name + ' ' + value);\n  }\n  return chunks.join('\\n');\n}\nfunction fetchAttributeLocations(gl: WebGLRenderingContext, program: WebGLProgram, identifiers?: any): {[key: string]: number} {\n  const attributes = {};\n  const n: number = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n  for (let i = 0; i < n; i ++) {\n    const info: any = gl.getActiveAttrib(program, i);\n    const name: string = info.name;\n    // console.log(\"THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:\", name, i);\n    attributes[name] = gl.getAttribLocation(program, name);\n  }\n  return attributes;\n}\nfunction filterEmptyLine(code: string): boolean {\n  return code !== '';\n}\nfunction replaceLightNums(code: string, parameters: any): string {\n  return code\n    .replace(/NUM_DIR_LIGHTS/g, parameters.numDirLights)\n    .replace(/NUM_SPOT_LIGHTS/g, parameters.numSpotLights)\n    .replace(/NUM_POINT_LIGHTS/g, parameters.numPointLights)\n    .replace(/NUM_HEMI_LIGHTS/g, parameters.numHemiLights);\n}\nfunction parseIncludes(code: string): string {\n  const pattern = /#include +<([\\w\\d.]+)>/g;\n  function replace(match: any, include: string): string {\n    const replace: string = ShaderChunk[include];\n    if (replace === undefined) {\n      throw new Error('Can not resolve #include <' + include + '>');\n    }\n    return parseIncludes(replace);\n  }\n  return code.replace(pattern, replace);\n}\nfunction unrollLoops(code: string): string {\n  const pattern = /for \\(int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n  function replace(match: any, start: string, end: string, snippet: string): string {\n    let unroll = '';\n    for (let i = parseInt(start); i < parseInt(end); i ++) {\n      unroll += snippet.replace(/\\[i \\]/g, '[' + i + ']');\n    }\n    return unroll;\n  }\n  return code.replace(pattern, replace);\n}\nexport class WebGLProgram {\n  gl: WebGLRenderingContext;\n  renderer: WebGLRenderer;\n  id: number;\n  code: string;\n  vertexShader: any; // WebGLShader\n  fragmentShader: any; // WebGLShader\n  program: any; // WebGLProgram\n  cachedUniforms: WebGLUniforms;\n  cachedAttributes: {[key: string]: number};\n  usedTimes: number;\n  diagnostics: any;\n  constructor(renderer: WebGLRenderer, code: string, material: any, parameters: any) {\n    this.renderer = renderer;\n    const gl: WebGLRenderingContext = this.gl = renderer.context;\n    const extensions: any = material.extensions;\n    const defines: any = material.defines;\n    let vertexShader = material.__webglShader.vertexShader;\n    let fragmentShader = material.__webglShader.fragmentShader;\n    let shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n    if (parameters.shadowMapType === ShadowMap.PCF) {\n      shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n    } else if (parameters.shadowMapType === ShadowMap.PCFSoft) {\n      shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n    }\n    let envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n    let envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n    let envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n    if (parameters.envMap) {\n      switch (material.envMap.mapping) {\n        case TextureMapping.CubeReflection:\n        case TextureMapping.CubeRefraction:\n          envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n          break;\n        case TextureMapping.CubeUVReflection:\n        case TextureMapping.CubeUVRefraction:\n          envMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n          break;\n        case TextureMapping.EquirectangularReflection:\n        case TextureMapping.EquirectangularRefraction:\n          envMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n          break;\n        case TextureMapping.SphericalReflection:\n          envMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n          break;\n      }\n      switch (material.envMap.mapping) {\n        case TextureMapping.CubeRefraction:\n        case TextureMapping.EquirectangularRefraction:\n          envMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n          break;\n      }\n      switch (material.combine) {\n        case BlendingOperation.Multiply:\n          envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n          break;\n        case BlendingOperation.Mix:\n          envMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n          break;\n        case BlendingOperation.Add:\n          envMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n          break;\n      }\n    }\n    const gammaFactorDefine: number = (renderer.gammaFactor > 0) ? renderer.gammaFactor : 1.0;\n    // console.log('building new program ');\n    //\n    const customExtensions: string = generateExtensions(extensions, parameters, renderer.extensions);\n    const customDefines: string = generateDefines(defines);\n    //\n    const program: any /*WebGLProgram*/ = gl.createProgram();\n    let prefixVertex: string, prefixFragment: string;\n    if (material instanceof RawShaderMaterial) {\n      prefixVertex = [\n        customDefines,\n        '\\n'\n      ].filter(filterEmptyLine).join('\\n');\n      prefixFragment = [\n        customExtensions,\n        customDefines,\n        '\\n'\n      ].filter(filterEmptyLine).join('\\n');\n    } else {\n      prefixVertex = [\n        'precision ' + parameters.precision + ' float;',\n        'precision ' + parameters.precision + ' int;',\n        '#define SHADER_NAME ' + material.__webglShader.name,\n        customDefines,\n        parameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n        '#define GAMMA_FACTOR ' + gammaFactorDefine,\n        '#define MAX_BONES ' + parameters.maxBones,\n        parameters.map ? '#define USE_MAP' : '',\n        parameters.envMap ? '#define USE_ENVMAP' : '',\n        parameters.envMap ? '#define ' + envMapModeDefine : '',\n        parameters.lightMap ? '#define USE_LIGHTMAP' : '',\n        parameters.aoMap ? '#define USE_AOMAP' : '',\n        parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n        parameters.bumpMap ? '#define USE_BUMPMAP' : '',\n        parameters.normalMap ? '#define USE_NORMALMAP' : '',\n        parameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n        parameters.specularMap ? '#define USE_SPECULARMAP' : '',\n        parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n        parameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n        parameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n        parameters.vertexColors ? '#define USE_COLOR' : '',\n        parameters.flatShading ? '#define FLAT_SHADED' : '',\n        parameters.skinning ? '#define USE_SKINNING' : '',\n        parameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n        parameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n        parameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n        parameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n        parameters.flipSided ? '#define FLIP_SIDED' : '',\n        '#define NUM_CLIPPING_PLANES ' + parameters.numClippingPlanes,\n        parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n        parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n        parameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n        parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n        parameters.logarithmicDepthBuffer && renderer.extensions.get('EXT_frag_depth') ? '#define USE_LOGDEPTHBUF_EXT' : '',\n        'uniform mat4 modelMatrix;',\n        'uniform mat4 modelViewMatrix;',\n        'uniform mat4 projectionMatrix;',\n        'uniform mat4 viewMatrix;',\n        'uniform mat3 normalMatrix;',\n        'uniform vec3 cameraPosition;',\n        'attribute vec3 position;',\n        'attribute vec3 normal;',\n        'attribute vec2 uv;',\n        '#ifdef USE_COLOR',\n        '  attribute vec3 color;',\n        '#endif',\n        '#ifdef USE_MORPHTARGETS',\n        '  attribute vec3 morphTarget0;',\n        '  attribute vec3 morphTarget1;',\n        '  attribute vec3 morphTarget2;',\n        '  attribute vec3 morphTarget3;',\n        '  #ifdef USE_MORPHNORMALS',\n        '    attribute vec3 morphNormal0;',\n        '    attribute vec3 morphNormal1;',\n        '    attribute vec3 morphNormal2;',\n        '    attribute vec3 morphNormal3;',\n        '  #else',\n        '    attribute vec3 morphTarget4;',\n        '    attribute vec3 morphTarget5;',\n        '    attribute vec3 morphTarget6;',\n        '    attribute vec3 morphTarget7;',\n        '  #endif',\n        '#endif',\n        '#ifdef USE_SKINNING',\n        '  attribute vec4 skinIndex;',\n        '  attribute vec4 skinWeight;',\n        '#endif',\n        '\\n'\n      ].filter(filterEmptyLine).join('\\n');\n      prefixFragment = [\n        customExtensions,\n        'precision ' + parameters.precision + ' float;',\n        'precision ' + parameters.precision + ' int;',\n        '#define SHADER_NAME ' + material.__webglShader.name,\n        customDefines,\n        parameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest : '',\n        '#define GAMMA_FACTOR ' + gammaFactorDefine,\n        (parameters.useFog && parameters.fog) ? '#define USE_FOG' : '',\n        (parameters.useFog && parameters.fogExp) ? '#define FOG_EXP2' : '',\n        parameters.map ? '#define USE_MAP' : '',\n        parameters.envMap ? '#define USE_ENVMAP' : '',\n        parameters.envMap ? '#define ' + envMapTypeDefine : '',\n        parameters.envMap ? '#define ' + envMapModeDefine : '',\n        parameters.envMap ? '#define ' + envMapBlendingDefine : '',\n        parameters.lightMap ? '#define USE_LIGHTMAP' : '',\n        parameters.aoMap ? '#define USE_AOMAP' : '',\n        parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n        parameters.bumpMap ? '#define USE_BUMPMAP' : '',\n        parameters.normalMap ? '#define USE_NORMALMAP' : '',\n        parameters.specularMap ? '#define USE_SPECULARMAP' : '',\n        parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n        parameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n        parameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n        parameters.vertexColors ? '#define USE_COLOR' : '',\n        parameters.flatShading ? '#define FLAT_SHADED' : '',\n        parameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n        parameters.flipSided ? '#define FLIP_SIDED' : '',\n        '#define NUM_CLIPPING_PLANES ' + parameters.numClippingPlanes,\n        '#define UNION_CLIPPING_PLANES ' + (parameters.numClippingPlanes - parameters.numClipIntersection),\n        parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n        parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n        parameters.premultipliedAlpha ? \"#define PREMULTIPLIED_ALPHA\" : '',\n        parameters.physicallyCorrectLights ? \"#define PHYSICALLY_CORRECT_LIGHTS\" : '',\n        parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n        parameters.logarithmicDepthBuffer && renderer.extensions.get('EXT_frag_depth') ? '#define USE_LOGDEPTHBUF_EXT' : '',\n        parameters.envMap && renderer.extensions.get('EXT_shader_texture_lod') ? '#define TEXTURE_LOD_EXT' : '',\n        'uniform mat4 viewMatrix;',\n        'uniform vec3 cameraPosition;',\n        (parameters.toneMapping !== ToneMapping.None) ? \"#define TONE_MAPPING\" : '',\n        (parameters.toneMapping !== ToneMapping.None) ? ShaderChunk['tonemapping_pars_fragment'] : '',  // this code is required here because it is used by the toneMapping() function defined below\n        (parameters.toneMapping !== ToneMapping.None) ? getToneMappingFunction(\"toneMapping\", parameters.toneMapping) : '',\n        (parameters.outputEncoding || parameters.mapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding) ? ShaderChunk['encodings_pars_fragment'] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n        parameters.mapEncoding ? getTexelDecodingFunction('mapTexelToLinear', parameters.mapEncoding) : '',\n        parameters.envMapEncoding ? getTexelDecodingFunction('envMapTexelToLinear', parameters.envMapEncoding) : '',\n        parameters.emissiveMapEncoding ? getTexelDecodingFunction('emissiveMapTexelToLinear', parameters.emissiveMapEncoding) : '',\n        parameters.outputEncoding ? getTexelEncodingFunction(\"linearToOutputTexel\", parameters.outputEncoding) : '',\n        parameters.depthPacking ? \"#define DEPTH_PACKING \" + material.depthPacking : '',\n        '\\n'\n      ].filter(filterEmptyLine).join('\\n');\n    }\n    vertexShader = parseIncludes(vertexShader/*, parameters*/);\n    vertexShader = replaceLightNums(vertexShader, parameters);\n    fragmentShader = parseIncludes(fragmentShader/*, parameters*/);\n    fragmentShader = replaceLightNums(fragmentShader, parameters);\n    if (! (material instanceof ShaderMaterial)) {\n      vertexShader = unrollLoops(vertexShader);\n      fragmentShader = unrollLoops(fragmentShader);\n    }\n    const vertexGlsl: string = prefixVertex + vertexShader;\n    const fragmentGlsl: string = prefixFragment + fragmentShader;\n    // console.log('*VERTEX*', vertexGlsl);\n    // console.log('*FRAGMENT*', fragmentGlsl);\n    const glVertexShader: WebGLShader = WebGLShader(gl, gl.VERTEX_SHADER, vertexGlsl);\n    const glFragmentShader: WebGLShader = WebGLShader(gl, gl.FRAGMENT_SHADER, fragmentGlsl);\n    gl.attachShader(program, glVertexShader);\n    gl.attachShader(program, glFragmentShader);\n    // Force a particular attribute to index 0.\n    if (material.index0AttributeName !== undefined) {\n      gl.bindAttribLocation(program, 0, material.index0AttributeName);\n    } else if (parameters.morphTargets === true) {\n      // programs with morphTargets displace position out of attribute 0\n      gl.bindAttribLocation(program, 0, 'position');\n    }\n    gl.linkProgram(program);\n    const programLog: string = gl.getProgramInfoLog(program);\n    const vertexLog: string = gl.getShaderInfoLog(glVertexShader);\n    const fragmentLog: string = gl.getShaderInfoLog(glFragmentShader);\n    let runnable: boolean = true;\n    let haveDiagnostics: boolean = true;\n    // console.log('**VERTEX**', gl.getExtension('WEBGL_debug_shaders').getTranslatedShaderSource(glVertexShader));\n    // console.log('**FRAGMENT**', gl.getExtension('WEBGL_debug_shaders').getTranslatedShaderSource(glFragmentShader));\n    if (gl.getProgramParameter(program, gl.LINK_STATUS) === false) {\n      runnable = false;\n      console.error('THREE.WebGLProgram: shader error: ', gl.getError(), 'gl.VALIDATE_STATUS', gl.getProgramParameter(program, gl.VALIDATE_STATUS), 'gl.getProgramInfoLog', programLog, vertexLog, fragmentLog);\n    } else if (programLog !== '') {\n      console.warn('THREE.WebGLProgram: gl.getProgramInfoLog()', programLog);\n    } else if (vertexLog === '' || fragmentLog === '') {\n      haveDiagnostics = false;\n    }\n    if (haveDiagnostics) {\n      this.diagnostics = {\n        runnable: runnable,\n        material: material,\n        programLog: programLog,\n        vertexShader: {\n          log: vertexLog,\n          prefix: prefixVertex\n        },\n        fragmentShader: {\n          log: fragmentLog,\n          prefix: prefixFragment\n        }\n      };\n    }\n    // clean up\n    gl.deleteShader(glVertexShader);\n    gl.deleteShader(glFragmentShader);\n    //\n    this.id = programIdCount ++;\n    this.code = code;\n    this.usedTimes = 1;\n    this.program = program;\n    this.vertexShader = glVertexShader;\n    this.fragmentShader = glFragmentShader;\n  }\n  // set up caching for uniform locations\n  getUniforms(): WebGLUniforms {\n    const gl: WebGLRenderingContext = this.gl;\n    if (this.cachedUniforms === undefined) {\n      this.cachedUniforms = new WebGLUniforms(gl, this.program, this.renderer);\n    }\n    return this.cachedUniforms;\n  }\n  // set up caching for attribute locations\n  getAttributes(): any /*{[key: string]: number}*/ {\n    const gl: WebGLRenderingContext = this.gl;\n    if (this.cachedAttributes === undefined) {\n      this.cachedAttributes = fetchAttributeLocations(gl, this.program);\n    }\n    return this.cachedAttributes;\n  }\n  // free resource\n  destroy(): void {\n    const gl: WebGLRenderingContext = this.gl;\n    gl.deleteProgram(this.program);\n    this.program = undefined;\n  }\n  // DEPRECATED\n  get uniforms(): WebGLUniforms {\n    console.warn('THREE.WebGLProgram: .uniforms is now .getUniforms().');\n    return this.getUniforms();\n  }\n  get attributes(): {[key: string]: number} {\n    console.warn('THREE.WebGLProgram: .attributes is now .getAttributes().');\n    return this.getAttributes();\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nimport { WebGLRenderer } from \"../WebGLRenderer\";\nimport { WebGLProgram } from \"./WebGLProgram\";\nimport { WebGLRenderTarget } from \"../WebGLRenderTarget\";\nimport { WebGLCapabilities } from \"./WebGLCapabilities\";\nimport { SideMode, ShadingMode, TextureMapping, TextureEncoding } from \"../../constants\";\nimport { Object3D } from \"../../core/Object3D\";\nimport { SkinnedMesh } from \"../../objects/SkinnedMesh\";\nimport { Fog } from \"../../scenes/Fog\";\nimport { FogExp2 } from \"../../scenes/FogExp2\";\nimport { Texture } from \"../../textures/Texture\";\nexport class WebGLPrograms {\n  renderer: WebGLRenderer;\n  capabilities: WebGLCapabilities;\n  programs: WebGLProgram[];\n  constructor(renderer: WebGLRenderer, capabilities: WebGLCapabilities) {\n    this.renderer = renderer;\n    this.capabilities = capabilities;\n    const programs: any = [];\n    // Exposed for resource monitoring & error feedback via renderer.info:\n    this.programs = programs;\n  }\n  getParameters(material: any, lights: any, fog: Fog | FogExp2, nClipPlanes: number, nClipIntersection: number, object: Object3D): any {\n    const capabilities = this.capabilities;\n    function allocateBones(object: Object3D): number {\n      if (capabilities.floatVertexTextures && object && object.skeleton && object.skeleton.useVertexTexture) {\n        return 1024;\n      } else {\n        // default for when object is not specified\n        // (for example when prebuilding shader to be used with multiple objects)\n        //\n        //  - leave some extra space for other uniforms\n        //  - limit here is ANGLE's 254 max uniform vectors\n        //    (up to 54 should be safe)\n        const nVertexUniforms = capabilities.maxVertexUniforms;\n        const nVertexMatrices = Math.floor((nVertexUniforms - 20) / 4);\n        let maxBones = nVertexMatrices;\n        if (object !== undefined && (object && object instanceof SkinnedMesh)) {\n          maxBones = Math.min(object.skeleton.bones.length, maxBones);\n          if (maxBones < object.skeleton.bones.length) {\n            console.warn('WebGLRenderer: too many bones - ' + object.skeleton.bones.length + ', this GPU supports just ' + maxBones + ' (try OpenGL instead of ANGLE)');\n          }\n        }\n        return maxBones;\n      }\n    }\n    function getTextureEncodingFromMap(map: any, gammaOverrideLinear: boolean): number {\n      let encoding;\n      if (! map) {\n        encoding = TextureEncoding.Linear;\n      } else if ((map && map instanceof Texture)) {\n        encoding = map.encoding;\n      } else if ((map && map instanceof WebGLRenderTarget)) {\n        console.warn(\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\");\n        encoding = map.texture.encoding;\n      }\n      // add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.\n      if (encoding === TextureEncoding.Linear && gammaOverrideLinear) {\n        encoding = TextureEncoding.Gamma;\n      }\n      return encoding;\n    }\n    const shaderIDs = {\n      MeshDepthMaterial: 'depth',\n      MeshNormalMaterial: 'normal',\n      MeshBasicMaterial: 'basic',\n      MeshLambertMaterial: 'lambert',\n      MeshPhongMaterial: 'phong',\n      MeshStandardMaterial: 'physical',\n      MeshPhysicalMaterial: 'physical',\n      LineBasicMaterial: 'basic',\n      LineDashedMaterial: 'dashed',\n      PointsMaterial: 'points'\n    };\n    const shaderID = shaderIDs[material.type];\n    // heuristics to create shader parameters according to lights in the scene\n    // (not to blow over maxLights budget)\n    const maxBones: number = allocateBones(object);\n    let precision: string = this.renderer.getPrecision();\n    if (material.precision !== null) {\n      precision = capabilities.getMaxPrecision(material.precision);\n      if (precision !== material.precision) {\n        console.warn('THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.');\n      }\n    }\n    const currentRenderTarget = this.renderer.getCurrentRenderTarget();\n    const parameters = {\n      shaderID: shaderID,\n      precision: precision,\n      supportsVertexTextures: capabilities.vertexTextures,\n      outputEncoding: getTextureEncodingFromMap((! currentRenderTarget) ? null : currentRenderTarget.texture, this.renderer.gammaOutput),\n      map: !! material.map,\n      mapEncoding: getTextureEncodingFromMap(material.map, this.renderer.gammaInput),\n      envMap: !! material.envMap,\n      envMapMode: material.envMap && material.envMap.mapping,\n      envMapEncoding: getTextureEncodingFromMap(material.envMap, this.renderer.gammaInput),\n      envMapCubeUV: (!! material.envMap) && ((material.envMap.mapping === TextureMapping.CubeUVReflection) || (material.envMap.mapping === TextureMapping.CubeUVRefraction)),\n      lightMap: !! material.lightMap,\n      aoMap: !! material.aoMap,\n      emissiveMap: !! material.emissiveMap,\n      emissiveMapEncoding: getTextureEncodingFromMap(material.emissiveMap, this.renderer.gammaInput),\n      bumpMap: !! material.bumpMap,\n      normalMap: !! material.normalMap,\n      displacementMap: !! material.displacementMap,\n      roughnessMap: !! material.roughnessMap,\n      metalnessMap: !! material.metalnessMap,\n      specularMap: !! material.specularMap,\n      alphaMap: !! material.alphaMap,\n      combine: material.combine,\n      vertexColors: material.vertexColors,\n      fog: !! fog,\n      useFog: material.fog,\n      fogExp: (fog && fog instanceof FogExp2),\n      flatShading: material.shading === ShadingMode.Flat,\n      sizeAttenuation: material.sizeAttenuation,\n      logarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,\n      skinning: material.skinning,\n      maxBones: maxBones,\n      useVertexTexture: capabilities.floatVertexTextures && object && object.skeleton && object.skeleton.useVertexTexture,\n      morphTargets: material.morphTargets,\n      morphNormals: material.morphNormals,\n      maxMorphTargets: this.renderer.maxMorphTargets,\n      maxMorphNormals: this.renderer.maxMorphNormals,\n      numDirLights: lights.directional.length,\n      numPointLights: lights.point.length,\n      numSpotLights: lights.spot.length,\n      numHemiLights: lights.hemi.length,\n      numClippingPlanes: nClipPlanes,\n      numClipIntersection: nClipIntersection,\n      shadowMapEnabled: this.renderer.shadowMap.enabled && object.receiveShadow && lights.shadows.length > 0,\n      shadowMapType: this.renderer.shadowMap.type,\n      toneMapping: this.renderer.toneMapping,\n      physicallyCorrectLights: this.renderer.physicallyCorrectLights,\n      premultipliedAlpha: material.premultipliedAlpha,\n      alphaTest: material.alphaTest,\n      doubleSided: material.side === SideMode.Double,\n      flipSided: material.side === SideMode.Back,\n      depthPacking: (material.depthPacking !== undefined) ? material.depthPacking : false\n    };\n    return parameters;\n  }\n  getProgramCode(material: any /*Material*/, parameters: any): string {\n    const parameterNames = [\n      \"precision\", \"supportsVertexTextures\", \"map\", \"mapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\",\n      \"lightMap\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"displacementMap\", \"specularMap\",\n      \"roughnessMap\", \"metalnessMap\",\n      \"alphaMap\", \"combine\", \"vertexColors\", \"fog\", \"useFog\", \"fogExp\",\n      \"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n      \"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n      \"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n      \"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\",\n      \"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n      \"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\"\n    ];\n    const array = [];\n    if (parameters.shaderID) {\n      array.push(parameters.shaderID);\n    } else {\n      array.push(material.fragmentShader);\n      array.push(material.vertexShader);\n    }\n    if (material.defines !== undefined) {\n      for (let name in material.defines) {\n        array.push(name);\n        array.push(material.defines[name]);\n      }\n    }\n    for (let i = 0; i < parameterNames.length; i ++) {\n      array.push(parameters[parameterNames[i]]);\n    }\n    return array.join();\n  }\n  acquireProgram(material: any /*Material*/, parameters: any, code: string): WebGLProgram {\n    let program;\n    // Check if code has been already compiled\n    for (let p = 0, pl = this.programs.length; p < pl; p ++) {\n      const programInfo = this.programs[p];\n      if (programInfo.code === code) {\n        program = programInfo;\n        ++ program.usedTimes;\n        break;\n      }\n    }\n    if (program === undefined) {\n      program = new WebGLProgram(this.renderer, code, material, parameters);\n      this.programs.push(program);\n    }\n    return program;\n  }\n  releaseProgram(program: WebGLProgram): void {\n    if (-- program.usedTimes === 0) {\n      // Remove from unordered set\n      const i = this.programs.indexOf(program);\n      this.programs[i] = this.programs[this.programs.length - 1];\n      this.programs.pop();\n      // Free WebGL resources\n      program.destroy();\n    }\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nimport { Geometry } from \"../../core/Geometry\";\nimport { BufferGeometry } from \"../../core/BufferGeometry\";\nimport { Object3D } from \"../../core/Object3D\";\nimport { InterleavedBufferAttribute } from \"../../core/InterleavedBufferAttribute\";\nexport class WebGLGeometries {\n  gl: WebGLRenderingContext;\n  properties: any;\n  info: any;\n  geometries: { [key: number]: BufferGeometry } = {};\n  constructor(gl: WebGLRenderingContext, properties: any, info: any) {\n    this.gl = gl;\n    this.properties = properties;\n    this.info = info;\n  }\n  get(object: Object3D): BufferGeometry {\n    const gl: WebGLRenderingContext = this.gl;\n    const properties = this.properties;\n    const info = this.info;\n    const geometries = this.geometries;\n    const geometry = object.geometry;\n    if (geometries[geometry.id] !== undefined) {\n      return geometries[geometry.id];\n    }\n    geometry.addEventListener('dispose', onGeometryDispose);\n    function onGeometryDispose(event: any) {\n      const geometry = event.target;\n      const buffergeometry = geometries[geometry.id];\n      if (buffergeometry.index !== null) {\n        deleteAttribute(buffergeometry.index);\n      }\n      deleteAttributes(buffergeometry.attributes);\n      geometry.removeEventListener('dispose', onGeometryDispose);\n      delete geometries[geometry.id];\n      // TODO\n      const property = properties.get(geometry);\n      if (property.wireframe) {\n        deleteAttribute(property.wireframe);\n      }\n      properties.delete(geometry);\n      const bufferproperty = properties.get(buffergeometry);\n      if (bufferproperty.wireframe) {\n        deleteAttribute(bufferproperty.wireframe);\n      }\n      properties.delete(buffergeometry);\n      //\n      info.memory.geometries --;\n    }\n    function getAttributeBuffer(attribute: any) {\n      if (attribute instanceof InterleavedBufferAttribute) {\n        return properties.get(attribute.data).__webglBuffer;\n      }\n      return properties.get(attribute).__webglBuffer;\n    }\n    function deleteAttribute(attribute: any) {\n      const buffer = getAttributeBuffer(attribute);\n      if (buffer !== undefined) {\n        gl.deleteBuffer(buffer);\n        removeAttributeBuffer(attribute);\n      }\n    }\n    function deleteAttributes(attributes: any) {\n      for (let name in attributes) {\n        const attribute = attributes[name];\n        if (attribute === undefined) continue;\n        deleteAttribute(attribute);\n      }\n    }\n    function removeAttributeBuffer(attribute: any) {\n      if (attribute instanceof InterleavedBufferAttribute) {\n        properties.delete(attribute.data);\n      } else {\n        properties.delete(attribute);\n      }\n    }\n    let buffergeometry;\n    if (geometry instanceof BufferGeometry) {\n      buffergeometry = geometry;\n    } else if (geometry instanceof Geometry) {\n      if (geometry._bufferGeometry === undefined) {\n        geometry._bufferGeometry = new BufferGeometry().setFromObject(object);\n      }\n      buffergeometry = geometry._bufferGeometry;\n    }\n    geometries[geometry.id] = buffergeometry;\n    info.memory.geometries ++;\n    return buffergeometry;\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nimport { BufferAttribute } from \"../../core/BufferAttribute\";\nimport { WebGLGeometries } from \"./WebGLGeometries\";\nimport { Object3D } from \"../../core/Object3D\";\nimport { Geometry } from \"../../core/Geometry\";\nimport { BufferGeometry } from \"../../core/BufferGeometry\";\nimport { InterleavedBufferAttribute } from \"../../core/InterleavedBufferAttribute\";\nexport class WebGLObjects {\n  gl: WebGLRenderingContext;\n  properties: any;\n  info: any;\n  geometries: WebGLGeometries;\n  constructor(gl: WebGLRenderingContext, properties: any, info: any) {\n    this.gl = gl;\n    this.properties = properties;\n    this.info = info;\n    this.geometries = new WebGLGeometries(gl, properties, info);\n  }\n  //\n  update(object: Object3D): BufferGeometry {\n    const gl = this.gl;\n    // TODO: Avoid updating twice (when using shadowMap). Maybe add frame counter.\n    const geometry = this.geometries.get(object);\n    if (object.geometry instanceof Geometry) {\n      geometry.updateFromObject(object);\n    }\n    const index = geometry.index;\n    const attributes = geometry.attributes;\n    if (index !== null) {\n      this.updateAttribute(index, gl.ELEMENT_ARRAY_BUFFER);\n    }\n    for (let name in attributes) {\n      const attribute = attributes[name];\n      if (attribute === undefined) continue;\n      this.updateAttribute(attribute, gl.ARRAY_BUFFER);\n    }\n    // morph targets\n    const morphAttributes = geometry.morphAttributes;\n    for (let name in morphAttributes) {\n      const array = morphAttributes[name];\n      for (let i = 0, l = array.length; i < l; i ++) {\n        this.updateAttribute(array[i], gl.ARRAY_BUFFER);\n      }\n    }\n    return geometry;\n  }\n  private updateAttribute(attribute: any, bufferType: any): void {\n    if (!attribute) return;\n    const data = (attribute instanceof InterleavedBufferAttribute) ? attribute.data : attribute;\n    const attributeProperties = this.properties.get(data);\n    if (attributeProperties.__webglBuffer === undefined) {\n      this.createBuffer(attributeProperties, data, bufferType);\n    } else if (attributeProperties.version !== data.version) {\n      this.updateBuffer(attributeProperties, data, bufferType);\n    }\n  }\n  private createBuffer(attributeProperties: any, data: any, bufferType: any): void {\n    const gl = this.gl;\n    attributeProperties.__webglBuffer = gl.createBuffer();\n    gl.bindBuffer(bufferType, attributeProperties.__webglBuffer);\n    const usage = data.dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\n    gl.bufferData(bufferType, data.array, usage);\n    attributeProperties.version = data.version;\n  }\n  private updateBuffer(attributeProperties: any, data: any, bufferType: any): void {\n    const gl = this.gl;\n    gl.bindBuffer(bufferType, attributeProperties.__webglBuffer);\n    if (data.dynamic === false) {\n      gl.bufferData(bufferType, data.array, gl.STATIC_DRAW);\n    } else if (data.updateRange.count === - 1) {\n      // Not using update ranges\n      gl.bufferSubData(bufferType, 0, data.array);\n    } else if (data.updateRange.count === 0) {\n      console.error('THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.');\n    } else {\n      gl.bufferSubData(bufferType, data.updateRange.offset * data.array.BYTES_PER_ELEMENT,\n                data.array.subarray(data.updateRange.offset, data.updateRange.offset + data.updateRange.count));\n      data.updateRange.count = 0; // reset range\n    }\n    attributeProperties.version = data.version;\n  }\n  getAttributeBuffer(attribute: any): any {\n    if (attribute instanceof InterleavedBufferAttribute) {\n      return this.properties.get(attribute.data).__webglBuffer;\n    }\n    return this.properties.get(attribute).__webglBuffer;\n  }\n  getWireframeAttribute(geometry: any): any {\n    const gl = this.gl;\n    const property = this.properties.get(geometry);\n    if (property.wireframe !== undefined) {\n      return property.wireframe;\n    }\n    const indices = [];\n    const index = geometry.index;\n    const attributes = geometry.attributes;\n    const position = attributes.position;\n    // console.time('wireframe');\n    if (index !== null) {\n      //const edges = {};\n      const array = index.array;\n      for (let i = 0, l = array.length; i < l; i += 3) {\n        const a = array[i + 0];\n        const b = array[i + 1];\n        const c = array[i + 2];\n        indices.push(a, b, b, c, c, a);\n      }\n    } else {\n      const array = attributes.position.array;\n      for (let i = 0, l = (array.length / 3) - 1; i < l; i += 3) {\n        const a = i + 0;\n        const b = i + 1;\n        const c = i + 2;\n        indices.push(a, b, b, c, c, a);\n      }\n    }\n    // console.timeEnd('wireframe');\n    const TypeArray = position.count > 65535 ? Uint32Array : Uint16Array;\n    const attribute = new BufferAttribute(new TypeArray(indices), 1);\n    this.updateAttribute(attribute, gl.ELEMENT_ARRAY_BUFFER);\n    property.wireframe = attribute;\n    return attribute;\n  }\n}\n","import { Texture } from \"./Texture\";\nimport { TextureMapping, TextureWrapping, TextureEncoding, TextureType, TextureFormat, TextureFilter } from \"../constants\";\n/**\n * @author Matt DesLauriers / @mattdesl\n * @author atix / arthursilber.de\n */\nexport class DepthTexture extends Texture {\n  readonly isDepthTexture: boolean = true;\n  constructor(width: number, height: number, type: number = TextureType.UnsignedShort, mapping: TextureMapping, wrapS: TextureWrapping, wrapT: TextureWrapping, magFilter: TextureFilter = TextureFilter.Nearest, minFilter: TextureFilter = TextureFilter.Nearest, anisotropy: number, format: TextureFormat = TextureFormat.Depth) {\n    super(null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n    if (format !== TextureFormat.Depth && format !== TextureFormat.DepthStencil) {\n      throw new Error('DepthTexture format must be either THREE.TextureFormat.Depth or THREE.TextureFormat.DepthStencil');\n    }\n    this.image = { width: width, height: height };\n    this.type = type;\n    this.magFilter = magFilter;\n    this.minFilter = minFilter;\n    this.flipY = false;\n    this.generateMipmaps  = false;\n  }\n}\n","import { Texture } from \"./Texture\";\nimport { TextureMapping, TextureWrapping, TextureEncoding, TextureType, TextureFormat, TextureFilter } from \"../constants\";\n/**\n * @author alteredq / http://alteredqualia.com/\n */\nexport class CompressedTexture extends Texture {\n  readonly isCompressedTexture: boolean = true;\n  constructor(mipmaps?: any[], width?: number, height?: number, format?: TextureFormat, type?: TextureType, mapping?: TextureMapping, wrapS?: TextureWrapping, wrapT?: TextureWrapping, magFilter?: TextureFilter, minFilter?: TextureFilter, anisotropy?: number, encoding?: TextureEncoding) {\n    super(null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n    this.image = { width: width, height: height };\n    this.mipmaps = mipmaps;\n    // no flipping for cube textures\n    // (also flipping doesn't work for compressed textures)\n    this.flipY = false;\n    // can't generate mipmaps for compressed textures\n    // mips must be embedded in DDS files\n    this.generateMipmaps = false;\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nimport { TextureFormat, TextureType, TextureWrapping, TextureFilter } from \"../../constants\";\nimport { _Math } from \"../../math/Math\";\nimport { Texture } from \"../../textures/Texture\";\nimport { DepthTexture } from \"../../textures/DepthTexture\";\nimport { DataTexture } from \"../../textures/DataTexture\";\nimport { CompressedTexture } from \"../../textures/CompressedTexture\";\nimport { WebGLRenderTargetCube } from \"../WebGLRenderTargetCube\";\nexport class WebGLTextures {\n  _gl: any;\n  _infoMemory: any;\n  _isWebGL2: any;\n  extensions: any;\n  state: any;\n  properties: any;\n  capabilities: any;\n  paramThreeToGL: any;\n  info: any;\n  constructor(_gl: any, extensions: any, state: any, properties: any, capabilities: any, paramThreeToGL: any, info: any) {\n    this._gl = _gl;\n    this.extensions = extensions;\n    this.state = state;\n    this.properties = properties;\n    this.capabilities = capabilities;\n    this.paramThreeToGL = paramThreeToGL;\n    this.info = info;\n    this._infoMemory = info.memory;\n    this._isWebGL2 = (typeof WebGL2RenderingContext !== 'undefined' && _gl instanceof WebGL2RenderingContext);\n  }\n  //\n  private static clampToMaxSize(image: any, maxSize: any) {\n    if (image.width > maxSize || image.height > maxSize) {\n      // Warning: Scaling through the canvas will only work with images that use\n      // premultiplied alpha.\n      const scale = maxSize / Math.max(image.width, image.height);\n      const canvas = <HTMLCanvasElement> document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n      canvas.width = Math.floor(image.width * scale);\n      canvas.height = Math.floor(image.height * scale);\n      const context = canvas.getContext('2d');\n      context.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height);\n      console.warn('THREE.WebGLRenderer: image is too big (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image);\n      return canvas;\n    }\n    return image;\n  }\n  private static isPowerOfTwo(image: any) {\n    return _Math.isPowerOfTwo(image.width) && _Math.isPowerOfTwo(image.height);\n  }\n  private static makePowerOfTwo(image: any) {\n    if (image instanceof HTMLImageElement || image instanceof HTMLCanvasElement) {\n      const canvas = <HTMLCanvasElement> document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n      canvas.width = _Math.nearestPowerOfTwo(image.width);\n      canvas.height = _Math.nearestPowerOfTwo(image.height);\n      const context = canvas.getContext('2d');\n      context.drawImage(image, 0, 0, canvas.width, canvas.height);\n      console.warn('THREE.WebGLRenderer: image is not power of two (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image);\n      return canvas;\n    }\n    return image;\n  }\n  private static textureNeedsPowerOfTwo(texture: Texture): boolean {\n    if (texture.wrapS !== TextureWrapping.ClampToEdge || texture.wrapT !== TextureWrapping.ClampToEdge) return true;\n    if (texture.minFilter !== TextureFilter.Nearest && texture.minFilter !== TextureFilter.Linear) return true;\n    return false;\n  }\n  // Fallback filters for non-power-of-2 textures\n  private filterFallback(f: number): GLenum {\n    const _gl = this._gl;\n    if (f === TextureFilter.Nearest || f === TextureFilter.NearestMipMapNearest || f === TextureFilter.NearestMipMapLinear) {\n      return _gl.NEAREST;\n    }\n    return _gl.LINEAR;\n  }\n  //\n  private onTextureDispose(event: any): void {\n    const texture = event.target;\n    texture.removeEventListener('dispose', this.onTextureDispose.bind(this));\n    this.deallocateTexture(texture);\n    this._infoMemory.textures --;\n  }\n  private onRenderTargetDispose(event: any): void {\n    const renderTarget = event.target;\n    renderTarget.removeEventListener('dispose', this.onRenderTargetDispose.bind(this));\n    this.deallocateRenderTarget(renderTarget);\n    this._infoMemory.textures --;\n  }\n  //\n  private deallocateTexture(texture: Texture): void {\n    const _gl = this._gl;\n    const textureProperties = this.properties.get(texture);\n    if (texture.image && textureProperties.__image__webglTextureCube) {\n      // cube texture\n      _gl.deleteTexture(textureProperties.__image__webglTextureCube);\n    } else {\n      // 2D texture\n      if (textureProperties.__webglInit === undefined) return;\n      _gl.deleteTexture(textureProperties.__webglTexture);\n    }\n    // remove all webgl this.properties\n    this.properties.delete(texture);\n  }\n  private deallocateRenderTarget(renderTarget: any): void {\n    const _gl = this._gl;\n    const renderTargetProperties = this.properties.get(renderTarget);\n    const textureProperties = this.properties.get(renderTarget.texture);\n    if (! renderTarget) return;\n    if (textureProperties.__webglTexture !== undefined) {\n      _gl.deleteTexture(textureProperties.__webglTexture);\n    }\n    if (renderTarget.depthTexture) {\n      renderTarget.depthTexture.dispose();\n    }\n    if ((renderTarget && renderTarget instanceof WebGLRenderTargetCube)) {\n      for (let i = 0; i < 6; i ++) {\n        _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);\n        if (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer[i]);\n      }\n    } else {\n      _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);\n      if (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer);\n    }\n    this.properties.delete(renderTarget.texture);\n    this.properties.delete(renderTarget);\n  }\n  //\n  setTexture2D(texture: Texture, slot: number): void {\n    const _gl = this._gl;\n    const textureProperties = this.properties.get(texture);\n    if (texture.version > 0 && textureProperties.__version !== texture.version) {\n      const image = texture.image;\n      if (image === undefined) {\n        console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined', texture);\n      } else if (image.complete === false) {\n        console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete', texture);\n      } else {\n        this.uploadTexture(textureProperties, texture, slot);\n        return;\n      }\n    }\n    this.state.activeTexture(_gl.TEXTURE0 + slot);\n    this.state.bindTexture(_gl.TEXTURE_2D, textureProperties.__webglTexture);\n  }\n  setTextureCube(texture: Texture, slot: number): void {\n    const _gl = this._gl;\n    const textureProperties = this.properties.get(texture);\n    if (texture.image.length === 6) {\n      if (texture.version > 0 && textureProperties.__version !== texture.version) {\n        if (! textureProperties.__image__webglTextureCube) {\n          texture.addEventListener('dispose', this.onTextureDispose.bind(this));\n          textureProperties.__image__webglTextureCube = _gl.createTexture();\n          this._infoMemory.textures ++;\n        }\n        this.state.activeTexture(_gl.TEXTURE0 + slot);\n        this.state.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube);\n        _gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, texture.flipY);\n        const isCompressed = (texture && texture instanceof CompressedTexture);\n        const isDataTexture = (texture.image[0] && texture.image[0] instanceof DataTexture);\n        const cubeImage = [];\n        for (let i = 0; i < 6; i ++) {\n          if (! isCompressed && ! isDataTexture) {\n            cubeImage[i] = WebGLTextures.clampToMaxSize(texture.image[i], this.capabilities.maxCubemapSize);\n          } else {\n            cubeImage[i] = isDataTexture ? texture.image[i].image : texture.image[i];\n          }\n        }\n        const image = cubeImage[0],\n        isPowerOfTwoImage = WebGLTextures.isPowerOfTwo(image),\n        glFormat = this.paramThreeToGL(texture.format),\n        glType = this.paramThreeToGL(texture.type);\n        this.setTextureParameters(_gl.TEXTURE_CUBE_MAP, texture, isPowerOfTwoImage);\n        for (let i = 0; i < 6; i ++) {\n          if (! isCompressed) {\n            if (isDataTexture) {\n              this.state.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, cubeImage[i].width, cubeImage[i].height, 0, glFormat, glType, cubeImage[i].data);\n            } else {\n              this.state.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, glFormat, glType, cubeImage[i]);\n            }\n          } else {\n            let mipmap;\n            const mipmaps = cubeImage[i].mipmaps;\n            for (let j = 0, jl = mipmaps.length; j < jl; j ++) {\n              mipmap = mipmaps[j];\n              if (texture.format !== TextureFormat.RGBA && texture.format !== TextureFormat.RGB) {\n                if (this.state.getCompressedTextureFormats().indexOf(glFormat) > - 1) {\n                  this.state.compressedTexImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n                } else {\n                  console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()\");\n                }\n              } else {\n                this.state.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n              }\n            }\n          }\n        }\n        if (texture.generateMipmaps && isPowerOfTwoImage) {\n          _gl.generateMipmap(_gl.TEXTURE_CUBE_MAP);\n        }\n        textureProperties.__version = texture.version;\n        if (texture.onUpdate) texture.onUpdate(texture);\n      } else {\n        this.state.activeTexture(_gl.TEXTURE0 + slot);\n        this.state.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube);\n      }\n    }\n  }\n  setTextureCubeDynamic(texture: Texture, slot: number): void {\n    const _gl = this._gl;\n    this.state.activeTexture(_gl.TEXTURE0 + slot);\n    this.state.bindTexture(_gl.TEXTURE_CUBE_MAP, this.properties.get(texture).__webglTexture);\n  }\n  private setTextureParameters(textureType: GLenum, texture: Texture, isPowerOfTwoImage: boolean): void {\n    const _gl = this._gl;\n    let extension;\n    if (isPowerOfTwoImage) {\n      _gl.texParameteri(textureType, _gl.TEXTURE_WRAP_S, this.paramThreeToGL(texture.wrapS));\n      _gl.texParameteri(textureType, _gl.TEXTURE_WRAP_T, this.paramThreeToGL(texture.wrapT));\n      _gl.texParameteri(textureType, _gl.TEXTURE_MAG_FILTER, this.paramThreeToGL(texture.magFilter));\n      _gl.texParameteri(textureType, _gl.TEXTURE_MIN_FILTER, this.paramThreeToGL(texture.minFilter));\n    } else {\n      _gl.texParameteri(textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE);\n      _gl.texParameteri(textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE);\n      if (texture.wrapS !== TextureWrapping.ClampToEdge || texture.wrapT !== TextureWrapping.ClampToEdge) {\n        console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.TextureWrapping.ClampToEdge.', texture);\n      }\n      _gl.texParameteri(textureType, _gl.TEXTURE_MAG_FILTER, this.filterFallback(texture.magFilter));\n      _gl.texParameteri(textureType, _gl.TEXTURE_MIN_FILTER, this.filterFallback(texture.minFilter));\n      if (texture.minFilter !== TextureFilter.Nearest && texture.minFilter !== TextureFilter.Linear) {\n        console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.TextureFilter.Nearest or THREE.TextureFilter.Linear.', texture);\n      }\n    }\n    extension = this.extensions.get('EXT_texture_filter_anisotropic');\n    if (extension) {\n      if (texture.type === TextureType.Float && this.extensions.get('OES_texture_float_linear') === null) return;\n      if (texture.type === TextureType.HalfFloat && this.extensions.get('OES_texture_half_float_linear') === null) return;\n      if (texture.anisotropy > 1 || this.properties.get(texture).__currentAnisotropy) {\n        _gl.texParameterf(textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(texture.anisotropy, this.capabilities.getMaxAnisotropy()));\n        this.properties.get(texture).__currentAnisotropy = texture.anisotropy;\n      }\n    }\n  }\n  private uploadTexture(textureProperties: any, texture: Texture, slot: number): void {\n    const _gl = this._gl;\n    if (textureProperties.__webglInit === undefined) {\n      textureProperties.__webglInit = true;\n      texture.addEventListener('dispose', this.onTextureDispose.bind(this));\n      textureProperties.__webglTexture = _gl.createTexture();\n      this._infoMemory.textures ++;\n    }\n    this.state.activeTexture(_gl.TEXTURE0 + slot);\n    this.state.bindTexture(_gl.TEXTURE_2D, textureProperties.__webglTexture);\n    _gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, texture.flipY);\n    _gl.pixelStorei(_gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha);\n    _gl.pixelStorei(_gl.UNPACK_ALIGNMENT, texture.unpackAlignment);\n    let image = WebGLTextures.clampToMaxSize(texture.image, this.capabilities.maxTextureSize);\n    if (WebGLTextures.textureNeedsPowerOfTwo(texture) && WebGLTextures.isPowerOfTwo(image) === false) {\n      image = WebGLTextures.makePowerOfTwo(image);\n    }\n    const isPowerOfTwoImage = WebGLTextures.isPowerOfTwo(image),\n    glFormat = this.paramThreeToGL(texture.format),\n    glType = this.paramThreeToGL(texture.type);\n    this.setTextureParameters(_gl.TEXTURE_2D, texture, isPowerOfTwoImage);\n    let mipmap;\n    const mipmaps = texture.mipmaps;\n    if ((texture && texture instanceof DepthTexture)) {\n      // populate depth texture with dummy data\n      let internalFormat = _gl.DEPTH_COMPONENT;\n      if (texture.type === TextureType.Float) {\n        if (!this._isWebGL2) throw new Error('Float Depth Texture only supported in WebGL2.0');\n        internalFormat = _gl.DEPTH_COMPONENT32F;\n      } else if (this._isWebGL2) {\n        // WebGL 2.0 requires signed internalformat for glTexImage2D\n        internalFormat = _gl.DEPTH_COMPONENT16;\n      }\n      // Depth stencil textures need the DEPTH_STENCIL internal format\n      // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n      if (texture.format === TextureFormat.DepthStencil) {\n        internalFormat = _gl.DEPTH_STENCIL;\n      }\n      this.state.texImage2D(_gl.TEXTURE_2D, 0, internalFormat, image.width, image.height, 0, glFormat, glType, null);\n    } else if ((texture && texture instanceof DataTexture)) {\n      // use manually created mipmaps if available\n      // if there are no manual mipmaps\n      // set 0 level mipmap and then use GL to generate other mipmap levels\n      if (mipmaps.length > 0 && isPowerOfTwoImage) {\n        for (let i = 0, il = mipmaps.length; i < il; i ++) {\n          mipmap = mipmaps[i];\n          this.state.texImage2D(_gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n        }\n        texture.generateMipmaps = false;\n      } else {\n        this.state.texImage2D(_gl.TEXTURE_2D, 0, glFormat, image.width, image.height, 0, glFormat, glType, image.data);\n      }\n    } else if ((texture && texture instanceof CompressedTexture)) {\n      for (let i = 0, il = mipmaps.length; i < il; i ++) {\n        mipmap = mipmaps[i];\n        if (texture.format !== TextureFormat.RGBA && texture.format !== TextureFormat.RGB) {\n          if (this.state.getCompressedTextureFormats().indexOf(glFormat) > - 1) {\n            this.state.compressedTexImage2D(_gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n          } else {\n            console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\");\n          }\n        } else {\n          this.state.texImage2D(_gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n        }\n      }\n    } else {\n      // regular Texture (image, video, canvas)\n      // use manually created mipmaps if available\n      // if there are no manual mipmaps\n      // set 0 level mipmap and then use GL to generate other mipmap levels\n      if (mipmaps.length > 0 && isPowerOfTwoImage) {\n        for (let i = 0, il = mipmaps.length; i < il; i ++) {\n          mipmap = mipmaps[i];\n          this.state.texImage2D(_gl.TEXTURE_2D, i, glFormat, glFormat, glType, mipmap);\n        }\n        texture.generateMipmaps = false;\n      } else {\n        this.state.texImage2D(_gl.TEXTURE_2D, 0, glFormat, glFormat, glType, image);\n      }\n    }\n    if (texture.generateMipmaps && isPowerOfTwoImage) _gl.generateMipmap(_gl.TEXTURE_2D);\n    textureProperties.__version = texture.version;\n    if (texture.onUpdate) texture.onUpdate(texture);\n  }\n  // Render targets\n  // Setup storage for target texture and bind it to correct framebuffer\n  private setupFrameBufferTexture(framebuffer: any, renderTarget: any, attachment: GLenum, textureTarget: GLenum): void {\n    const _gl = this._gl;\n    const glFormat = this.paramThreeToGL(renderTarget.texture.format);\n    const glType = this.paramThreeToGL(renderTarget.texture.type);\n    this.state.texImage2D(textureTarget, 0, glFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null);\n    _gl.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n    _gl.framebufferTexture2D(_gl.FRAMEBUFFER, attachment, textureTarget, this.properties.get(renderTarget.texture).__webglTexture, 0);\n    _gl.bindFramebuffer(_gl.FRAMEBUFFER, null);\n  }\n  // Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n  private setupRenderBufferStorage(renderbuffer: any, renderTarget: any): void {\n    const _gl = this._gl;\n    _gl.bindRenderbuffer(_gl.RENDERBUFFER, renderbuffer);\n    if (renderTarget.depthBuffer && ! renderTarget.stencilBuffer) {\n      _gl.renderbufferStorage(_gl.RENDERBUFFER, _gl.DEPTH_COMPONENT16, renderTarget.width, renderTarget.height);\n      _gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer);\n    } else if (renderTarget.depthBuffer && renderTarget.stencilBuffer) {\n      _gl.renderbufferStorage(_gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height);\n      _gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer);\n    } else {\n      // FIXME: We don't support !depth !stencil\n      _gl.renderbufferStorage(_gl.RENDERBUFFER, _gl.RGBA4, renderTarget.width, renderTarget.height);\n    }\n    _gl.bindRenderbuffer(_gl.RENDERBUFFER, null);\n  }\n  // Setup resources for a Depth Texture for a FBO (needs an extension)\n  private setupDepthTexture(framebuffer: any, renderTarget: any): void {\n    const _gl = this._gl;\n    const isCube = ((renderTarget && renderTarget instanceof WebGLRenderTargetCube));\n    if (isCube) throw new Error('Depth Texture with cube render targets is not supported!');\n    _gl.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n    if (!((renderTarget.depthTexture && renderTarget.depthTexture instanceof DepthTexture))) {\n      throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');\n    }\n    // upload an empty depth texture with framebuffer size\n    if (!this.properties.get(renderTarget.depthTexture).__webglTexture ||\n        renderTarget.depthTexture.image.width !== renderTarget.width ||\n        renderTarget.depthTexture.image.height !== renderTarget.height) {\n      renderTarget.depthTexture.image.width = renderTarget.width;\n      renderTarget.depthTexture.image.height = renderTarget.height;\n      renderTarget.depthTexture.needsUpdate = true;\n    }\n    this.setTexture2D(renderTarget.depthTexture, 0);\n    const webglDepthTexture = this.properties.get(renderTarget.depthTexture).__webglTexture;\n    if (renderTarget.depthTexture.format === TextureFormat.Depth) {\n      _gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0);\n    } else if (renderTarget.depthTexture.format === TextureFormat.DepthStencil) {\n      _gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0);\n    } else {\n      throw new Error('Unknown depthTexture format');\n    }\n  }\n  // Setup GL resources for a non-texture depth buffer\n  private setupDepthRenderbuffer(renderTarget: any): void {\n    const _gl = this._gl;\n    const renderTargetProperties = this.properties.get(renderTarget);\n    const isCube = ((renderTarget && renderTarget instanceof WebGLRenderTargetCube));\n    if (renderTarget.depthTexture) {\n      if (isCube) throw new Error('target.depthTexture not supported in Cube render targets');\n      this.setupDepthTexture(renderTargetProperties.__webglFramebuffer, renderTarget);\n    } else {\n      if (isCube) {\n        renderTargetProperties.__webglDepthbuffer = [];\n        for (let i = 0; i < 6; i ++) {\n          _gl.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer[i]);\n          renderTargetProperties.__webglDepthbuffer[i] = _gl.createRenderbuffer();\n          this.setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer[i], renderTarget);\n        }\n      } else {\n        _gl.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer);\n        renderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n        this.setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer, renderTarget);\n      }\n    }\n    _gl.bindFramebuffer(_gl.FRAMEBUFFER, null);\n  }\n  // Set up GL resources for the render target\n  setupRenderTarget(renderTarget: any): void {\n    const _gl = this._gl;\n    const renderTargetProperties = this.properties.get(renderTarget);\n    const textureProperties = this.properties.get(renderTarget.texture);\n    renderTarget.addEventListener('dispose', this.onRenderTargetDispose.bind(this));\n    textureProperties.__webglTexture = _gl.createTexture();\n    this._infoMemory.textures ++;\n    const isCube = ((renderTarget && renderTarget instanceof WebGLRenderTargetCube));\n    const isTargetPowerOfTwo = WebGLTextures.isPowerOfTwo(renderTarget);\n    // Setup framebuffer\n    if (isCube) {\n      renderTargetProperties.__webglFramebuffer = [];\n      for (let i = 0; i < 6; i ++) {\n        renderTargetProperties.__webglFramebuffer[i] = _gl.createFramebuffer();\n      }\n    } else {\n      renderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n    }\n    // Setup color buffer\n    if (isCube) {\n      this.state.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture);\n      this.setTextureParameters(_gl.TEXTURE_CUBE_MAP, renderTarget.texture, isTargetPowerOfTwo);\n      for (let i = 0; i < 6; i ++) {\n        this.setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer[i], renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i);\n      }\n      if (renderTarget.texture.generateMipmaps && isTargetPowerOfTwo) _gl.generateMipmap(_gl.TEXTURE_CUBE_MAP);\n      this.state.bindTexture(_gl.TEXTURE_CUBE_MAP, null);\n    } else {\n      this.state.bindTexture(_gl.TEXTURE_2D, textureProperties.__webglTexture);\n      this.setTextureParameters(_gl.TEXTURE_2D, renderTarget.texture, isTargetPowerOfTwo);\n      this.setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_2D);\n      if (renderTarget.texture.generateMipmaps && isTargetPowerOfTwo) _gl.generateMipmap(_gl.TEXTURE_2D);\n      this.state.bindTexture(_gl.TEXTURE_2D, null);\n    }\n    // Setup depth and stencil buffers\n    if (renderTarget.depthBuffer) {\n      this.setupDepthRenderbuffer(renderTarget);\n    }\n  }\n  updateRenderTargetMipmap(renderTarget: any): void {\n    const _gl = this._gl;\n    const texture = renderTarget.texture;\n    if (texture.generateMipmaps && WebGLTextures.isPowerOfTwo(renderTarget) &&\n        texture.minFilter !== TextureFilter.Nearest &&\n        texture.minFilter !== TextureFilter.Linear) {\n      const target = (renderTarget && renderTarget instanceof WebGLRenderTargetCube) ? _gl.TEXTURE_CUBE_MAP : _gl.TEXTURE_2D;\n      const webglTexture = this.properties.get(texture).__webglTexture;\n      this.state.bindTexture(target, webglTexture);\n      _gl.generateMipmap(target);\n      this.state.bindTexture(target, null);\n    }\n  }\n}\n","/**\n * @author fordacious / fordacious.github.io\n */\nexport class WebGLProperties {\n  properties: any = {};\n  get(object: any): any {\n    const uuid = object.uuid;\n    let map = this.properties[uuid];\n    if (map === undefined) {\n      map = {};\n      this.properties[uuid] = map;\n    }\n    return map;\n  }\n  delete(object: any) {\n    delete this.properties[object.uuid];\n  }\n  clear(): void {\n    this.properties = {};\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nimport { DepthFunction, CullFace } from \"../../constants\";\nimport { BlendingMode } from \"../../constants\";\nimport { Vector4 } from \"../../math/Vector4\";\nclass ColorBuffer {\n  state: any;\n  locked: boolean = false;\n  color: Vector4 = new Vector4();\n  currentColorMask: number = null;\n  currentColorClear: Vector4 = new Vector4();\n  constructor(state: any) {\n    this.state = state;\n  }\n  setMask(colorMask: number): void {\n    if (this.currentColorMask !== colorMask && ! this.locked) {\n      this.state.gl.colorMask(colorMask, colorMask, colorMask, colorMask);\n      this.currentColorMask = colorMask;\n    }\n  }\n  setLocked(lock: boolean): void {\n    this.locked = lock;\n  }\n  setClear(r: number, g: number, b: number, a: number): void {\n    this.color.set(r, g, b, a);\n    if (this.currentColorClear.equals(this.color) === false) {\n      this.state.gl.clearColor(r, g, b, a);\n      this.currentColorClear.copy(this.color);\n    }\n  }\n  reset(): void {\n    this.locked = false;\n    this.currentColorMask = null;\n    this.currentColorClear.set(0, 0, 0, 1);\n  }\n}\nclass DepthBuffer {\n  state: any;\n  locked: boolean = false;\n  currentDepthMask: number = null;\n  currentDepthFunc: number = null;\n  currentDepthClear: number = null;\n  constructor(state: any) {\n    this.state = state;\n  }\n  setTest(depthTest: boolean): void {\n    const gl = this.state.gl;\n    if (depthTest) {\n      this.state.enable(gl.DEPTH_TEST);\n    } else {\n      this.state.disable(gl.DEPTH_TEST);\n    }\n  }\n  setMask(depthMask: number): void {\n    const gl = this.state.gl;\n    if (this.currentDepthMask !== depthMask && ! this.locked) {\n      gl.depthMask(depthMask);\n      this.currentDepthMask = depthMask;\n    }\n  }\n  setFunc(depthFunc: number): void {\n    const gl = this.state.gl;\n    if (this.currentDepthFunc !== depthFunc) {\n      if (depthFunc) {\n        switch (depthFunc) {\n          case DepthFunction.Never:\n            gl.depthFunc(gl.NEVER);\n            break;\n          case DepthFunction.Always:\n            gl.depthFunc(gl.ALWAYS);\n            break;\n          case DepthFunction.Less:\n            gl.depthFunc(gl.LESS);\n            break;\n          case DepthFunction.LessEqual:\n            gl.depthFunc(gl.LEQUAL);\n            break;\n          case DepthFunction.Equal:\n            gl.depthFunc(gl.EQUAL);\n            break;\n          case DepthFunction.GreaterEqual:\n            gl.depthFunc(gl.GEQUAL);\n            break;\n          case DepthFunction.Greater:\n            gl.depthFunc(gl.GREATER);\n            break;\n          case DepthFunction.NotEqual:\n            gl.depthFunc(gl.NOTEQUAL);\n            break;\n          default:\n            gl.depthFunc(gl.LEQUAL);\n        }\n      } else {\n        gl.depthFunc(gl.LEQUAL);\n      }\n      this.currentDepthFunc = depthFunc;\n    }\n  }\n  setLocked(lock: boolean): void {\n    this.locked = lock;\n  }\n  setClear(depth: number): void {\n    const gl = this.state.gl;\n    if (this.currentDepthClear !== depth) {\n      gl.clearDepth(depth);\n      this.currentDepthClear = depth;\n    }\n  }\n  reset(): void {\n    this.locked = false;\n    this.currentDepthMask = null;\n    this.currentDepthFunc = null;\n    this.currentDepthClear = null;\n  }\n}\nclass StencilBuffer {\n  state: any;\n  locked: boolean = false;\n  currentStencilMask: number = null;\n  currentStencilFunc: number = null;\n  currentStencilRef: number = null;\n  currentStencilFuncMask: number = null;\n  currentStencilFail: number  = null;\n  currentStencilZFail: number = null;\n  currentStencilZPass: number = null;\n  currentStencilClear: number = null;\n  constructor(state: any) {\n    this.state = state;\n  }\n  setTest(stencilTest: number): void {\n    const gl = this.state.gl;\n    if (stencilTest) {\n      this.state.enable(gl.STENCIL_TEST);\n    } else {\n      this.state.disable(gl.STENCIL_TEST);\n    }\n  }\n  setMask(stencilMask: number): void {\n    const gl = this.state.gl;\n    if (this.currentStencilMask !== stencilMask && ! this.locked) {\n      gl.stencilMask(stencilMask);\n      this.currentStencilMask = stencilMask;\n    }\n  }\n  setFunc(stencilFunc: number, stencilRef: number, stencilMask: number): void {\n    const gl = this.state.gl;\n    if (this.currentStencilFunc !== stencilFunc ||\n        this.currentStencilRef   !== stencilRef   ||\n        this.currentStencilFuncMask !== stencilMask) {\n      gl.stencilFunc(stencilFunc,  stencilRef, stencilMask);\n      this.currentStencilFunc = stencilFunc;\n      this.currentStencilRef  = stencilRef;\n      this.currentStencilFuncMask = stencilMask;\n    }\n  }\n  setOp(stencilFail: number, stencilZFail: number, stencilZPass: number): void {\n    const gl = this.state.gl;\n    if (this.currentStencilFail   !== stencilFail   ||\n        this.currentStencilZFail !== stencilZFail ||\n        this.currentStencilZPass !== stencilZPass) {\n      gl.stencilOp(stencilFail,  stencilZFail, stencilZPass);\n      this.currentStencilFail  = stencilFail;\n      this.currentStencilZFail = stencilZFail;\n      this.currentStencilZPass = stencilZPass;\n    }\n  }\n  setLocked(lock: boolean): void {\n    this.locked = lock;\n  }\n  setClear(stencil: number) {\n    const gl = this.state.gl;\n    if (this.currentStencilClear !== stencil) {\n      gl.clearStencil(stencil);\n      this.currentStencilClear = stencil;\n    }\n  }\n  reset(): void {\n    this.locked = false;\n    this.currentStencilMask = null;\n    this.currentStencilFunc = null;\n    this.currentStencilRef = null;\n    this.currentStencilFuncMask = null;\n    this.currentStencilFail = null;\n    this.currentStencilZFail = null;\n    this.currentStencilZPass = null;\n    this.currentStencilClear = null;\n  }\n}\nexport class WebGLState {\n  //\n  gl: any;\n  extensions: any;\n  paramThreeToGL: any;\n  colorBuffer: any;\n  depthBuffer: any;\n  stencilBuffer: any;\n  maxVertexAttributes: any;\n  newAttributes: any;\n  enabledAttributes: any;\n  attributeDivisors: any;\n  capabilities: any = {};\n  compressedTextureFormats: any = null;\n  currentBlending: any = null;\n  currentBlendEquation: any = null;\n  currentBlendSrc: any = null;\n  currentBlendDst: any = null;\n  currentBlendEquationAlpha: any = null;\n  currentBlendSrcAlpha: any = null;\n  currentBlendDstAlpha: any = null;\n  currentPremultipledAlpha: any = false;\n  currentFlipSided: any = null;\n  currentCullFace: any = null;\n  currentLineWidth: any = null;\n  currentPolygonOffsetFactor: any = null;\n  currentPolygonOffsetUnits: any = null;\n  currentScissorTest: any = null;\n  maxTextures: any;\n  currentTextureSlot: any = null;\n  currentBoundTextures: any = {};\n  currentScissor = new Vector4();\n  currentViewport = new Vector4();\n  emptyTextures = {};\n  buffers: any;\n  constructor(gl: any, extensions: any, paramThreeToGL: any) {\n    this.gl = gl;\n    this.extensions = extensions;\n    this.paramThreeToGL = paramThreeToGL;\n    this.colorBuffer = new ColorBuffer(this);\n    this.depthBuffer = new DepthBuffer(this);\n    this.stencilBuffer = new StencilBuffer(this);\n    this.maxVertexAttributes = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);\n    this.newAttributes = new Uint8Array(this.maxVertexAttributes);\n    this.enabledAttributes = new Uint8Array(this.maxVertexAttributes);\n    this.attributeDivisors = new Uint8Array(this.maxVertexAttributes);\n    this.maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n    this.emptyTextures[gl.TEXTURE_2D] = this.createTexture(gl.TEXTURE_2D, gl.TEXTURE_2D, 1);\n    this.emptyTextures[gl.TEXTURE_CUBE_MAP] = this.createTexture(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_CUBE_MAP_POSITIVE_X, 6);\n    this.buffers = {\n      color: this.colorBuffer,\n      depth: this.depthBuffer,\n      stencil: this.stencilBuffer\n    };\n  }\n  createTexture(type: GLenum, target: GLenum, count: number): GLint {\n    const gl = this.gl;\n    const data = new Uint8Array(4); // 4 is required to match default unpack alignment of 4.\n    const texture = gl.createTexture();\n    gl.bindTexture(type, texture);\n    gl.texParameteri(type, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(type, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    for (let i = 0; i < count; i ++) {\n      gl.texImage2D(target + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    }\n    return texture;\n  }\n  //\n  init(): void {\n    const gl = this.gl;\n    this.clearColor(0, 0, 0, 1);\n    this.clearDepth(1);\n    this.clearStencil(0);\n    this.enable(gl.DEPTH_TEST);\n    this.setDepthFunc(DepthFunction.LessEqual);\n    this.setFlipSided(false);\n    this.setCullFace(CullFace.Back);\n    this.enable(gl.CULL_FACE);\n    this.enable(gl.BLEND);\n    this.setBlending(BlendingMode.Normal);\n  }\n  initAttributes(): void {\n    for (let i = 0, l = this.newAttributes.length; i < l; i ++) {\n      this.newAttributes[i] = 0;\n    }\n  }\n  enableAttribute(attribute: any): void {\n    const gl = this.gl;\n    this.newAttributes[attribute] = 1;\n    if (this.enabledAttributes[attribute] === 0) {\n      gl.enableVertexAttribArray(attribute);\n      this.enabledAttributes[attribute] = 1;\n    }\n    if (this.attributeDivisors[attribute] !== 0) {\n      const extension = this.extensions.get('ANGLE_instanced_arrays');\n      extension.vertexAttribDivisorANGLE(attribute, 0);\n      this.attributeDivisors[attribute] = 0;\n    }\n  }\n  enableAttributeAndDivisor(attribute: any, meshPerAttribute: any, extension: any): void {\n    const gl = this.gl;\n    this.newAttributes[attribute] = 1;\n    if (this.enabledAttributes[attribute] === 0) {\n      gl.enableVertexAttribArray(attribute);\n      this.enabledAttributes[attribute] = 1;\n    }\n    if (this.attributeDivisors[attribute] !== meshPerAttribute) {\n      extension.vertexAttribDivisorANGLE(attribute, meshPerAttribute);\n      this.attributeDivisors[attribute] = meshPerAttribute;\n    }\n  }\n  disableUnusedAttributes(): void {\n    const gl = this.gl;\n    for (let i = 0, l = this.enabledAttributes.length; i !== l; ++ i) {\n      if (this.enabledAttributes[i] !== this.newAttributes[i]) {\n        gl.disableVertexAttribArray(i);\n        this.enabledAttributes[i] = 0;\n      }\n    }\n  }\n  enable(id: any): void {\n    const gl = this.gl;\n    if (this.capabilities[id] !== true) {\n      gl.enable(id);\n      this.capabilities[id] = true;\n    }\n  }\n  disable(id: any): void {\n    const gl = this.gl;\n    if (this.capabilities[id] !== false) {\n      gl.disable(id);\n      this.capabilities[id] = false;\n    }\n  }\n  getCompressedTextureFormats(): string[] {\n    const gl = this.gl;\n    if (this.compressedTextureFormats === null) {\n      this.compressedTextureFormats = [];\n      if (this.extensions.get('WEBGL_compressed_texture_pvrtc') ||\n        this.extensions.get('WEBGL_compressed_texture_s3tc') ||\n        this.extensions.get('WEBGL_compressed_texture_etc1')) {\n        const formats = gl.getParameter(gl.COMPRESSED_TEXTURE_FORMATS);\n        for (let i = 0; i < formats.length; i ++) {\n          this.compressedTextureFormats.push(formats[i]);\n        }\n      }\n    }\n    return this.compressedTextureFormats;\n  }\n  setBlending(blending: number, blendEquation?: number, blendSrc?: number, blendDst?: number, blendEquationAlpha?: number, blendSrcAlpha?: number, blendDstAlpha?: number, premultipliedAlpha?: boolean): void {\n    const gl = this.gl;\n    if (blending !== BlendingMode.None) {\n      this.enable(gl.BLEND);\n    } else {\n      this.disable(gl.BLEND);\n    }\n    if (blending !== this.currentBlending || premultipliedAlpha !== this.currentPremultipledAlpha) {\n      if (blending === BlendingMode.Additive) {\n        if (premultipliedAlpha) {\n          gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n          gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\n        } else {\n          gl.blendEquation(gl.FUNC_ADD);\n          gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n        }\n      } else if (blending === BlendingMode.Subtractive) {\n        if (premultipliedAlpha) {\n          gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n          gl.blendFuncSeparate(gl.ZERO, gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA);\n        } else {\n          gl.blendEquation(gl.FUNC_ADD);\n          gl.blendFunc(gl.ZERO, gl.ONE_MINUS_SRC_COLOR);\n        }\n      } else if (blending === BlendingMode.Multiply) {\n        if (premultipliedAlpha) {\n          gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n          gl.blendFuncSeparate(gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA);\n        } else {\n          gl.blendEquation(gl.FUNC_ADD);\n          gl.blendFunc(gl.ZERO, gl.SRC_COLOR);\n        }\n      } else {\n        if (premultipliedAlpha) {\n          gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n          gl.blendFuncSeparate(gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n        } else {\n          gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n          gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n        }\n      }\n      this.currentBlending = blending;\n      this.currentPremultipledAlpha = premultipliedAlpha;\n    }\n    if (blending === BlendingMode.Custom) {\n      blendEquationAlpha = blendEquationAlpha || blendEquation;\n      blendSrcAlpha = blendSrcAlpha || blendSrc;\n      blendDstAlpha = blendDstAlpha || blendDst;\n      if (blendEquation !== this.currentBlendEquation || blendEquationAlpha !== this.currentBlendEquationAlpha) {\n        gl.blendEquationSeparate(this.paramThreeToGL(blendEquation), this.paramThreeToGL(blendEquationAlpha));\n        this.currentBlendEquation = blendEquation;\n        this.currentBlendEquationAlpha = blendEquationAlpha;\n      }\n      if (blendSrc !== this.currentBlendSrc || blendDst !== this.currentBlendDst || blendSrcAlpha !== this.currentBlendSrcAlpha || blendDstAlpha !== this.currentBlendDstAlpha) {\n        gl.blendFuncSeparate(this.paramThreeToGL(blendSrc), this.paramThreeToGL(blendDst), this.paramThreeToGL(blendSrcAlpha), this.paramThreeToGL(blendDstAlpha));\n        this.currentBlendSrc = blendSrc;\n        this.currentBlendDst = blendDst;\n        this.currentBlendSrcAlpha = blendSrcAlpha;\n        this.currentBlendDstAlpha = blendDstAlpha;\n      }\n    } else {\n      this.currentBlendEquation = null;\n      this.currentBlendSrc = null;\n      this.currentBlendDst = null;\n      this.currentBlendEquationAlpha = null;\n      this.currentBlendSrcAlpha = null;\n      this.currentBlendDstAlpha = null;\n    }\n  }\n  // TODO Deprecate\n  setColorWrite(colorWrite: boolean): void {\n    this.colorBuffer.setMask(colorWrite);\n  }\n  setDepthTest(depthTest: boolean): void {\n    this.depthBuffer.setTest(depthTest);\n  }\n  setDepthWrite(depthWrite: boolean): void {\n    this.depthBuffer.setMask(depthWrite);\n  }\n  setDepthFunc(depthFunc: number): void {\n    this.depthBuffer.setFunc(depthFunc);\n  }\n  setStencilTest(stencilTest: number): void {\n    this.stencilBuffer.setTest(stencilTest);\n  }\n  setStencilWrite(stencilWrite: number): void {\n    this.stencilBuffer.setMask(stencilWrite);\n  }\n  setStencilFunc(stencilFunc: number, stencilRef: number, stencilMask: number): void {\n    this.stencilBuffer.setFunc(stencilFunc, stencilRef, stencilMask);\n  }\n  setStencilOp(stencilFail: number, stencilZFail: number, stencilZPass: number): void {\n    this.stencilBuffer.setOp(stencilFail, stencilZFail, stencilZPass);\n  }\n  //\n  setFlipSided(flipSided: boolean): void {\n    const gl = this.gl;\n    if (this.currentFlipSided !== flipSided) {\n      if (flipSided) {\n        gl.frontFace(gl.CW);\n      } else {\n        gl.frontFace(gl.CCW);\n      }\n      this.currentFlipSided = flipSided;\n    }\n  }\n  setCullFace(cullFace: CullFace): void {\n    const gl = this.gl;\n    if (cullFace !== CullFace.None) {\n      gl.enable(gl.CULL_FACE);\n      if (cullFace !== this.currentCullFace) {\n        if (cullFace === CullFace.Back) {\n          gl.cullFace(gl.BACK);\n        } else if (cullFace === CullFace.Front) {\n          gl.cullFace(gl.FRONT);\n        } else {\n          gl.cullFace(gl.FRONT_AND_BACK);\n        }\n      }\n    } else {\n      this.disable(gl.CULL_FACE);\n    }\n    this.currentCullFace = cullFace;\n  }\n  setLineWidth(width: number): void {\n    const gl = this.gl;\n    if (width !== this.currentLineWidth) {\n      gl.lineWidth(width);\n      this.currentLineWidth = width;\n    }\n  }\n  setPolygonOffset(polygonOffset: boolean, factor: number, units: number): void {\n    const gl = this.gl;\n    if (polygonOffset) {\n      this.enable(gl.POLYGON_OFFSET_FILL);\n      if (this.currentPolygonOffsetFactor !== factor || this.currentPolygonOffsetUnits !== units) {\n        gl.polygonOffset(factor, units);\n        this.currentPolygonOffsetFactor = factor;\n        this.currentPolygonOffsetUnits = units;\n      }\n    } else {\n      this.disable(gl.POLYGON_OFFSET_FILL);\n    }\n  }\n  getScissorTest(): number {\n    return this.currentScissorTest;\n  }\n  setScissorTest(scissorTest: boolean): void {\n    const gl = this.gl;\n    this.currentScissorTest = scissorTest;\n    if (scissorTest) {\n      this.enable(gl.SCISSOR_TEST);\n    } else {\n      this.disable(gl.SCISSOR_TEST);\n    }\n  }\n  // texture\n  activeTexture(webglSlot?: number): void {\n    const gl = this.gl;\n    if (webglSlot === undefined) webglSlot = gl.TEXTURE0 + this.maxTextures - 1;\n    if (this.currentTextureSlot !== webglSlot) {\n      gl.activeTexture(webglSlot);\n      this.currentTextureSlot = webglSlot;\n    }\n  }\n  bindTexture(webglType: number, webglTexture: number): void {\n    const gl = this.gl;\n    if (this.currentTextureSlot === null) {\n      this.activeTexture();\n    }\n    let boundTexture = this.currentBoundTextures[this.currentTextureSlot];\n    if (boundTexture === undefined) {\n      boundTexture = { type: undefined, texture: undefined };\n      this.currentBoundTextures[this.currentTextureSlot] = boundTexture;\n    }\n    if (boundTexture.type !== webglType || boundTexture.texture !== webglTexture) {\n      gl.bindTexture(webglType, webglTexture || this.emptyTextures[webglType]);\n      boundTexture.type = webglType;\n      boundTexture.texture = webglTexture;\n    }\n  }\n  compressedTexImage2D(): void {\n    const gl = this.gl;\n    try {\n      gl.compressedTexImage2D.apply(gl, arguments);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  texImage2D(): void {\n    const gl = this.gl;\n    try {\n      gl.texImage2D.apply(gl, arguments);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  // TODO Deprecate\n  clearColor(r: number, g: number, b: number, a: number): void {\n    this.colorBuffer.setClear(r, g, b, a);\n  }\n  clearDepth(depth: number): void {\n    this.depthBuffer.setClear(depth);\n  }\n  clearStencil(stencil: number): void {\n    this.stencilBuffer.setClear(stencil);\n  }\n  //\n  scissor(scissor: Vector4): void {\n    const gl = this.gl;\n    if (this.currentScissor.equals(scissor) === false) {\n      gl.scissor(scissor.x, scissor.y, scissor.z, scissor.w);\n      this.currentScissor.copy(scissor);\n    }\n  }\n  viewport(viewport: Vector4): void {\n    const gl = this.gl;\n    if (this.currentViewport.equals(viewport) === false) {\n      gl.viewport(viewport.x, viewport.y, viewport.z, viewport.w);\n      this.currentViewport.copy(viewport);\n    }\n  }\n  //\n  reset(): void {\n    const gl = this.gl;\n    for (let i = 0; i < this.enabledAttributes.length; i ++) {\n      if (this.enabledAttributes[i] === 1) {\n        gl.disableVertexAttribArray(i);\n        this.enabledAttributes[i] = 0;\n      }\n    }\n    this.capabilities = {};\n    this.compressedTextureFormats = null;\n    this.currentTextureSlot = null;\n    this.currentBoundTextures = {};\n    this.currentBlending = null;\n    this.currentFlipSided = null;\n    this.currentCullFace = null;\n    this.colorBuffer.reset();\n    this.depthBuffer.reset();\n    this.stencilBuffer.reset();\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nimport { WebGLExtensions } from \"./WebGLExtensions\";\nimport { WebGLRendererParameters } from \"../WebGLRenderer\";\nexport class WebGLCapabilities {\n  gl: WebGLRenderingContext;\n  extensions: WebGLExtensions;\n  parameters: WebGLRendererParameters;\n  maxAnisotropy: number;\n  precision: string;\n  maxPrecision: string;\n  logarithmicDepthBuffer: boolean;\n  maxTextures: number;\n  maxVertexTextures: number;\n  maxTextureSize: number;\n  maxCubemapSize: number;\n  maxAttributes: number;\n  maxVertexUniforms: number;\n  maxVaryings: number;\n  maxFragmentUniforms: number;\n  vertexTextures: boolean;\n  floatFragmentTextures: boolean;\n  floatVertexTextures: boolean;\n  constructor(gl: WebGLRenderingContext, extensions: WebGLExtensions, parameters: WebGLRendererParameters) {\n    this.gl = gl;\n    this.extensions = extensions;\n    this.parameters = parameters;\n    this.precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n    this.maxPrecision = this.getMaxPrecision(this.precision);\n    if (this.maxPrecision !== this.precision) {\n      console.warn('THREE.WebGLRenderer:', this.precision, 'not supported, using', this.maxPrecision, 'instead.');\n      this.precision = this.maxPrecision;\n    }\n    this.logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true && !! extensions.get('EXT_frag_depth');\n    this.maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n    this.maxVertexTextures = gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS);\n    this.maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n    this.maxCubemapSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\n    this.maxAttributes = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);\n    this.maxVertexUniforms = gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS);\n    this.maxVaryings = gl.getParameter(gl.MAX_VARYING_VECTORS);\n    this.maxFragmentUniforms = gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS);\n    this.vertexTextures = this.maxVertexTextures > 0;\n    this.floatFragmentTextures = !! extensions.get('OES_texture_float');\n    this.floatVertexTextures = this.vertexTextures && this.floatFragmentTextures;\n  }\n  getMaxAnisotropy(): number {\n    const gl: WebGLRenderingContext = this.gl;\n    if (this.maxAnisotropy !== undefined) return this.maxAnisotropy;\n    const extension = this.extensions.get('EXT_texture_filter_anisotropic');\n    if (extension !== null) {\n      this.maxAnisotropy = gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n    } else {\n      this.maxAnisotropy = 0;\n    }\n    return this.maxAnisotropy;\n  }\n  getMaxPrecision(precision: string): string {\n    const gl: WebGLRenderingContext = this.gl;\n    if (precision === 'highp') {\n      if (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT).precision > 0 &&\n           gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).precision > 0) {\n        return 'highp';\n      }\n      precision = 'mediump';\n    }\n    if (precision === 'mediump') {\n      if (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT).precision > 0 &&\n           gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT).precision > 0) {\n        return 'mediump';\n      }\n    }\n    return 'lowp';\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class WebGLExtensions {\n  gl: WebGLRenderingContext;\n  extensions = {};\n  constructor(gl: WebGLRenderingContext) {\n    this.gl = gl;\n  }\n  get(name: string): any {\n    const gl: WebGLRenderingContext = this.gl;\n    const extensions = this.extensions;\n    if (extensions[name] !== undefined) {\n      return extensions[name];\n    }\n    let extension;\n    switch (name) {\n      case 'WEBGL_depth_texture':\n        extension = gl.getExtension('WEBGL_depth_texture') || gl.getExtension('MOZ_WEBGL_depth_texture') || gl.getExtension('WEBKIT_WEBGL_depth_texture');\n        break;\n      case 'EXT_texture_filter_anisotropic':\n        extension = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('MOZ_EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');\n        break;\n      case 'WEBGL_compressed_texture_s3tc':\n        extension = gl.getExtension('WEBGL_compressed_texture_s3tc') || gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');\n        break;\n      case 'WEBGL_compressed_texture_pvrtc':\n        extension = gl.getExtension('WEBGL_compressed_texture_pvrtc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');\n        break;\n      case 'WEBGL_compressed_texture_etc1':\n        extension = gl.getExtension('WEBGL_compressed_texture_etc1');\n        break;\n      default:\n        extension = gl.getExtension(name);\n    }\n    if (extension === null) {\n      console.warn('THREE.WebGLRenderer: ' + name + ' extension not supported.');\n    }\n    extensions[name] = extension;\n    return extension;\n  }\n}\n","/**\n * @author tschw\n */\nimport { Matrix3 } from \"../../math/Matrix3\";\nimport { Plane } from \"../../math/Plane\";\nimport { Camera } from \"../../cameras/Camera\";\nexport class WebGLClipping {\n  globalState: number[] = null;\n  numGlobalPlanes: number = 0;\n  localClippingEnabled: boolean = false;\n  renderingShadows: boolean = false;\n  plane: Plane = new Plane();\n  viewNormalMatrix: Matrix3 = new Matrix3();\n  uniform = { value: null, needsUpdate: false };\n  numPlanes: number = 0;\n  numIntersection: number = 0;\n  init(planes: Plane[], enableLocalClipping: boolean, camera: Camera): boolean {\n    const enabled =\n      planes.length !== 0 ||\n      enableLocalClipping ||\n      // enable state of previous frame - the clipping code has to\n      // run another frame in order to reset the state:\n      this.numGlobalPlanes !== 0 ||\n      this.localClippingEnabled;\n    this.localClippingEnabled = enableLocalClipping;\n    this.globalState = this.projectPlanes(planes, camera, 0);\n    this.numGlobalPlanes = planes.length;\n    return enabled;\n  }\n  beginShadows(): void {\n    this.renderingShadows = true;\n    this.projectPlanes(null);\n  }\n  endShadows(): void {\n    this.renderingShadows = false;\n    this.resetGlobalState();\n  }\n  setState(planes: Plane[], clipIntersection: boolean, clipShadows: boolean, camera: Camera, cache: any, fromCache: boolean): void {\n    if (! this.localClippingEnabled ||\n        planes === null || planes.length === 0 ||\n        this.renderingShadows && ! clipShadows) {\n      // there's no local clipping\n      if (this.renderingShadows) {\n        // there's no global clipping\n        this.projectPlanes(null);\n      } else {\n        this.resetGlobalState();\n      }\n    } else {\n      const nGlobal = this.renderingShadows ? 0 : this.numGlobalPlanes;\n      const lGlobal = nGlobal * 4;\n      let dstArray = cache.clippingState || null;\n      this.uniform.value = dstArray; // ensure unique state\n      dstArray = this.projectPlanes(planes, camera, lGlobal, fromCache);\n      for (let i = 0; i !== lGlobal; ++ i) {\n        dstArray[i] = this.globalState[i];\n      }\n      cache.clippingState = dstArray;\n      this.numIntersection = clipIntersection ? this.numPlanes : 0;\n      this.numPlanes += nGlobal;\n    }\n  }\n  private resetGlobalState(): void {\n    if (this.uniform.value !== this.globalState) {\n      this.uniform.value = this.globalState;\n      this.uniform.needsUpdate = this.numGlobalPlanes > 0;\n    }\n    this.numPlanes = this.numGlobalPlanes;\n    this.numIntersection = 0;\n  }\n  private projectPlanes(planes: Plane[], camera?: Camera, dstOffset?: number, skipTransform?: boolean): number[] {\n    const nPlanes = planes !== null ? planes.length : 0;\n    let dstArray = null;\n    if (nPlanes !== 0) {\n      dstArray = this.uniform.value;\n      if (skipTransform !== true || dstArray === null) {\n        const flatSize = dstOffset + nPlanes * 4,\n          viewMatrix = camera.matrixWorldInverse;\n        this.viewNormalMatrix.getNormalMatrix(viewMatrix);\n        if (dstArray === null || dstArray.length < flatSize) {\n          dstArray = new Float32Array(flatSize);\n        }\n        for (let i = 0, i4 = dstOffset;\n                  i !== nPlanes; ++ i, i4 += 4) {\n          this.plane.copy(planes[i]).\n              applyMatrix4(viewMatrix, this.viewNormalMatrix);\n          this.plane.normal.toArray(dstArray, i4);\n          dstArray[i4 + 3] = this.plane.constant;\n        }\n      }\n      this.uniform.value = dstArray;\n      this.uniform.needsUpdate = true;\n    }\n    this.numPlanes = nPlanes;\n    return dstArray;\n  }\n}\n","import { Light } from \"./Light\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class AmbientLight extends Light {\n  readonly isAmbientLight: boolean = true;\n  constructor(color: number, intensity?: number) {\n    super(color, intensity);\n    this.type = 'AmbientLight';\n    this.castShadow = undefined;\n  }\n}\n","import { LightShadow } from \"./LightShadow\";\nimport { OrthographicCamera } from \"../cameras/OrthographicCamera\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class DirectionalLightShadow extends LightShadow {\n  constructor(light?: any) {\n    super(new OrthographicCamera(- 5, 5, 5, - 5, 0.5, 500));\n  }\n}\n","import { Light } from \"./Light\";\nimport { DirectionalLightShadow } from \"./DirectionalLightShadow\";\nimport { Object3D } from \"../core/Object3D\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\nexport class DirectionalLight extends Light {\n  target: Object3D = new Object3D();\n  readonly isDirectionalLight: boolean = true;\n  constructor(color: number, intensity?: number) {\n    super(color, intensity);\n    this.type = 'DirectionalLight';\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n    this.shadow = new DirectionalLightShadow();\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.target = source.target.clone();\n    this.shadow = source.shadow.clone();\n    return this;\n  }\n}\n","import { Light } from \"./Light\";\nimport { Color } from \"../math/Color\";\nimport { Object3D } from \"../core/Object3D\";\n/**\n * @author alteredq / http://alteredqualia.com/\n */\nexport class HemisphereLight extends Light {\n  readonly isHemisphereLight: boolean = true;\n  constructor(skyColor: number, groundColor: number, intensity?: number) {\n    super(skyColor, intensity);\n    this.type = 'HemisphereLight';\n    this.castShadow = undefined;\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n    this.groundColor = new Color(groundColor);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.groundColor.copy(source.groundColor);\n    return this;\n  }\n}\n","import { Light } from \"./Light\";\nimport { SpotLightShadow } from \"./SpotLightShadow\";\nimport { Object3D } from \"../core/Object3D\";\n/**\n * @author alteredq / http://alteredqualia.com/\n */\nexport class SpotLight extends Light {\n  target: Object3D = new Object3D();\n  readonly isSpotLight: boolean = true;\n  constructor(color: number, intensity?: number, distance: number = 0, angle: number = Math.PI / 3, penumbra: number = 0, decay: number = 1) {\n    super(color, intensity);\n    this.type = 'SpotLight';\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n    this.distance = distance;\n    this.angle = angle;\n    this.penumbra = penumbra;\n    this.decay = decay;  // for physically correct lights, should be 2.\n    this.shadow = new SpotLightShadow();\n  }\n  get power (): number {\n    // intensity = power per solid angle.\n    // ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n    return this.intensity * Math.PI;\n  }\n  set power (value: number) {\n    // intensity = power per solid angle.\n    // ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n    this.intensity = value / Math.PI;\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.distance = source.distance;\n    this.angle = source.angle;\n    this.penumbra = source.penumbra;\n    this.decay = source.decay;\n    this.target = source.target.clone();\n    this.shadow = source.shadow.clone();\n    return this;\n  }\n}\n","import { Material, MaterialParameters } from \"./Material\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Color } from \"../math/Color\";\nimport { Texture } from \"../textures/Texture\";\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture(<Image>),\n *\n *  uvOffset: new THREE.Vector2(),\n *  uvScale: new THREE.Vector2()\n * }\n */\nexport interface SpriteMaterialParameters extends MaterialParameters {\n  color?: number;\n  opacity?: number;\n  map?: Texture;\n\n  uvOffset?: Vector2;\n  uvScale?: Vector2;\n}\nexport class SpriteMaterial extends Material {\n  rotation: number;\n  readonly isSpriteMaterial: boolean = true;\n  constructor(parameters?: SpriteMaterialParameters) {\n    super();\n    this.type = 'SpriteMaterial';\n    this.color = new Color(0xffffff);\n    this.map = null;\n    this.rotation = 0;\n    this.fog = false;\n    this.lights = false;\n    this.setValues(parameters);\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.color.copy(source.color);\n    this.map = source.map;\n    this.rotation = source.rotation;\n    return this;\n  };\n}\n","import { Vector3 } from \"../math/Vector3\";\nimport { Object3D } from \"../core/Object3D\";\nimport { Material } from \"../materials/Material\";\nimport { SpriteMaterial } from \"../materials/SpriteMaterial\";\nimport { Raycaster, Intersect } from \"../core/Raycaster\";\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\nexport class Sprite extends Object3D {\n  readonly isSprite: boolean = true;\n  constructor(material: Material = new SpriteMaterial()) {\n    super();\n    this.type = 'Sprite';\n    this.material = material;\n  }\n  private static raycast_matrixPosition = new Vector3();\n  raycast(raycaster: Raycaster, intersects: Intersect[]): Intersect[] {\n    let matrixPosition = Sprite.raycast_matrixPosition;\n    //return function raycast(raycaster, intersects) {\n      matrixPosition.setFromMatrixPosition(this.matrixWorld);\n      let distanceSq = raycaster.ray.distanceSqToPoint(matrixPosition);\n      let guessSizeSq = this.scale.x * this.scale.y / 4;\n      if (distanceSq > guessSizeSq) {\n        return intersects;\n      }\n      intersects.push({\n        distance: Math.sqrt(distanceSq),\n        point: this.position,\n        index: 0,\n        face: null,\n        faceIndex: 0,\n        uv: null,\n        object: this\n      });\n      return intersects;\n    //};\n  }\n  clone(): this {\n    return new (this.constructor as any)(this.material).copy(this);\n  }\n}\n","import { Object3D } from \"../core/Object3D\";\nimport { BlendingMode } from \"../constants\";\nimport { Color } from \"../math/Color\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Texture } from \"../textures/Texture\";\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\nexport class LensFlare extends Object3D {\n  lensFlares: any[] = [];\n  positionScreen: Vector3 = new Vector3();\n  customUpdateCallback: (flare: any) => void;\n  readonly isLensFlare: boolean = true;\n  constructor(texture: Texture, size: number, distance: number, blending: BlendingMode, color: Color) {\n    super();\n    if (texture !== undefined) {\n      this.addFlare(texture, size, distance, blending, color);\n    }\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.positionScreen.copy(source.positionScreen);\n    this.customUpdateCallback = source.customUpdateCallback;\n    for (let i = 0, l = source.lensFlares.length; i < l; i ++) {\n      this.lensFlares.push(source.lensFlares[i]);\n    }\n    return this;\n  }\n  add(object: Object3D): Object3D {\n    if (object instanceof Texture) {\n      console.warn(\"LensFlare:add is now LensFlare:addFlare\");\n      return this.addFlare.call(this, arguments);\n    }\n    return super.add(object);\n  }\n  addFlare(texture: Texture, size: number = -1, distance: number = 0, blending: BlendingMode = BlendingMode.Normal, color: Color = new Color(0xffffff), opacity: number = 1): void {\n    distance = Math.min(distance, Math.max(0, distance));\n    this.lensFlares.push({\n      texture: texture,  // THREE.Texture\n      size: size,     // size in pixels (-1 = use texture.width)\n      distance: distance,   // distance (0-1) from light source (0=at light source)\n      x: 0, y: 0, z: 0,  // screen position (-1 => 1) z = 0 is in front z = 1 is back\n      scale: 1,     // scale\n      rotation: 0,     // rotation\n      opacity: opacity,  // opacity\n      color: color,    // color\n      blending: blending  // blending\n    });\n  }\n  /*\n   * Update lens flares update positions on all flares based on the screen position\n   * Set myLensFlare.customUpdateCallback to alter the flares in your project specific way.\n   */\n  updateLensFlares(): void {\n    let f, fl = this.lensFlares.length;\n    let flare;\n    let vecX = - this.positionScreen.x * 2;\n    let vecY = - this.positionScreen.y * 2;\n    for (f = 0; f < fl; f ++) {\n      flare = this.lensFlares[f];\n      flare.x = this.positionScreen.x + vecX * flare.distance;\n      flare.y = this.positionScreen.y + vecY * flare.distance;\n      flare.wantedRotation = flare.x * Math.PI * 0.25;\n      flare.rotation += (flare.wantedRotation - flare.rotation) * 0.25;\n    }\n  }\n}\n","import { Object3D } from \"../../core/Object3D\";\nimport { Material } from \"../../materials/Material\";\n/**\n * @author alteredq / http://alteredqualia.com/\n */\nexport class ImmediateRenderObject extends Object3D {\n  readonly isImmediateRenderObject: boolean = true;\n  constructor(material: Material) {\n    super();\n    this.material = material;\n  }\n  render(renderCallback: any) {\n  }\n}\n","import { Line } from \"./Line\";\nimport { Geometry } from \"../core/Geometry\";\nimport { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Material } from \"../materials/Material\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class LineSegments extends Line {\n  readonly isLineSegments: boolean = true;\n  constructor(geometry: Geometry | BufferGeometry, material: Material) {\n    super(geometry, material);\n    this.type = 'LineSegments';\n    this._step = 2; // Line:raycast step\n  }\n}\n","import { BufferGeometry } from \"./BufferGeometry\";\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\nexport class InstancedBufferGeometry extends BufferGeometry {\n  type: string = 'InstancedBufferGeometry';\n  maxInstancedCount: number = undefined;\n  readonly isInstancedBufferGeometry: boolean = true;\n  constructor() {\n    super();\n  }\n  addGroup(start: number, count: number, materialIndex: number): void {\n    this.groups.push({\n      start: start,\n      count: count,\n      materialIndex: materialIndex\n    });\n  }\n  copy(source: this): this {\n    const index = source.index;\n    if (index !== null) {\n      this.setIndex(index.clone());\n    }\n    const attributes = source.attributes;\n    for (let name in attributes) {\n      const attribute = attributes[name];\n      if (attribute === undefined) continue;\n      this.addAttribute(name, attribute.clone());\n    }\n    const groups = source.groups;\n    for (let i = 0, l = groups.length; i < l; i ++) {\n      const group = groups[i];\n      this.addGroup(group.start, group.count, group.materialIndex);\n    }\n    return this;\n  }\n}\n","import { BufferAttribute } from \"./BufferAttribute\";\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\nexport class InstancedBufferAttribute extends BufferAttribute {\n  meshPerAttribute: number;\n  readonly isInstancedBufferAttribute: boolean = true;\n  constructor(array: any, itemSize: number, meshPerAttribute: number = 1) {\n    super(array, itemSize);\n    this.meshPerAttribute = meshPerAttribute;\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.meshPerAttribute = source.meshPerAttribute;\n    return this;\n  }\n}\n","import { _Math } from \"../math/Math\";\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\nexport class InterleavedBuffer {\n  uuid = _Math.generateUUID();\n  array: any;\n  stride: number;\n  count: number;\n  dynamic: boolean;\n  updateRange: any;\n  version: number;\n  readonly isInterleavedBuffer: boolean = true;\n  constructor(array?: any, stride?: number) {\n    this.array = array;\n    this.stride = stride;\n    this.count = array !== undefined ? array.length / stride : 0;\n    this.dynamic = false;\n    this.updateRange = { offset: 0, count: - 1 };\n    this.version = 0;\n  }\n  set needsUpdate(value: boolean) {\n    if (value === true) this.version ++;\n  }\n  setArray(array) {\n    if (Array.isArray(array)) {\n      throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');\n    }\n    this.count = array !== undefined ? array.length / this.stride : 0;\n    this.array = array;\n  }\n  setDynamic(value: boolean): InterleavedBuffer {\n    this.dynamic = value;\n    return this;\n  }\n  copy(source: this): this {\n    this.array = new (source.array.constructor as any)(source.array);\n    this.count = source.count;\n    this.stride = source.stride;\n    this.dynamic = source.dynamic;\n    return this;\n  }\n  copyAt(index1: number, attribute: any, index2: number): InterleavedBuffer {\n    index1 *= this.stride;\n    index2 *= attribute.stride;\n    for (let i = 0, l = this.stride; i < l; i ++) {\n      this.array[index1 + i] = attribute.array[index2 + i];\n    }\n    return this;\n  }\n  set(value: number, offset: number = 0): InterleavedBuffer {\n    this.array.set(value, offset);\n    return this;\n  }\n  clone(): this {\n    return new (this.constructor as any)().copy(this);\n  }\n}\n","import { InterleavedBuffer } from \"./InterleavedBuffer\";\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\nexport class InstancedInterleavedBuffer extends InterleavedBuffer {\n  meshPerAttribute: number;\n  readonly isInstancedInterleavedBuffer: boolean = true;\n  constructor(array: any, stride: number, meshPerAttribute: number = 1) {\n    super(array, stride);\n    this.meshPerAttribute = meshPerAttribute;\n  }\n  copy(source: this): this {\n    super.copy(source);\n    this.meshPerAttribute = source.meshPerAttribute;\n    return this;\n  }\n}\n","/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */\nimport { REVISION, BlendingFactor, BlendingEquation, TextureFormat, TextureType, TextureFilter, TextureWrapping, FrontFaceDirection, SideMode, DrawMode, ColorsMode, ShadingMode, ToneMapping } from \"../constants\";\nimport { BlendingMode, CullFace } from \"../constants\";\nimport { Matrix4 } from \"../math/Matrix4\";\nimport { Plane } from \"../math/Plane\";\nimport { WebGLUniforms } from \"./webgl/WebGLUniforms\";\nimport { UniformsUtils } from \"./shaders/UniformsUtils\";\nimport { ShaderLib } from \"./shaders/ShaderLib\";\nimport { LensFlarePlugin } from \"./webgl/plugins/LensFlarePlugin\";\nimport { SpritePlugin } from \"./webgl/plugins/SpritePlugin\";\nimport { WebGLShadowMap } from \"./webgl/WebGLShadowMap\";\nimport { ShaderMaterial } from \"../materials/ShaderMaterial\";\nimport { Mesh } from \"../objects/Mesh\";\nimport { BoxBufferGeometry } from \"../geometries/BoxBufferGeometry\";\nimport { PlaneBufferGeometry } from \"../geometries/PlaneBufferGeometry\";\nimport { MeshBasicMaterial } from \"../materials/MeshBasicMaterial\";\nimport { MeshPhongMaterial } from \"../materials/MeshPhongMaterial\";\nimport { MeshStandardMaterial } from \"../materials/MeshStandardMaterial\";\nimport { MeshDepthMaterial } from \"../materials/MeshDepthMaterial\";\nimport { MeshLambertMaterial } from \"../materials/MeshLambertMaterial\";\nimport { MeshPhysicalMaterial } from \"../materials/MeshPhysicalMaterial\";\nimport { MeshNormalMaterial } from \"../materials/MeshNormalMaterial\";\nimport { RawShaderMaterial } from \"../materials/RawShaderMaterial\";\nimport { PerspectiveCamera } from \"../cameras/PerspectiveCamera\";\nimport { LineBasicMaterial } from \"../materials/LineBasicMaterial\";\nimport { LineDashedMaterial } from \"../materials/LineDashedMaterial\";\nimport { PointsMaterial } from \"../materials/PointsMaterial\";\nimport { OrthographicCamera } from \"../cameras/OrthographicCamera\";\nimport { WebGLIndexedBufferRenderer } from \"./webgl/WebGLIndexedBufferRenderer\";\nimport { WebGLBufferRenderer } from \"./webgl/WebGLBufferRenderer\";\nimport { WebGLLights } from \"./webgl/WebGLLights\";\nimport { WebGLProgram } from \"./webgl/WebGLProgram\";\nimport { WebGLPrograms } from \"./webgl/WebGLPrograms\";\nimport { WebGLObjects } from \"./webgl/WebGLObjects\";\nimport { WebGLTextures } from \"./webgl/WebGLTextures\";\nimport { WebGLProperties } from \"./webgl/WebGLProperties\";\nimport { WebGLState } from \"./webgl/WebGLState\";\nimport { WebGLCapabilities } from \"./webgl/WebGLCapabilities\";\nimport { BufferGeometry, BufferGeometryGroup } from \"../core/BufferGeometry\";\nimport { WebGLExtensions } from \"./webgl/WebGLExtensions\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Sphere } from \"../math/Sphere\";\nimport { WebGLClipping } from \"./webgl/WebGLClipping\";\nimport { Frustum } from \"../math/Frustum\";\nimport { Vector4 } from \"../math/Vector4\";\nimport { Color } from \"../math/Color\";\nimport { Object3D } from \"../core/Object3D\";\nimport { Camera } from \"../cameras/Camera\";\nimport { Light } from \"../lights/Light\";\nimport { AmbientLight } from \"../lights/AmbientLight\";\nimport { DirectionalLight } from \"../lights/DirectionalLight\";\nimport { HemisphereLight } from \"../lights/HemisphereLight\";\nimport { PointLight } from \"../lights/PointLight\";\nimport { SpotLight } from \"../lights/SpotLight\";\nimport { Sprite } from \"../objects/Sprite\";\nimport { LensFlare } from \"../objects/LensFlare\";\nimport { ImmediateRenderObject } from \"../extras/objects/ImmediateRenderObject\";\nimport { SkinnedMesh } from \"../objects/SkinnedMesh\";\nimport { Line } from \"../objects/Line\";\nimport { LineSegments } from \"../objects/LineSegments\";\nimport { Points } from \"../objects/Points\";\nimport { Material } from \"../materials/Material\";\nimport { MultiMaterial } from \"../materials/MultiMaterial\";\nimport { WebGLRenderTarget } from \"./WebGLRenderTarget\";\nimport { WebGLRenderTargetCube } from \"./WebGLRenderTargetCube\";\nimport { Scene } from \"../scenes/Scene\";\nimport { Fog } from \"../scenes/Fog\";\nimport { FogExp2 } from \"../scenes/FogExp2\";\nimport { Texture } from \"../textures/Texture\";\nimport { CubeTexture } from \"../textures/CubeTexture\";\nimport { InstancedBufferGeometry } from \"../core/InstancedBufferGeometry\";\nimport { InstancedBufferAttribute } from \"../core/InstancedBufferAttribute\";\nimport { InterleavedBufferAttribute } from \"../core/InterleavedBufferAttribute\";\nimport { InstancedInterleavedBuffer } from \"../core/InstancedInterleavedBuffer\";\ninterface RenderItem {\n  id: number;\n  object: Object3D;\n  geometry: BufferGeometry;\n  material: Material;\n  z: number;\n  group: BufferGeometryGroup;\n}\nexport interface WebGLRendererParameters {\n  canvas?: HTMLCanvasElement;\n  context?: WebGLRenderingContext;\n  alpha?: boolean;\n  depth?: boolean;\n  stencil?: boolean;\n  antialias?: boolean;\n  premultipliedAlpha?: boolean;\n  preserveDrawingBuffer?: boolean;\n  precision?: string;\n  logarithmicDepthBuffer?: boolean;\n}\nexport class WebGLRenderer {\n  _canvas: HTMLCanvasElement;\n  _context: WebGLRenderingContext;\n  _alpha: boolean;\n  _depth: boolean;\n  _stencil: boolean;\n  _antialias: boolean;\n  _premultipliedAlpha: boolean;\n  _preserveDrawingBuffer: boolean;\n  lights: Light[] = [];\n  opaqueObjects: RenderItem[] = [];\n  opaqueObjectsLastIndex: number = - 1;\n  transparentObjects: RenderItem[] = [];\n  transparentObjectsLastIndex: number = - 1;\n  morphInfluences = new Float32Array(8);\n  sprites: Sprite[] = [];\n  lensFlares: LensFlare[] = [];\n  // public properties\n  domElement: HTMLCanvasElement; // = this._canvas;\n  context: WebGLRenderingContext = null;\n  // clearing\n  autoClear: boolean = true;\n  autoClearColor: boolean = true;\n  autoClearDepth: boolean = true;\n  autoClearStencil: boolean = true;\n  // scene graph\n  sortObjects: boolean = true;\n  // user-defined clipping\n  clippingPlanes: Plane[] = [];\n  localClippingEnabled: boolean = false;\n  // physically based shading\n  gammaFactor: number = 2.0;  // for backwards compatibility\n  gammaInput: boolean = false;\n  gammaOutput: boolean = false;\n  // physical lights\n  physicallyCorrectLights: boolean = false;\n  // tone mapping\n  toneMapping: ToneMapping = ToneMapping.Linear;\n  toneMappingExposure: number = 1.0;\n  toneMappingWhitePoint: number = 1.0;\n  // morphs\n  maxMorphTargets: number = 8;\n  maxMorphNormals: number = 4;\n  // internal state cache\n  _currentProgram: number = null;\n  _currentRenderTarget: WebGLRenderTarget = null;\n  _currentFramebuffer: WebGLFramebuffer = null;\n  _currentMaterialId: number = - 1;\n  _currentGeometryProgram: string = '';\n  _currentCamera: Camera = null;\n  _currentScissor: Vector4 = new Vector4();\n  _currentScissorTest: boolean = null;\n  _currentViewport: Vector4 = new Vector4();\n  //\n  _usedTextureUnits: number = 0;\n  //\n  _clearColor: Color = new Color(0x000000);\n  _clearAlpha: number = 0;\n  _width: number; // = this._canvas.width;\n  _height: number; // = this._canvas.height;\n  _pixelRatio: number = 1;\n  _scissor: Vector4; // = new Vector4(0, 0, this._width, this._height);\n  _scissorTest: boolean = false;\n  _viewport: Vector4; // = new Vector4(0, 0, this._width, this._height);\n  // frustum\n  _frustum: Frustum = new Frustum();\n  // clipping\n  _clipping: WebGLClipping = new WebGLClipping();\n  _clippingEnabled: boolean = false;\n  _localClippingEnabled: boolean = false;\n  _sphere: Sphere = new Sphere();\n  // camera matrices cache\n  _projScreenMatrix: Matrix4 = new Matrix4();\n  _vector3: Vector3 = new Vector3();\n  // light arrays cache\n  _lights = {\n    hash: '',\n    ambient: [0, 0, 0],\n    directional: [],\n    directionalShadowMap: [],\n    directionalShadowMatrix: [],\n    spot: [],\n    spotShadowMap: [],\n    spotShadowMatrix: [],\n    point: [],\n    pointShadowMap: [],\n    pointShadowMatrix: [],\n    hemi: [],\n    shadows: []\n  };\n  // info\n  info = {\n    render: {\n      calls: 0,\n      vertices: 0,\n      faces: 0,\n      points: 0\n    },\n    memory: {\n      geometries: 0,\n      textures: 0\n    },\n    programs: null\n  };\n  _infoRender = this.info.render;\n  _gl: WebGLRenderingContext;\n  extensions: WebGLExtensions;\n  capabilities: WebGLCapabilities;\n  state: WebGLState;\n  properties: WebGLProperties;\n  textures: WebGLTextures;\n  objects: WebGLObjects;\n  programCache: WebGLPrograms;\n  lightCache: WebGLLights;\n  bufferRenderer: WebGLBufferRenderer;\n  indexedBufferRenderer: WebGLIndexedBufferRenderer;\n  //\n  backgroundCamera: OrthographicCamera;\n  backgroundCamera2: PerspectiveCamera;\n  backgroundPlaneMesh: Mesh;\n  backgroundBoxShader: any;\n  backgroundBoxMesh: Mesh;\n  // shadow map\n  shadowMap: WebGLShadowMap;\n  // Plugins\n  spritePlugin: SpritePlugin;\n  lensFlarePlugin: LensFlarePlugin;\n  constructor(parameters?: WebGLRendererParameters) {\n    console.log('THREE.WebGLRenderer', REVISION);\n    parameters = parameters || {};\n    this._canvas = parameters.canvas !== undefined ? parameters.canvas : <HTMLCanvasElement> document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n    this._context = parameters.context !== undefined ? parameters.context : null;\n    this._alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n    this._depth = parameters.depth !== undefined ? parameters.depth : true,\n    this._stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n    this._antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n    this._premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n    this._preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false;\n    this.domElement = this._canvas;\n    this._width = this._canvas.width;\n    this._height = this._canvas.height;\n    this._scissor = new Vector4(0, 0, this._width, this._height);\n    this._viewport = new Vector4(0, 0, this._width, this._height);\n    // initialize\n    ///let _gl;\n    try {\n      const attributes = {\n        alpha: this._alpha,\n        depth: this._depth,\n        stencil: this._stencil,\n        antialias: this._antialias,\n        premultipliedAlpha: this._premultipliedAlpha,\n        preserveDrawingBuffer: this._preserveDrawingBuffer\n      };\n      this._gl = <WebGLRenderingContext>(this._context || this._canvas.getContext('webgl', attributes) || this._canvas.getContext('experimental-webgl', attributes));\n      if (this._gl === null) {\n        if (this._canvas.getContext('webgl') !== null) {\n          throw 'Error creating WebGL context with your selected attributes.';\n        } else {\n          throw 'Error creating WebGL context.';\n        }\n      }\n      // Some experimental-webgl implementations do not have getShaderPrecisionFormat\n      if (this._gl.getShaderPrecisionFormat === undefined) {\n        this._gl.getShaderPrecisionFormat = function () {\n          return { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n        };\n      }\n      this._canvas.addEventListener('webglcontextlost', this.onContextLost.bind(this), false);\n    } catch (error) {\n      console.error('THREE.WebGLRenderer: ' + error);\n    }\n    this.extensions = new WebGLExtensions(this._gl);\n    this.extensions.get('WEBGL_depth_texture');\n    this.extensions.get('OES_texture_float');\n    this.extensions.get('OES_texture_float_linear');\n    this.extensions.get('OES_texture_half_float');\n    this.extensions.get('OES_texture_half_float_linear');\n    this.extensions.get('OES_standard_derivatives');\n    this.extensions.get('ANGLE_instanced_arrays');\n    if (this.extensions.get('OES_element_index_uint')) {\n      BufferGeometry.MaxIndex = 4294967296;\n    }\n    this.capabilities = new WebGLCapabilities(this._gl, this.extensions, parameters);\n    this.state = new WebGLState(this._gl, this.extensions, this.paramThreeToGL.bind(this));\n    this.properties = new WebGLProperties();\n    this.textures = new WebGLTextures(this._gl, this.extensions, this.state, this.properties, this.capabilities, this.paramThreeToGL.bind(this), this.info);\n    this.objects = new WebGLObjects(this._gl, this.properties, this.info);\n    this.programCache = new WebGLPrograms(this, this.capabilities);\n    this.lightCache = new WebGLLights();\n    this.info.programs = this.programCache.programs;\n    this.bufferRenderer = new WebGLBufferRenderer(this._gl, this.extensions, this._infoRender);\n    this.indexedBufferRenderer = new WebGLIndexedBufferRenderer(this._gl, this.extensions, this._infoRender);\n    //\n    this.backgroundCamera = new OrthographicCamera(- 1, 1, 1, - 1, 0, 1);\n    this.backgroundCamera2 = new PerspectiveCamera();\n    this.backgroundPlaneMesh = new Mesh(\n      new PlaneBufferGeometry(2, 2),\n      new MeshBasicMaterial({ depthTest: false, depthWrite: false, fog: false })\n    );\n    this.backgroundBoxShader = ShaderLib['cube'];\n    this.backgroundBoxMesh = new Mesh(\n      new BoxBufferGeometry(5, 5, 5),\n      new ShaderMaterial({\n        uniforms: this.backgroundBoxShader.uniforms,\n        vertexShader: this.backgroundBoxShader.vertexShader,\n        fragmentShader: this.backgroundBoxShader.fragmentShader,\n        side: SideMode.Back,\n        depthTest: false,\n        depthWrite: false,\n        fog: false\n      })\n    );\n    this.setDefaultGLState();\n    this.context = this._gl;\n    // shadow map\n    this.shadowMap = new WebGLShadowMap(this, this._lights, this.objects, this.capabilities);\n    // Plugins\n    this.spritePlugin = new SpritePlugin(this, this.sprites);\n    this.lensFlarePlugin = new LensFlarePlugin(this, this.lensFlares);\n  }\n  getTargetPixelRatio(): number {\n    return this._currentRenderTarget === null ? this._pixelRatio : 1;\n  }\n  glClearColor(r: number, g: number, b: number, a: number): void {\n    if (this._premultipliedAlpha === true) {\n      r *= a; g *= a; b *= a;\n    }\n    this.state.clearColor(r, g, b, a);\n  }\n  setDefaultGLState(): void {\n    this.state.init();\n    this.state.scissor(this._currentScissor.copy(this._scissor).multiplyScalar(this._pixelRatio));\n    this.state.viewport(this._currentViewport.copy(this._viewport).multiplyScalar(this._pixelRatio));\n    this.glClearColor(this._clearColor.r, this._clearColor.g, this._clearColor.b, this._clearAlpha);\n  }\n  resetGLState(): void {\n    this._currentProgram = null;\n    this._currentCamera = null;\n    this._currentGeometryProgram = '';\n    this._currentMaterialId = - 1;\n    this.state.reset();\n  }\n  // API\n  getContext(): WebGLRenderingContext {\n    return this._gl;\n  }\n  getContextAttributes(): WebGLContextAttributes {\n    return this._gl.getContextAttributes();\n  }\n  forceContextLoss(): void {\n    this.extensions.get('WEBGL_lose_context').loseContext();\n  }\n  getMaxAnisotropy(): number {\n    return this.capabilities.getMaxAnisotropy();\n  }\n  getPrecision(): string {\n    return this.capabilities.precision;\n  }\n  getPixelRatio(): number {\n    return this._pixelRatio;\n  }\n  setPixelRatio(value: number): void {\n    if (value === undefined) return;\n    this._pixelRatio = value;\n    this.setSize(this._viewport.z, this._viewport.w, false);\n  }\n  getSize(): { width: number, height: number } {\n    return {\n      width: this._width,\n      height: this._height\n    };\n  }\n  setSize(width: number, height: number, updateStyle?: boolean): void {\n    this._width = width;\n    this._height = height;\n    this._canvas.width = width * this._pixelRatio;\n    this._canvas.height = height * this._pixelRatio;\n    if (updateStyle !== false) {\n      this._canvas.style.width = width + 'px';\n      this._canvas.style.height = height + 'px';\n    }\n    this.setViewport(0, 0, width, height);\n  }\n  setViewport(x: number, y: number, width: number, height: number): void {\n    this.state.viewport(this._viewport.set(x, y, width, height));\n  }\n  setScissor(x: number, y: number, width: number, height: number): void {\n    this.state.scissor(this._scissor.set(x, y, width, height));\n  }\n  setScissorTest(test: boolean): void {\n    this.state.setScissorTest(this._scissorTest = test);\n  }\n  // Clearing\n  getClearColor(): Color {\n    return this._clearColor;\n  }\n  setClearColor(color: Color | number | string, alpha: number = 1): void {\n    this._clearColor.set(color);\n    this._clearAlpha = alpha;\n    this.glClearColor(this._clearColor.r, this._clearColor.g, this._clearColor.b, this._clearAlpha);\n  }\n  getClearAlpha(): number {\n    return this._clearAlpha;\n  }\n  setClearAlpha(alpha: number): void {\n    this._clearAlpha = alpha;\n    this.glClearColor(this._clearColor.r, this._clearColor.g, this._clearColor.b, this._clearAlpha);\n  }\n  clear(color: boolean, depth: boolean, stencil: boolean): void {\n    let bits = 0;\n    if (color === undefined || color) bits |= this._gl.COLOR_BUFFER_BIT;\n    if (depth === undefined || depth) bits |= this._gl.DEPTH_BUFFER_BIT;\n    if (stencil === undefined || stencil) bits |= this._gl.STENCIL_BUFFER_BIT;\n    this._gl.clear(bits);\n  }\n  clearColor(): void {\n    this.clear(true, false, false);\n  }\n  clearDepth(): void {\n    this.clear(false, true, false);\n  }\n  clearStencil(): void {\n    this.clear(false, false, true);\n  }\n  clearTarget(renderTarget: WebGLRenderTarget, color: boolean, depth: boolean, stencil: boolean): void {\n    this.setRenderTarget(renderTarget);\n    this.clear(color, depth, stencil);\n  }\n  // Reset\n  ///this.resetGLState = resetGLState;\n  dispose(): void {\n    this.transparentObjects = [];\n    this.transparentObjectsLastIndex = -1;\n    this.opaqueObjects = [];\n    this.opaqueObjectsLastIndex = -1;\n    this._canvas.removeEventListener('webglcontextlost', this.onContextLost.bind(this), false);\n  }\n  // Events\n  onContextLost(event: WebGLContextEvent): void {\n    event.preventDefault();\n    this.resetGLState();\n    this.setDefaultGLState();\n    this.properties.clear();\n  }\n  onMaterialDispose(event: any): void {\n    const material = event.target;\n    material.removeEventListener('dispose', this.onMaterialDispose.bind(this));\n    this.deallocateMaterial(material);\n  }\n  // Buffer deallocation\n  deallocateMaterial(material: Material): void {\n    this.releaseMaterialProgramReference(material);\n    this.properties.delete(material);\n  }\n  releaseMaterialProgramReference(material: Material): void {\n    const programInfo = this.properties.get(material).program;\n    material.program = undefined;\n    if (programInfo !== undefined) {\n      this.programCache.releaseProgram(programInfo);\n    }\n  }\n  // Buffer rendering\n  renderBufferImmediate(object: Object3D, program: WebGLProgram, material: Material): void {\n    this.state.initAttributes();\n    const buffers = this.properties.get(object);\n    if (object.hasPositions && ! buffers.position) buffers.position = this._gl.createBuffer();\n    if (object.hasNormals && ! buffers.normal) buffers.normal = this._gl.createBuffer();\n    if (object.hasUvs && ! buffers.uv) buffers.uv = this._gl.createBuffer();\n    if (object.hasColors && ! buffers.color) buffers.color = this._gl.createBuffer();\n    const attributes = program.getAttributes();\n    if (object.hasPositions) {\n      this._gl.bindBuffer(this._gl.ARRAY_BUFFER, buffers.position);\n      this._gl.bufferData(this._gl.ARRAY_BUFFER, object.positionArray, this._gl.DYNAMIC_DRAW);\n      this.state.enableAttribute(attributes.position);\n      this._gl.vertexAttribPointer(attributes.position, 3, this._gl.FLOAT, false, 0, 0);\n    }\n    if (object.hasNormals) {\n      this._gl.bindBuffer(this._gl.ARRAY_BUFFER, buffers.normal);\n      if (! (material instanceof MeshPhongMaterial) && ! (material instanceof MeshStandardMaterial) && material.shading === ShadingMode.Flat) {\n        for (let i = 0, l = object.count * 3; i < l; i += 9) {\n          const array = object.normalArray;\n          const nx = (array[i + 0] + array[i + 3] + array[i + 6]) / 3;\n          const ny = (array[i + 1] + array[i + 4] + array[i + 7]) / 3;\n          const nz = (array[i + 2] + array[i + 5] + array[i + 8]) / 3;\n          array[i + 0] = nx;\n          array[i + 1] = ny;\n          array[i + 2] = nz;\n          array[i + 3] = nx;\n          array[i + 4] = ny;\n          array[i + 5] = nz;\n          array[i + 6] = nx;\n          array[i + 7] = ny;\n          array[i + 8] = nz;\n        }\n      }\n      this._gl.bufferData(this._gl.ARRAY_BUFFER, object.normalArray, this._gl.DYNAMIC_DRAW);\n      this.state.enableAttribute(attributes.normal);\n      this._gl.vertexAttribPointer(attributes.normal, 3, this._gl.FLOAT, false, 0, 0);\n    }\n    if (object.hasUvs && material.map) {\n      this._gl.bindBuffer(this._gl.ARRAY_BUFFER, buffers.uv);\n      this._gl.bufferData(this._gl.ARRAY_BUFFER, object.uvArray, this._gl.DYNAMIC_DRAW);\n      this.state.enableAttribute(attributes.uv);\n      this._gl.vertexAttribPointer(attributes.uv, 2, this._gl.FLOAT, false, 0, 0);\n    }\n    if (object.hasColors && material.vertexColors !== ColorsMode.None) {\n      this._gl.bindBuffer(this._gl.ARRAY_BUFFER, buffers.color);\n      this._gl.bufferData(this._gl.ARRAY_BUFFER, object.colorArray, this._gl.DYNAMIC_DRAW);\n      this.state.enableAttribute(attributes.color);\n      this._gl.vertexAttribPointer(attributes.color, 3, this._gl.FLOAT, false, 0, 0);\n    }\n    this.state.disableUnusedAttributes();\n    this._gl.drawArrays(this._gl.TRIANGLES, 0, object.count);\n    object.count = 0;\n  }\n  renderBufferDirect(camera: Camera, fog: Fog | FogExp2, geometry: BufferGeometry, material: Material, object: Object3D, group: BufferGeometryGroup): void {\n    const _gl: WebGLRenderingContext = this._gl;\n    this.setMaterial(material);\n    const program = this.setProgram(camera, fog, material, object);\n    let updateBuffers: boolean = false;\n    const geometryProgram: string = geometry.id + '_' + program.id + '_' + material.wireframe;\n    if (geometryProgram !== this._currentGeometryProgram) {\n      this._currentGeometryProgram = geometryProgram;\n      updateBuffers = true;\n    }\n    // morph targets\n    const morphTargetInfluences = object.morphTargetInfluences;\n    if (morphTargetInfluences !== undefined) {\n      const activeInfluences = [];\n      for (let i = 0, l = morphTargetInfluences.length; i < l; i ++) {\n        const influence = morphTargetInfluences[i];\n        activeInfluences.push([ influence, i ]);\n      }\n      activeInfluences.sort(WebGLRenderer.absNumericalSort);\n      if (activeInfluences.length > 8) {\n        activeInfluences.length = 8;\n      }\n      const morphAttributes = geometry.morphAttributes;\n      for (let i = 0, l = activeInfluences.length; i < l; i ++) {\n        const influence = activeInfluences[i];\n        this.morphInfluences[i] = influence[0];\n        if (influence[0] !== 0) {\n          const index = influence[1];\n          if (material.morphTargets === true && morphAttributes.position) geometry.addAttribute('morphTarget' + i, morphAttributes.position[index]);\n          if (material.morphNormals === true && morphAttributes.normal) geometry.addAttribute('morphNormal' + i, morphAttributes.normal[index]);\n        } else {\n          if (material.morphTargets === true) geometry.removeAttribute('morphTarget' + i);\n          if (material.morphNormals === true) geometry.removeAttribute('morphNormal' + i);\n        }\n      }\n      for (let i = activeInfluences.length, il = this.morphInfluences.length; i < il; i ++) {\n        this.morphInfluences[i] = 0.0;\n      }\n      program.getUniforms().setValue(\n          this._gl, 'morphTargetInfluences', this.morphInfluences);\n      updateBuffers = true;\n    }\n    //\n    let index = geometry.index;\n    const position = geometry.attributes.position;\n    let rangeFactor = 1;\n    if (material.wireframe === true) {\n      index = this.objects.getWireframeAttribute(geometry);\n      rangeFactor = 2;\n    }\n    let renderer;\n    if (index !== null) {\n      renderer = this.indexedBufferRenderer;\n      renderer.setIndex(index);\n    } else {\n      renderer = this.bufferRenderer;\n    }\n    if (updateBuffers) {\n      this.setupVertexAttributes(material, program, geometry);\n      if (index !== null) {\n        this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER, this.objects.getAttributeBuffer(index));\n      }\n    }\n    //\n    let dataCount = 0;\n    if (index !== null) {\n      dataCount = index.count;\n    } else if (position !== undefined) {\n      dataCount = position.count;\n    }\n    const rangeStart = geometry.drawRange.start * rangeFactor;\n    const rangeCount = geometry.drawRange.count * rangeFactor;\n    const groupStart = group !== null ? group.start * rangeFactor : 0;\n    const groupCount = group !== null ? group.count * rangeFactor : Infinity;\n    const drawStart = Math.max(rangeStart, groupStart);\n    const drawEnd = Math.min(dataCount, rangeStart + rangeCount, groupStart + groupCount) - 1;\n    const drawCount = Math.max(0, drawEnd - drawStart + 1);\n    if (drawCount === 0) return;\n    //\n    if (object instanceof Mesh) {\n      if (material.wireframe === true) {\n        this.state.setLineWidth(material.wireframeLinewidth * this.getTargetPixelRatio());\n        renderer.setMode(_gl.LINES);\n      } else {\n        switch (object.drawMode) {\n          case DrawMode.Triangles:\n            renderer.setMode(_gl.TRIANGLES);\n            break;\n          case DrawMode.TriangleStrip:\n            renderer.setMode(_gl.TRIANGLE_STRIP);\n            break;\n          case DrawMode.TriangleFan:\n            renderer.setMode(_gl.TRIANGLE_FAN);\n            break;\n        }\n      }\n    } else if (object instanceof Line) {\n      let lineWidth = material.linewidth;\n      if (lineWidth === undefined) lineWidth = 1; // Not using Line*Material\n      this.state.setLineWidth(lineWidth * this.getTargetPixelRatio());\n      if (object instanceof LineSegments) {\n        renderer.setMode(_gl.LINES);\n      } else {\n        renderer.setMode(_gl.LINE_STRIP);\n      }\n    } else if (object instanceof Points) {\n      renderer.setMode(_gl.POINTS);\n    }\n    if (geometry && geometry instanceof InstancedBufferGeometry) {\n      if (geometry.maxInstancedCount > 0) {\n        (renderer as WebGLIndexedBufferRenderer).renderInstances(geometry, drawStart, drawCount);\n      }\n    } else {\n      renderer.render(drawStart, drawCount);\n    }\n  }\n  setupVertexAttributes(material: Material, program: WebGLProgram, geometry: BufferGeometry, startIndex: number = 0) {\n    const _gl: WebGLRenderingContext = this._gl;\n    let extension;\n    if (geometry && geometry instanceof InstancedBufferGeometry) {\n      extension = this.extensions.get('ANGLE_instanced_arrays');\n      if (extension === null) {\n        console.error('THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n        return;\n      }\n    }\n    this.state.initAttributes();\n    const geometryAttributes = geometry.attributes;\n    const programAttributes = program.getAttributes();\n    const materialDefaultAttributeValues = material.defaultAttributeValues;\n    for (let name in programAttributes) {\n      const programAttribute = programAttributes[name];\n      if (programAttribute >= 0) {\n        const geometryAttribute = geometryAttributes[name];\n        if (geometryAttribute !== undefined) {\n          let type = _gl.FLOAT;\n          const array = geometryAttribute.array;\n          const normalized = geometryAttribute.normalized;\n          if (array instanceof Float32Array) {\n            type = _gl.FLOAT;\n          } else if (array instanceof Float64Array) {\n            console.warn(\"Unsupported data buffer format: Float64Array\");\n          } else if (array instanceof Uint16Array) {\n            type = _gl.UNSIGNED_SHORT;\n          } else if (array instanceof Int16Array) {\n            type = _gl.SHORT;\n          } else if (array instanceof Uint32Array) {\n            type = _gl.UNSIGNED_INT;\n          } else if (array instanceof Int32Array) {\n            type = _gl.INT;\n          } else if (array instanceof Int8Array) {\n            type = _gl.BYTE;\n          } else if (array instanceof Uint8Array) {\n            type = _gl.UNSIGNED_BYTE;\n          }\n          const size = geometryAttribute.itemSize;\n          const buffer = this.objects.getAttributeBuffer(geometryAttribute);\n          if (geometryAttribute instanceof InterleavedBufferAttribute) {\n            const data = geometryAttribute.data;\n            const stride = data.stride;\n            const offset = geometryAttribute.offset;\n            if (data && data instanceof InstancedInterleavedBuffer) {\n              this.state.enableAttributeAndDivisor(programAttribute, data.meshPerAttribute, extension);\n              if (geometry.maxInstancedCount === undefined) {\n                geometry.maxInstancedCount = data.meshPerAttribute * data.count;\n              }\n            } else {\n              this.state.enableAttribute(programAttribute);\n            }\n            _gl.bindBuffer(_gl.ARRAY_BUFFER, buffer);\n            _gl.vertexAttribPointer(programAttribute, size, type, normalized, stride * data.array.BYTES_PER_ELEMENT, (startIndex * stride + offset) * data.array.BYTES_PER_ELEMENT);\n          } else {\n            if (geometryAttribute instanceof InstancedBufferAttribute) {\n              this.state.enableAttributeAndDivisor(programAttribute, geometryAttribute.meshPerAttribute, extension);\n              if (geometry.maxInstancedCount === undefined) {\n                geometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n              }\n            } else {\n              this.state.enableAttribute(programAttribute);\n            }\n            _gl.bindBuffer(_gl.ARRAY_BUFFER, buffer);\n            _gl.vertexAttribPointer(programAttribute, size, type, normalized, 0, startIndex * size * geometryAttribute.array.BYTES_PER_ELEMENT);\n          }\n        } else if (materialDefaultAttributeValues !== undefined) {\n          const value = materialDefaultAttributeValues[name];\n          if (value !== undefined) {\n            switch (value.length) {\n              case 2:\n                _gl.vertexAttrib2fv(programAttribute, value);\n                break;\n              case 3:\n                _gl.vertexAttrib3fv(programAttribute, value);\n                break;\n              case 4:\n                _gl.vertexAttrib4fv(programAttribute, value);\n                break;\n              default:\n                _gl.vertexAttrib1fv(programAttribute, value);\n            }\n          }\n        }\n      }\n    }\n    this.state.disableUnusedAttributes();\n  }\n  // Sorting\n  static absNumericalSort(a: number[], b: number[]): number {\n    return Math.abs(b[0]) - Math.abs(a[0]);\n  }\n  static painterSortStable(a: RenderItem, b: RenderItem): number {\n    if (a.object.renderOrder !== b.object.renderOrder) {\n      return a.object.renderOrder - b.object.renderOrder;\n    } else if (a.material.program && b.material.program && a.material.program !== b.material.program) {\n      return a.material.program.id - b.material.program.id;\n    } else if (a.material.id !== b.material.id) {\n      return a.material.id - b.material.id;\n    } else if (a.z !== b.z) {\n      return a.z - b.z;\n    } else {\n      return a.id - b.id;\n    }\n  }\n  static reversePainterSortStable(a: RenderItem, b: RenderItem): number {\n    if (a.object.renderOrder !== b.object.renderOrder) {\n      return a.object.renderOrder - b.object.renderOrder;\n    } if (a.z !== b.z) {\n      return b.z - a.z;\n    } else {\n      return a.id - b.id;\n    }\n  }\n  // Rendering\n  render(scene: Scene, camera: Camera, renderTarget?: WebGLRenderTarget, forceClear?: boolean): void {\n    if (camera !== undefined && camera instanceof Camera !== true) {\n      console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');\n      return;\n    }\n    // reset caching for this frame\n    this._currentGeometryProgram = '';\n    this._currentMaterialId = - 1;\n    this._currentCamera = null;\n    // update scene graph\n    if (scene.autoUpdate === true) scene.updateMatrixWorld();\n    // update camera matrices and frustum\n    if (camera.parent === null) camera.updateMatrixWorld();\n    camera.matrixWorldInverse.getInverse(camera.matrixWorld);\n    this._projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n    this._frustum.setFromMatrix(this._projScreenMatrix);\n    this.lights.length = 0;\n    this.opaqueObjectsLastIndex = - 1;\n    this.transparentObjectsLastIndex = - 1;\n    this.sprites.length = 0;\n    this.lensFlares.length = 0;\n    this._localClippingEnabled = this.localClippingEnabled;\n    this._clippingEnabled = this._clipping.init(this.clippingPlanes, this._localClippingEnabled, camera);\n    this.projectObject(scene, camera);\n    this.opaqueObjects.length = this.opaqueObjectsLastIndex + 1;\n    this.transparentObjects.length = this.transparentObjectsLastIndex + 1;\n    if (this.sortObjects === true) {\n      this.opaqueObjects.sort(WebGLRenderer.painterSortStable);\n      this.transparentObjects.sort(WebGLRenderer.reversePainterSortStable);\n    }\n    //\n    if (this._clippingEnabled) this._clipping.beginShadows();\n    this.setupShadows(this.lights);\n    this.shadowMap.render(scene, camera);\n    this.setupLights(this.lights, camera);\n    if (this._clippingEnabled) this._clipping.endShadows();\n    //\n    this._infoRender.calls = 0;\n    this._infoRender.vertices = 0;\n    this._infoRender.faces = 0;\n    this._infoRender.points = 0;\n    if (renderTarget === undefined) {\n      renderTarget = null;\n    }\n    this.setRenderTarget(renderTarget);\n    //\n    const background = scene.background;\n    if (background === null) {\n      this.glClearColor(this._clearColor.r, this._clearColor.g, this._clearColor.b, this._clearAlpha);\n    } else if (background && background instanceof Color) {\n      this.glClearColor(background.r, background.g, background.b, 1);\n      forceClear = true;\n    }\n    if (this.autoClear || forceClear) {\n      this.clear(this.autoClearColor, this.autoClearDepth, this.autoClearStencil);\n    }\n    if (background && background instanceof CubeTexture) {\n      this.backgroundCamera2.projectionMatrix.copy(camera.projectionMatrix);\n      this.backgroundCamera2.matrixWorld.extractRotation(camera.matrixWorld);\n      this.backgroundCamera2.matrixWorldInverse.getInverse(this.backgroundCamera2.matrixWorld);\n      (this.backgroundBoxMesh.material as ShaderMaterial).uniforms[\"tCube\"].value = background;\n      this.backgroundBoxMesh.modelViewMatrix.multiplyMatrices(this.backgroundCamera2.matrixWorldInverse, this.backgroundBoxMesh.matrixWorld);\n      this.objects.update(this.backgroundBoxMesh);\n      this.renderBufferDirect(this.backgroundCamera2, null, this.backgroundBoxMesh.geometry as BufferGeometry, this.backgroundBoxMesh.material as Material, this.backgroundBoxMesh, null);\n    } else if (background && background instanceof Texture) {\n      this.backgroundPlaneMesh.material.map = background;\n      this.objects.update(this.backgroundPlaneMesh);\n      this.renderBufferDirect(this.backgroundCamera, null, this.backgroundPlaneMesh.geometry as BufferGeometry, this.backgroundPlaneMesh.material as Material, this.backgroundPlaneMesh, null);\n    }\n    //\n    if (scene.overrideMaterial) {\n      const overrideMaterial = scene.overrideMaterial;\n      this.renderObjects(this.opaqueObjects, camera, scene, overrideMaterial);\n      this.renderObjects(this.transparentObjects, camera, scene, overrideMaterial);\n    } else {\n      // opaque pass (front-to-back order)\n      this.state.setBlending(BlendingMode.None);\n      this.renderObjects(this.opaqueObjects, camera, scene);\n      // transparent pass (back-to-front order)\n      this.renderObjects(this.transparentObjects, camera, scene);\n    }\n    // custom render plugins (post pass)\n    this.spritePlugin.render(scene, camera);\n    this.lensFlarePlugin.render(scene, camera, this._currentViewport);\n    // Generate mipmap if we're using any kind of mipmap filtering\n    if (renderTarget) {\n      this.textures.updateRenderTargetMipmap(renderTarget);\n    }\n    // Ensure depth buffer writing is enabled so it can be cleared on next render\n    this.state.setDepthTest(true);\n    this.state.setDepthWrite(true);\n    this.state.setColorWrite(true);\n    // _gl.finish();\n  }\n  pushRenderItem(object: Object3D, geometry: BufferGeometry, material: Material, z: number, group: BufferGeometryGroup): void {\n    let array, index;\n    // allocate the next position in the appropriate array\n    if (material.transparent) {\n      array = this.transparentObjects;\n      index = ++ this.transparentObjectsLastIndex;\n    } else {\n      array = this.opaqueObjects;\n      index = ++ this.opaqueObjectsLastIndex;\n    }\n    // recycle existing render item or grow the array\n    let renderItem: RenderItem = array[index];\n    if (renderItem !== undefined) {\n      renderItem.id = object.id;\n      renderItem.object = object;\n      renderItem.geometry = geometry;\n      renderItem.material = material;\n      renderItem.z = this._vector3.z;\n      renderItem.group = group;\n    } else {\n      renderItem = {\n        id: object.id,\n        object: object,\n        geometry: geometry,\n        material: material,\n        z: this._vector3.z,\n        group: group\n      };\n      // assert(index === array.length);\n      array.push(renderItem);\n    }\n  }\n  // TODO Duplicated code (Frustum)\n  isObjectViewable(object: Object3D): boolean {\n    const geometry = object.geometry;\n    if (geometry.boundingSphere === null)\n      geometry.computeBoundingSphere();\n    this._sphere.copy(geometry.boundingSphere).\n      applyMatrix4(object.matrixWorld);\n    return this.isSphereViewable(this._sphere);\n  }\n  isSpriteViewable(sprite: Sprite): boolean {\n    this._sphere.center.set(0, 0, 0);\n    this._sphere.radius = 0.7071067811865476;\n    this._sphere.applyMatrix4(sprite.matrixWorld);\n    return this.isSphereViewable(this._sphere);\n  }\n  isSphereViewable(sphere: Sphere): boolean {\n    if (! this._frustum.intersectsSphere(sphere)) return false;\n    const numPlanes = this._clipping.numPlanes;\n    if (numPlanes === 0) return true;\n    const planes = this.clippingPlanes;\n    const center = sphere.center;\n    const negRad = - sphere.radius;\n    let i = 0;\n    do {\n      // out when deeper than radius in the negative halfspace\n      if (planes[i].distanceToPoint(center) < negRad) return false;\n    } while (++ i !== numPlanes);\n    return true;\n  }\n  projectObject(object: Object3D, camera: Camera): void {\n    if (object.visible === false) return;\n    const visible = (object.layers.mask & camera.layers.mask) !== 0;\n    if (visible) {\n      if (object instanceof Light) {\n        this.lights.push(object);\n      } else if (object instanceof Sprite) {\n        if (object.frustumCulled === false || this.isSpriteViewable(object) === true) {\n          this.sprites.push(object);\n        }\n      } else if (object instanceof LensFlare) {\n        this.lensFlares.push(object);\n      } else if (object instanceof ImmediateRenderObject) {\n        if (this.sortObjects === true) {\n          this._vector3.setFromMatrixPosition(object.matrixWorld);\n          this._vector3.applyProjection(this._projScreenMatrix);\n        }\n        this.pushRenderItem(object, null, object.material as Material, this._vector3.z, null);\n      } else if (object instanceof Mesh || object instanceof Line || object instanceof Points) {\n        if (object instanceof SkinnedMesh) {\n          object.skeleton.update();\n        }\n        if (object.frustumCulled === false || this.isObjectViewable(object) === true) {\n          const material = object.material;\n          if (material.visible === true) {\n            if (this.sortObjects === true) {\n              this._vector3.setFromMatrixPosition(object.matrixWorld);\n              this._vector3.applyProjection(this._projScreenMatrix);\n            }\n            const geometry: BufferGeometry = this.objects.update(object);\n            if (material instanceof MultiMaterial) {\n              const groups = geometry.groups;\n              const materials = material.materials;\n              for (let i = 0, l = groups.length; i < l; i ++) {\n                const group = groups[i];\n                const groupMaterial = materials[group.materialIndex];\n                if (!groupMaterial) continue; /// HACK\n                if (groupMaterial.visible === true) {\n                  this.pushRenderItem(object, geometry, groupMaterial, this._vector3.z, group);\n                }\n              }\n            } else {\n              this.pushRenderItem(object, geometry, material, this._vector3.z, null);\n            }\n          }\n        }\n      }\n    }\n    const children = object.children;\n    for (let i = 0, l = children.length; i < l; i ++) {\n      this.projectObject(children[i], camera);\n    }\n  }\n  renderObjects(renderList: RenderItem[], camera: Camera, scene: Scene, overrideMaterial?: Material): void {\n    for (let i = 0, l = renderList.length; i < l; i ++) {\n      const renderItem = renderList[i];\n      const object = renderItem.object;\n      const geometry = renderItem.geometry;\n      const material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n      const group = renderItem.group;\n      object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, object.matrixWorld);\n      object.normalMatrix.getNormalMatrix(object.modelViewMatrix);\n      object.onBeforeRender(this, scene, camera, geometry, material, group);\n      if (object instanceof ImmediateRenderObject) {\n        this.setMaterial(material);\n        const program = this.setProgram(camera, scene.fog, material, object);\n        this._currentGeometryProgram = '';\n        const that = this;\n        object.render(function(object: Object3D): void {\n          that.renderBufferImmediate(object, program, material);\n        });\n      } else {\n        this.renderBufferDirect(camera, scene.fog, geometry, material, object, group);\n      }\n      object.onAfterRender(this, scene, camera, geometry, material, group);\n    }\n  }\n  initMaterial(material: ShaderMaterial, fog: Fog | FogExp2, object: Object3D): void {\n    const materialProperties = this.properties.get(material);\n    const parameters = this.programCache.getParameters(\n        material, this._lights, fog, this._clipping.numPlanes, this._clipping.numIntersection, object);\n    const code = this.programCache.getProgramCode(material, parameters);\n    let program = materialProperties.program;\n    let programChange = true;\n    if (program === undefined) {\n      // new material\n      material.addEventListener('dispose', this.onMaterialDispose.bind(this));\n    } else if (program.code !== code) {\n      // changed glsl or parameters\n      this.releaseMaterialProgramReference(material);\n    } else if (parameters.shaderID !== undefined) {\n      // same glsl and uniform list\n      return;\n    } else {\n      // only rebuild uniform list\n      programChange = false;\n    }\n    if (programChange) {\n      if (parameters.shaderID) {\n        const shader = ShaderLib[parameters.shaderID];\n        materialProperties.__webglShader = {\n          name: material.type,\n          uniforms: UniformsUtils.clone(shader.uniforms),\n          vertexShader: shader.vertexShader,\n          fragmentShader: shader.fragmentShader\n        };\n      } else {\n        materialProperties.__webglShader = {\n          name: material.type,\n          uniforms: material.uniforms,\n          vertexShader: material.vertexShader,\n          fragmentShader: material.fragmentShader\n        };\n      }\n      material.__webglShader = materialProperties.__webglShader;\n      program = this.programCache.acquireProgram(material, parameters, code);\n      materialProperties.program = program;\n      material.program = program;\n    }\n    const attributes = program.getAttributes();\n    if (material.morphTargets) {\n      material.numSupportedMorphTargets = 0;\n      for (let i = 0; i < this.maxMorphTargets; i ++) {\n        if (attributes['morphTarget' + i] >= 0) {\n          material.numSupportedMorphTargets ++;\n        }\n      }\n    }\n    if (material.morphNormals) {\n      material.numSupportedMorphNormals = 0;\n      for (let i = 0; i < this.maxMorphNormals; i ++) {\n        if (attributes['morphNormal' + i] >= 0) {\n          material.numSupportedMorphNormals ++;\n        }\n      }\n    }\n    const uniforms = materialProperties.__webglShader.uniforms;\n    if (! (material instanceof ShaderMaterial) &&\n         ! ((material as any) instanceof RawShaderMaterial) ||\n           material.clipping === true) {\n      materialProperties.numClippingPlanes = this._clipping.numPlanes;\n      materialProperties.numIntersection = this._clipping.numIntersection;\n      uniforms.clippingPlanes = this._clipping.uniform;\n    }\n    materialProperties.fog = fog;\n    // store the light setup it was created for\n    materialProperties.lightsHash = this._lights.hash;\n    if (material.lights) {\n      // wire up the material to this renderer's lighting state\n      uniforms.ambientLightColor.value = this._lights.ambient;\n      uniforms.directionalLights.value = this._lights.directional;\n      uniforms.spotLights.value = this._lights.spot;\n      uniforms.pointLights.value = this._lights.point;\n      uniforms.hemisphereLights.value = this._lights.hemi;\n      uniforms.directionalShadowMap.value = this._lights.directionalShadowMap;\n      uniforms.directionalShadowMatrix.value = this._lights.directionalShadowMatrix;\n      uniforms.spotShadowMap.value = this._lights.spotShadowMap;\n      uniforms.spotShadowMatrix.value = this._lights.spotShadowMatrix;\n      uniforms.pointShadowMap.value = this._lights.pointShadowMap;\n      uniforms.pointShadowMatrix.value = this._lights.pointShadowMatrix;\n    }\n    const progUniforms = materialProperties.program.getUniforms(),\n      uniformsList =\n          WebGLUniforms.seqWithValue(progUniforms.seq, uniforms);\n    materialProperties.uniformsList = uniformsList;\n  }\n  setMaterial(material: Material): void {\n    material.side === SideMode.Double\n      ? this.state.disable(this._gl.CULL_FACE)\n      : this.state.enable(this._gl.CULL_FACE);\n    this.state.setFlipSided(material.side === SideMode.Back);\n    material.transparent === true\n      ? this.state.setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha)\n      : this.state.setBlending(BlendingMode.None);\n    this.state.setDepthFunc(material.depthFunc);\n    this.state.setDepthTest(material.depthTest);\n    this.state.setDepthWrite(material.depthWrite);\n    this.state.setColorWrite(material.colorWrite);\n    this.state.setPolygonOffset(material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits);\n  }\n  setProgram(camera: Camera, fog: Fog | FogExp2, material: Material, object: Object3D): any {\n    this._usedTextureUnits = 0;\n    const materialProperties = this.properties.get(material);\n    if (this._clippingEnabled) {\n      if (this._localClippingEnabled || camera !== this._currentCamera) {\n        const useCache =\n            camera === this._currentCamera &&\n            material.id === this._currentMaterialId;\n        // we might want to call this function with some ClippingGroup\n        // object instead of the material, once it becomes feasible\n        // (#8465, #8379)\n        this._clipping.setState(\n            material.clippingPlanes, material.clipIntersection, material.clipShadows,\n            camera, materialProperties, useCache);\n      }\n    }\n    if (material.needsUpdate === false) {\n      if (materialProperties.program === undefined) {\n        material.needsUpdate = true;\n      } else if (material.fog && materialProperties.fog !== fog) {\n        material.needsUpdate = true;\n      } else if (material.lights && materialProperties.lightsHash !== this._lights.hash) {\n        material.needsUpdate = true;\n      } else if (materialProperties.numClippingPlanes !== undefined &&\n        (materialProperties.numClippingPlanes !== this._clipping.numPlanes ||\n           materialProperties.numIntersection  !== this._clipping.numIntersection)) {\n        material.needsUpdate = true;\n      }\n    }\n    if (material.needsUpdate) {\n      this.initMaterial(material as ShaderMaterial, fog, object);\n      material.needsUpdate = false;\n    }\n    let refreshProgram = false;\n    let refreshMaterial = false;\n    let refreshLights = false;\n    const program = materialProperties.program;\n    const p_uniforms = program.getUniforms();\n    const m_uniforms = materialProperties.__webglShader.uniforms;\n    if (program.id !== this._currentProgram) {\n      this._gl.useProgram(program.program);\n      this._currentProgram = program.id;\n      refreshProgram = true;\n      refreshMaterial = true;\n      refreshLights = true;\n    }\n    if (material.id !== this._currentMaterialId) {\n      this._currentMaterialId = material.id;\n      refreshMaterial = true;\n    }\n    if (refreshProgram || camera !== this._currentCamera) {\n      p_uniforms.set(this._gl, camera, 'projectionMatrix');\n      if (this.capabilities.logarithmicDepthBuffer) {\n        p_uniforms.setValue(this._gl, 'logDepthBufFC',\n            2.0 / (Math.log(camera.far + 1.0) / Math.LN2));\n      }\n      if (camera !== this._currentCamera) {\n        this._currentCamera = camera;\n        // lighting uniforms depend on the camera so enforce an update\n        // now, in case this material supports lights - or later, when\n        // the next material that does gets activated:\n        refreshMaterial = true;    // set to true on material change\n        refreshLights = true;    // remains set until update done\n      }\n      // load material specific uniforms\n      // (shader material also gets them for the sake of genericity)\n      if (material instanceof ShaderMaterial ||\n        material instanceof MeshPhongMaterial ||\n        material instanceof MeshStandardMaterial ||\n        material.envMap) {\n        const uCamPos = p_uniforms.map.cameraPosition;\n        if (uCamPos !== undefined) {\n          uCamPos.setValue(this._gl,\n              this._vector3.setFromMatrixPosition(camera.matrixWorld));\n        }\n      }\n      if (material instanceof MeshPhongMaterial ||\n        material instanceof MeshLambertMaterial ||\n        material instanceof MeshBasicMaterial ||\n        material instanceof MeshStandardMaterial ||\n        material instanceof ShaderMaterial ||\n        material.skinning) {\n        p_uniforms.setValue(this._gl, 'viewMatrix', camera.matrixWorldInverse);\n      }\n      p_uniforms.set(this._gl, this, 'toneMappingExposure');\n      p_uniforms.set(this._gl, this, 'toneMappingWhitePoint');\n    }\n    // skinning uniforms must be set even if material didn't change\n    // auto-setting of texture unit for bone texture must go before other textures\n    // not sure why, but otherwise weird things happen\n    if (material.skinning) {\n      p_uniforms.setOptional(this._gl, object, 'bindMatrix');\n      p_uniforms.setOptional(this._gl, object, 'bindMatrixInverse');\n      const skeleton = object.skeleton;\n      if (skeleton) {\n        if (this.capabilities.floatVertexTextures && skeleton.useVertexTexture) {\n          p_uniforms.set(this._gl, skeleton, 'boneTexture');\n          p_uniforms.set(this._gl, skeleton, 'boneTextureWidth');\n          p_uniforms.set(this._gl, skeleton, 'boneTextureHeight');\n        } else {\n          p_uniforms.setOptional(this._gl, skeleton, 'boneMatrices');\n        }\n      }\n    }\n    if (refreshMaterial) {\n      if (material.lights) {\n        // the current material requires lighting info\n        // note: all lighting uniforms are always set correctly\n        // they simply reference the renderer's state for their\n        // values\n        //\n        // use the current material's .needsUpdate flags to set\n        // the GL state when required\n        this.markUniformsLightsNeedsUpdate(m_uniforms, refreshLights);\n      }\n      // refresh uniforms common to several materials\n      if (fog && material.fog) {\n        this.refreshUniformsFog(m_uniforms, fog);\n      }\n      if (material instanceof MeshBasicMaterial || material instanceof MeshLambertMaterial || material instanceof MeshPhongMaterial || material instanceof MeshStandardMaterial || material instanceof MeshDepthMaterial) {\n        this.refreshUniformsCommon(m_uniforms, material);\n      }\n      // refresh single material specific uniforms\n      if (material instanceof LineBasicMaterial) {\n        this.refreshUniformsLine(m_uniforms, material);\n      } else if (material instanceof LineDashedMaterial) {\n        this.refreshUniformsLine(m_uniforms, material);\n        this.refreshUniformsDash(m_uniforms, material);\n      } else if (material instanceof PointsMaterial) {\n        this.refreshUniformsPoints(m_uniforms, material);\n      } else if (material instanceof MeshLambertMaterial) {\n        this.refreshUniformsLambert(m_uniforms, material);\n      } else if (material instanceof MeshPhongMaterial) {\n        this.refreshUniformsPhong(m_uniforms, material);\n      } else if (material instanceof MeshPhysicalMaterial) {\n        this.refreshUniformsPhysical(m_uniforms, material);\n      } else if (material instanceof MeshStandardMaterial) {\n        this.refreshUniformsStandard(m_uniforms, material);\n      } else if (material instanceof MeshDepthMaterial) {\n        if (material.displacementMap) {\n          m_uniforms.displacementMap.value = material.displacementMap;\n          m_uniforms.displacementScale.value = material.displacementScale;\n          m_uniforms.displacementBias.value = material.displacementBias;\n        }\n      } else if (material instanceof MeshNormalMaterial) {\n        m_uniforms.opacity.value = material.opacity;\n      }\n      WebGLUniforms.upload(\n          this._gl, materialProperties.uniformsList, m_uniforms, this);\n    }\n    // common matrices\n    p_uniforms.set(this._gl, object, 'modelViewMatrix');\n    p_uniforms.set(this._gl, object, 'normalMatrix');\n    p_uniforms.setValue(this._gl, 'modelMatrix', object.matrixWorld);\n    return program;\n  }\n  // Uniforms (refresh uniforms objects)\n  refreshUniformsCommon(uniforms: any, material: MeshBasicMaterial | MeshLambertMaterial | MeshPhongMaterial | MeshStandardMaterial | MeshDepthMaterial): void {\n    uniforms.opacity.value = material.opacity;\n    uniforms.diffuse.value = material.color;\n    if (material.emissive) {\n      uniforms.emissive.value.copy(material.emissive).multiplyScalar((material as any).emissiveIntensity);\n    }\n    uniforms.map.value = material.map;\n    uniforms.specularMap.value = material.specularMap;\n    uniforms.alphaMap.value = material.alphaMap;\n    if ((material as any).aoMap) {\n      uniforms.aoMap.value = (material as any).aoMap;\n      uniforms.aoMapIntensity.value = (material as any).aoMapIntensity;\n    }\n    // uv repeat and offset setting priorities\n    // 1. color map\n    // 2. specular map\n    // 3. normal map\n    // 4. bump map\n    // 5. alpha map\n    // 6. emissive map\n    let uvScaleMap;\n    if (material.map) {\n      uvScaleMap = material.map;\n    } else if (material.specularMap) {\n      uvScaleMap = material.specularMap;\n    } else if (material.displacementMap) {\n      uvScaleMap = material.displacementMap;\n    } else if (material.normalMap) {\n      uvScaleMap = material.normalMap;\n    } else if (material.bumpMap) {\n      uvScaleMap = material.bumpMap;\n    } else if (material.roughnessMap) {\n      uvScaleMap = material.roughnessMap;\n    } else if (material.metalnessMap) {\n      uvScaleMap = material.metalnessMap;\n    } else if (material.alphaMap) {\n      uvScaleMap = material.alphaMap;\n    } else if (material.emissiveMap) {\n      uvScaleMap = material.emissiveMap;\n    }\n    if (uvScaleMap !== undefined) {\n      // backwards compatibility\n      if (uvScaleMap instanceof WebGLRenderTarget) {\n        uvScaleMap = uvScaleMap.texture;\n      }\n      const offset = uvScaleMap.offset;\n      const repeat = uvScaleMap.repeat;\n      uniforms.offsetRepeat.value.set(offset.x, offset.y, repeat.x, repeat.y);\n    }\n    uniforms.envMap.value = material.envMap;\n    // don't flip CubeTexture envMaps, flip everything else:\n    //  WebGLRenderTargetCube will be flipped for backwards compatibility\n    //  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n    // this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n    uniforms.flipEnvMap.value = (! (material.envMap && material.envMap instanceof CubeTexture)) ? 1 : - 1;\n    uniforms.reflectivity.value = material.reflectivity;\n    uniforms.refractionRatio.value = (material as any).refractionRatio;\n  }\n  refreshUniformsLine(uniforms: any, material: LineBasicMaterial | LineDashedMaterial): void {\n    uniforms.diffuse.value = material.color;\n    uniforms.opacity.value = material.opacity;\n  }\n  refreshUniformsDash(uniforms: any, material: LineDashedMaterial): void {\n    uniforms.dashSize.value = material.dashSize;\n    uniforms.totalSize.value = material.dashSize + material.gapSize;\n    uniforms.scale.value = material.scale;\n  }\n  refreshUniformsPoints(uniforms: any, material: PointsMaterial): void {\n    uniforms.diffuse.value = material.color;\n    uniforms.opacity.value = material.opacity;\n    uniforms.size.value = material.size * this._pixelRatio;\n    uniforms.scale.value = this._height * 0.5;\n    uniforms.map.value = material.map;\n    if (material.map !== null) {\n      const offset = material.map.offset;\n      const repeat = material.map.repeat;\n      uniforms.offsetRepeat.value.set(offset.x, offset.y, repeat.x, repeat.y);\n    }\n  }\n  refreshUniformsFog(uniforms: any, fog: Fog | FogExp2): void {\n    uniforms.fogColor.value = fog.color;\n    if (fog instanceof Fog) {\n      uniforms.fogNear.value = fog.near;\n      uniforms.fogFar.value = fog.far;\n    } else if (fog instanceof FogExp2) {\n      uniforms.fogDensity.value = fog.density;\n    }\n  }\n  refreshUniformsLambert(uniforms: any, material: MeshLambertMaterial): void {\n    if (material.lightMap) {\n      uniforms.lightMap.value = material.lightMap;\n      uniforms.lightMapIntensity.value = material.lightMapIntensity;\n    }\n    if (material.emissiveMap) {\n      uniforms.emissiveMap.value = material.emissiveMap;\n    }\n  }\n  refreshUniformsPhong(uniforms: any, material: MeshPhongMaterial): void {\n    uniforms.specular.value = material.specular;\n    uniforms.shininess.value = Math.max(material.shininess, 1e-4); // to prevent pow(0.0, 0.0)\n    if (material.lightMap) {\n      uniforms.lightMap.value = material.lightMap;\n      uniforms.lightMapIntensity.value = material.lightMapIntensity;\n    }\n    if (material.emissiveMap) {\n      uniforms.emissiveMap.value = material.emissiveMap;\n    }\n    if (material.bumpMap) {\n      uniforms.bumpMap.value = material.bumpMap;\n      uniforms.bumpScale.value = material.bumpScale;\n    }\n    if (material.normalMap) {\n      uniforms.normalMap.value = material.normalMap;\n      uniforms.normalScale.value.copy(material.normalScale);\n    }\n    if (material.displacementMap) {\n      uniforms.displacementMap.value = material.displacementMap;\n      uniforms.displacementScale.value = material.displacementScale;\n      uniforms.displacementBias.value = material.displacementBias;\n    }\n  }\n  refreshUniformsStandard(uniforms: any, material: MeshStandardMaterial): void {\n    uniforms.roughness.value = material.roughness;\n    uniforms.metalness.value = material.metalness;\n    if (material.roughnessMap) {\n      uniforms.roughnessMap.value = material.roughnessMap;\n    }\n    if (material.metalnessMap) {\n      uniforms.metalnessMap.value = material.metalnessMap;\n    }\n    if (material.lightMap) {\n      uniforms.lightMap.value = material.lightMap;\n      uniforms.lightMapIntensity.value = material.lightMapIntensity;\n    }\n    if (material.emissiveMap) {\n      uniforms.emissiveMap.value = material.emissiveMap;\n    }\n    if (material.bumpMap) {\n      uniforms.bumpMap.value = material.bumpMap;\n      uniforms.bumpScale.value = material.bumpScale;\n    }\n    if (material.normalMap) {\n      uniforms.normalMap.value = material.normalMap;\n      uniforms.normalScale.value.copy(material.normalScale);\n    }\n    if (material.displacementMap) {\n      uniforms.displacementMap.value = material.displacementMap;\n      uniforms.displacementScale.value = material.displacementScale;\n      uniforms.displacementBias.value = material.displacementBias;\n    }\n    if (material.envMap) {\n      //uniforms.envMap.value = material.envMap; // part of uniforms common\n      uniforms.envMapIntensity.value = material.envMapIntensity;\n    }\n  }\n  refreshUniformsPhysical(uniforms: any, material: MeshPhysicalMaterial): void {\n    uniforms.clearCoat.value = material.clearCoat;\n    uniforms.clearCoatRoughness.value = material.clearCoatRoughness;\n    this.refreshUniformsStandard(uniforms, material);\n  }\n  // If uniforms are marked as clean, they don't need to be loaded to the GPU.\n  markUniformsLightsNeedsUpdate(uniforms: any, value: boolean): void {\n    uniforms.ambientLightColor.needsUpdate = value;\n    uniforms.directionalLights.needsUpdate = value;\n    uniforms.pointLights.needsUpdate = value;\n    uniforms.spotLights.needsUpdate = value;\n    uniforms.hemisphereLights.needsUpdate = value;\n  }\n  // Lighting\n  setupShadows(lights: Light[]): void {\n    let lightShadowsLength = 0;\n    for (let i = 0, l = lights.length; i < l; i ++) {\n      const light = lights[i];\n      if (light.castShadow) {\n        this._lights.shadows[lightShadowsLength ++] = light;\n      }\n    }\n    this._lights.shadows.length = lightShadowsLength;\n  }\n  setupLights(lights: Light[], camera: Camera): void {\n    let r = 0, g = 0, b = 0;\n    const viewMatrix = camera.matrixWorldInverse;\n    let directionalLength = 0;\n    let pointLength = 0;\n    let spotLength = 0;\n    let hemiLength = 0;\n    for (let l = 0, ll = lights.length; l < ll; l ++) {\n      const light = lights[l];\n      const color = light.color;\n      const intensity = light.intensity;\n      const distance = light.distance;\n      const shadowMap = (light.shadow && light.shadow.map) ? light.shadow.map.texture : null;\n      if (light instanceof AmbientLight) {\n        r += color.r * intensity;\n        g += color.g * intensity;\n        b += color.b * intensity;\n      } else if (light instanceof DirectionalLight) {\n        const uniforms = this.lightCache.get(light);\n        uniforms.color.copy(light.color).multiplyScalar(light.intensity);\n        uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n        this._vector3.setFromMatrixPosition(light.target.matrixWorld);\n        uniforms.direction.sub(this._vector3);\n        uniforms.direction.transformDirection(viewMatrix);\n        uniforms.shadow = light.castShadow;\n        if (light.castShadow) {\n          uniforms.shadowBias = light.shadow.bias;\n          uniforms.shadowRadius = light.shadow.radius;\n          uniforms.shadowMapSize = light.shadow.mapSize;\n        }\n        this._lights.directionalShadowMap[directionalLength] = shadowMap;\n        this._lights.directionalShadowMatrix[directionalLength] = light.shadow.matrix;\n        this._lights.directional[directionalLength ++] = uniforms;\n      } else if (light instanceof SpotLight) {\n        const uniforms = this.lightCache.get(light);\n        uniforms.position.setFromMatrixPosition(light.matrixWorld);\n        uniforms.position.applyMatrix4(viewMatrix);\n        uniforms.color.copy(color).multiplyScalar(intensity);\n        uniforms.distance = distance;\n        uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n        this._vector3.setFromMatrixPosition(light.target.matrixWorld);\n        uniforms.direction.sub(this._vector3);\n        uniforms.direction.transformDirection(viewMatrix);\n        uniforms.coneCos = Math.cos(light.angle);\n        uniforms.penumbraCos = Math.cos(light.angle * (1 - light.penumbra));\n        uniforms.decay = (light.distance === 0) ? 0.0 : light.decay;\n        uniforms.shadow = light.castShadow;\n        if (light.castShadow) {\n          uniforms.shadowBias = light.shadow.bias;\n          uniforms.shadowRadius = light.shadow.radius;\n          uniforms.shadowMapSize = light.shadow.mapSize;\n        }\n        this._lights.spotShadowMap[spotLength] = shadowMap;\n        this._lights.spotShadowMatrix[spotLength] = light.shadow.matrix;\n        this._lights.spot[spotLength ++] = uniforms;\n      } else if (light instanceof PointLight) {\n        const uniforms = this.lightCache.get(light);\n        uniforms.position.setFromMatrixPosition(light.matrixWorld);\n        uniforms.position.applyMatrix4(viewMatrix);\n        uniforms.color.copy(light.color).multiplyScalar(light.intensity);\n        uniforms.distance = light.distance;\n        uniforms.decay = (light.distance === 0) ? 0.0 : light.decay;\n        uniforms.shadow = light.castShadow;\n        if (light.castShadow) {\n          uniforms.shadowBias = light.shadow.bias;\n          uniforms.shadowRadius = light.shadow.radius;\n          uniforms.shadowMapSize = light.shadow.mapSize;\n        }\n        this._lights.pointShadowMap[pointLength] = shadowMap;\n        if (this._lights.pointShadowMatrix[pointLength] === undefined) {\n          this._lights.pointShadowMatrix[pointLength] = new Matrix4();\n        }\n        // for point lights we set the shadow matrix to be a translation-only matrix\n        // equal to inverse of the light's position\n        this._vector3.setFromMatrixPosition(light.matrixWorld).negate();\n        this._lights.pointShadowMatrix[pointLength].identity().setPosition(this._vector3);\n        this._lights.point[pointLength ++] = uniforms;\n      } else if (light instanceof HemisphereLight) {\n        const uniforms = this.lightCache.get(light);\n        uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n        uniforms.direction.transformDirection(viewMatrix);\n        uniforms.direction.normalize();\n        uniforms.skyColor.copy(light.color).multiplyScalar(intensity);\n        uniforms.groundColor.copy(light.groundColor).multiplyScalar(intensity);\n        this._lights.hemi[hemiLength ++] = uniforms;\n      }\n    }\n    this._lights.ambient[0] = r;\n    this._lights.ambient[1] = g;\n    this._lights.ambient[2] = b;\n    this._lights.directional.length = directionalLength;\n    this._lights.spot.length = spotLength;\n    this._lights.point.length = pointLength;\n    this._lights.hemi.length = hemiLength;\n    this._lights.hash = directionalLength + ',' + pointLength + ',' + spotLength + ',' + hemiLength + ',' + this._lights.shadows.length;\n  }\n  // GL state setting\n  setFaceCulling(cullFace: CullFace, frontFaceDirection: FrontFaceDirection): void {\n    this.state.setCullFace(cullFace);\n    this.state.setFlipSided(frontFaceDirection === FrontFaceDirection.CW);\n  }\n  // Textures\n  allocTextureUnit(): number {\n    const textureUnit = this._usedTextureUnits;\n    if (textureUnit >= this.capabilities.maxTextures) {\n      console.warn('WebGLRenderer: trying to use ' + textureUnit + ' texture units while this GPU supports only ' + this.capabilities.maxTextures);\n    }\n    this._usedTextureUnits += 1;\n    return textureUnit;\n  }\n  ///this.allocTextureUnit = allocTextureUnit;\n  // this.setTexture2D = setTexture2D;\n  setTexture2D(texture: Texture, slot: number): void {\n    let warned = false;\n    // backwards compatibility: peel texture.texture\n    //return function setTexture2D(texture, slot) {\n      if (texture && texture instanceof WebGLRenderTarget) {\n        if (! warned) {\n          console.warn(\"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\");\n          warned = true;\n        }\n        texture = texture.texture;\n      }\n      this.textures.setTexture2D(texture, slot);\n    //};\n  }\n  setTexture(texture: Texture, slot: number): void {\n    let warned = false;\n    //return function setTexture(texture, slot) {\n      if (! warned) {\n        console.warn(\"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\");\n        warned = true;\n      }\n      this.textures.setTexture2D(texture, slot);\n    //};\n  }\n  setTextureCube(texture: Texture, slot: number): void {\n    let warned = false;\n    //return function setTextureCube(texture, slot) {\n      // backwards compatibility: peel texture.texture\n      if (texture && texture instanceof WebGLRenderTargetCube) {\n        if (! warned) {\n          console.warn(\"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\");\n          warned = true;\n        }\n        texture = texture.texture;\n      }\n      // currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\n      // TODO: unify these code paths\n      if ((texture && texture instanceof CubeTexture) ||\n         (Array.isArray(texture.image) && texture.image.length === 6)) {\n        // CompressedTexture can have Array in image :/\n        // this function alone should take care of cube textures\n        this.textures.setTextureCube(texture, slot);\n      } else {\n        // assumed: texture property of THREE.WebGLRenderTargetCube\n        this.textures.setTextureCubeDynamic(texture, slot);\n      }\n    //};\n  }\n  getCurrentRenderTarget(): WebGLRenderTarget {\n    return this._currentRenderTarget;\n  }\n  setRenderTarget(renderTarget: WebGLRenderTarget): void {\n    const _gl: WebGLRenderingContext = this._gl;\n    this._currentRenderTarget = renderTarget;\n    if (renderTarget && this.properties.get(renderTarget).__webglFramebuffer === undefined) {\n      this.textures.setupRenderTarget(renderTarget);\n    }\n    let framebuffer;\n    if (renderTarget) {\n      const renderTargetProperties = this.properties.get(renderTarget);\n      if (renderTarget && renderTarget instanceof WebGLRenderTargetCube) {\n        framebuffer = renderTargetProperties.__webglFramebuffer[renderTarget.activeCubeFace];\n      } else {\n        framebuffer = renderTargetProperties.__webglFramebuffer;\n      }\n      this._currentScissor.copy(renderTarget.scissor);\n      this._currentScissorTest = renderTarget.scissorTest;\n      this._currentViewport.copy(renderTarget.viewport);\n    } else {\n      framebuffer = null;\n      this._currentScissor.copy(this._scissor).multiplyScalar(this._pixelRatio);\n      this._currentScissorTest = this._scissorTest;\n      this._currentViewport.copy(this._viewport).multiplyScalar(this._pixelRatio);\n    }\n    if (this._currentFramebuffer !== framebuffer) {\n      _gl.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n      this._currentFramebuffer = framebuffer;\n    }\n    this.state.scissor(this._currentScissor);\n    this.state.setScissorTest(this._currentScissorTest);\n    this.state.viewport(this._currentViewport);\n    if (renderTarget && renderTarget instanceof WebGLRenderTargetCube) {\n      const textureProperties = this.properties.get(renderTarget.texture);\n      _gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + renderTarget.activeCubeFace, textureProperties.__webglTexture, renderTarget.activeMipMapLevel);\n    }\n  }\n  readRenderTargetPixels(renderTarget: WebGLRenderTarget, x: number, y: number, width: number, height: number, buffer: ArrayBufferView): void {\n    const _gl: WebGLRenderingContext = this._gl;\n    if ((renderTarget && renderTarget instanceof WebGLRenderTarget) === false) {\n      console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');\n      return;\n    }\n    const framebuffer = this.properties.get(renderTarget).__webglFramebuffer;\n    if (framebuffer) {\n      let restore = false;\n      if (framebuffer !== this._currentFramebuffer) {\n        _gl.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n        restore = true;\n      }\n      try {\n        const texture = renderTarget.texture;\n        const textureFormat = texture.format;\n        const textureType = texture.type;\n        if (textureFormat !== TextureFormat.RGBA && this.paramThreeToGL(textureFormat) !== _gl.getParameter(_gl.IMPLEMENTATION_COLOR_READ_FORMAT)) {\n          console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');\n          return;\n        }\n        if (textureType !== TextureType.UnsignedByte && this.paramThreeToGL(textureType) !== _gl.getParameter(_gl.IMPLEMENTATION_COLOR_READ_TYPE) && // IE11, Edge and Chrome Mac < 52 (#9513)\n             ! (textureType === TextureType.Float && (this.extensions.get('OES_texture_float') || this.extensions.get('WEBGL_color_buffer_float'))) && // Chrome Mac >= 52 and Firefox\n             ! (textureType === TextureType.HalfFloat && this.extensions.get('EXT_color_buffer_half_float'))) {\n          console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in TextureType.UnsignedByte or implementation defined type.');\n          return;\n        }\n        if (_gl.checkFramebufferStatus(_gl.FRAMEBUFFER) === _gl.FRAMEBUFFER_COMPLETE) {\n          // the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n          if ((x >= 0 && x <= (renderTarget.width - width)) && (y >= 0 && y <= (renderTarget.height - height))) {\n            _gl.readPixels(x, y, width, height, this.paramThreeToGL(textureFormat), this.paramThreeToGL(textureType), buffer);\n          }\n        } else {\n          console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');\n        }\n      } finally {\n        if (restore) {\n          _gl.bindFramebuffer(_gl.FRAMEBUFFER, this._currentFramebuffer);\n        }\n      }\n    }\n  }\n  // Map three.js constants to WebGL constants\n  paramThreeToGL(p: number): number {\n    const _gl: WebGLRenderingContext = this._gl;\n    let extension;\n    if (p === TextureWrapping.Repeat) return _gl.REPEAT;\n    if (p === TextureWrapping.ClampToEdge) return _gl.CLAMP_TO_EDGE;\n    if (p === TextureWrapping.MirroredRepeat) return _gl.MIRRORED_REPEAT;\n    if (p === TextureFilter.Nearest) return _gl.NEAREST;\n    if (p === TextureFilter.NearestMipMapNearest) return _gl.NEAREST_MIPMAP_NEAREST;\n    if (p === TextureFilter.NearestMipMapLinear) return _gl.NEAREST_MIPMAP_LINEAR;\n    if (p === TextureFilter.Linear) return _gl.LINEAR;\n    if (p === TextureFilter.LinearMipMapNearest) return _gl.LINEAR_MIPMAP_NEAREST;\n    if (p === TextureFilter.LinearMipMapLinear) return _gl.LINEAR_MIPMAP_LINEAR;\n    if (p === TextureType.UnsignedByte) return _gl.UNSIGNED_BYTE;\n    if (p === TextureType.UnsignedShort4444) return _gl.UNSIGNED_SHORT_4_4_4_4;\n    if (p === TextureType.UnsignedShort5551) return _gl.UNSIGNED_SHORT_5_5_5_1;\n    if (p === TextureType.UnsignedShort565) return _gl.UNSIGNED_SHORT_5_6_5;\n    if (p === TextureType.Byte) return _gl.BYTE;\n    if (p === TextureType.Short) return _gl.SHORT;\n    if (p === TextureType.UnsignedShort) return _gl.UNSIGNED_SHORT;\n    if (p === TextureType.Int) return _gl.INT;\n    if (p === TextureType.UnsignedInt) return _gl.UNSIGNED_INT;\n    if (p === TextureType.Float) return _gl.FLOAT;\n    if (p === TextureType.HalfFloat) {\n      extension = this.extensions.get('OES_texture_half_float');\n      if (extension !== null) return extension.HALF_FLOAT_OES;\n    }\n    if (p === TextureFormat.Alpha) return _gl.ALPHA;\n    if (p === TextureFormat.RGB) return _gl.RGB;\n    if (p === TextureFormat.RGBA) return _gl.RGBA;\n    if (p === TextureFormat.Luminance) return _gl.LUMINANCE;\n    if (p === TextureFormat.LuminanceAlpha) return _gl.LUMINANCE_ALPHA;\n    if (p === TextureFormat.Depth) return _gl.DEPTH_COMPONENT;\n    if (p === TextureFormat.DepthStencil) return _gl.DEPTH_STENCIL;\n    if (p === BlendingEquation.Add) return _gl.FUNC_ADD;\n    if (p === BlendingEquation.Subtract) return _gl.FUNC_SUBTRACT;\n    if (p === BlendingEquation.ReverseSubtract) return _gl.FUNC_REVERSE_SUBTRACT;\n    if (p === BlendingFactor.Zero) return _gl.ZERO;\n    if (p === BlendingFactor.One) return _gl.ONE;\n    if (p === BlendingFactor.SrcColor) return _gl.SRC_COLOR;\n    if (p === BlendingFactor.OneMinusSrcColor) return _gl.ONE_MINUS_SRC_COLOR;\n    if (p === BlendingFactor.SrcAlpha) return _gl.SRC_ALPHA;\n    if (p === BlendingFactor.OneMinusSrcAlpha) return _gl.ONE_MINUS_SRC_ALPHA;\n    if (p === BlendingFactor.DstAlpha) return _gl.DST_ALPHA;\n    if (p === BlendingFactor.OneMinusDstAlpha) return _gl.ONE_MINUS_DST_ALPHA;\n    if (p === BlendingFactor.DstColor) return _gl.DST_COLOR;\n    if (p === BlendingFactor.OneMinusDstColor) return _gl.ONE_MINUS_DST_COLOR;\n    if (p === BlendingFactor.SrcAlphaSaturate) return _gl.SRC_ALPHA_SATURATE;\n    if (p === TextureFormat.RGB_S3TC_DXT1 || p === TextureFormat.RGBA_S3TC_DXT1 ||\n      p === TextureFormat.RGBA_S3TC_DXT3 || p === TextureFormat.RGBA_S3TC_DXT5) {\n      extension = this.extensions.get('WEBGL_compressed_texture_s3tc');\n      if (extension !== null) {\n        if (p === TextureFormat.RGB_S3TC_DXT1) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n        if (p === TextureFormat.RGBA_S3TC_DXT1) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n        if (p === TextureFormat.RGBA_S3TC_DXT3) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n        if (p === TextureFormat.RGBA_S3TC_DXT5) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n      }\n    }\n    if (p === TextureFormat.RGB_PVRTC_4BPPV1 || p === TextureFormat.RGB_PVRTC_2BPPV1 ||\n       p === TextureFormat.RGBA_PVRTC_4BPPV1 || p === TextureFormat.RGBA_PVRTC_2BPPV1) {\n      extension = this.extensions.get('WEBGL_compressed_texture_pvrtc');\n      if (extension !== null) {\n        if (p === TextureFormat.RGB_PVRTC_4BPPV1) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n        if (p === TextureFormat.RGB_PVRTC_2BPPV1) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n        if (p === TextureFormat.RGBA_PVRTC_4BPPV1) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n        if (p === TextureFormat.RGBA_PVRTC_2BPPV1) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n      }\n    }\n    if (p === TextureFormat.RGB_ETC1) {\n      extension = this.extensions.get('WEBGL_compressed_texture_etc1');\n      if (extension !== null) {\n        if (p === TextureFormat.RGB_ETC1) return extension.COMPRESSED_RGB_ETC1_WEBGL;\n      }\n    }\n    if (p === BlendingEquation.Min || p === BlendingEquation.Max) {\n      extension = this.extensions.get('EXT_blend_minmax');\n      if (extension !== null) {\n        if (p === BlendingEquation.Min) return extension.MIN_EXT;\n        if (p === BlendingEquation.Max) return extension.MAX_EXT;\n      }\n    }\n    if (p === TextureType.UnsignedInt248) {\n      extension = this.extensions.get('WEBGL_depth_texture');\n      if (extension !== null) return extension.UNSIGNED_INT_24_8_WEBGL;\n  }\n    return 0;\n  }\n  supportsFloatTextures(): boolean {\n    console.warn(\"THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get(\\\"OES_texture_float\\\").\");\n    return this.extensions.get(\"OES_texture_float\");\n  }\n  supportsHalfFloatTextures(): boolean {\n    console.warn(\"THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get(\\\"OES_texture_half_float\\\").\");\n    return this.extensions.get(\"OES_texture_half_float\");\n  }\n  supportsStandardDerivatives(): boolean {\n    console.warn(\"THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get(\\\"OES_standard_derivatives\\\").\");\n    return this.extensions.get(\"OES_standard_derivatives\");\n  }\n  supportsCompressedTextureS3TC(): boolean {\n    console.warn(\"THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get(\\\"WEBGL_compressed_texture_s3tc\\\").\");\n    return this.extensions.get(\"WEBGL_compressed_texture_s3tc\");\n  }\n  supportsCompressedTexturePVRTC(): boolean {\n    console.warn(\"THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get(\\\"WEBGL_compressed_texture_pvrtc\\\").\");\n    return this.extensions.get(\"WEBGL_compressed_texture_pvrtc\");\n  }\n  supportsBlendMinMax(): boolean {\n    console.warn(\"THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get(\\\"EXT_blend_minmax\\\").\");\n    return this.extensions.get(\"EXT_blend_minmax\");\n  }\n  supportsVertexTextures(): boolean {\n    return this.capabilities.vertexTextures;\n  }\n  supportsInstancedArrays(): boolean {\n    console.warn(\"THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get(\\\"ANGLE_instanced_arrays\\\").\");\n    return this.extensions.get(\"ANGLE_instanced_arrays\");\n  }\n  enableScissorTest(test: boolean): void {\n    console.warn(\"THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().\");\n    this.setScissorTest(test);\n  }\n  //initMaterial() {\n  //  console.warn(\"THREE.WebGLRenderer: .initMaterial() has been removed.\");\n  //}\n  addPrePlugin(): void {\n    console.warn(\"THREE.WebGLRenderer: .addPrePlugin() has been removed.\");\n  }\n  addPostPlugin(): void {\n    console.warn(\"THREE.WebGLRenderer: .addPostPlugin() has been removed.\");\n  }\n  updateShadowMap(): void {\n    console.warn(\"THREE.WebGLRenderer: .updateShadowMap() has been removed.\");\n  }\n  get shadowMapEnabled(): boolean {\n    return this.shadowMap.enabled;\n  }\n  set shadowMapEnabled(value: boolean) {\n    console.warn(\"THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.\");\n    this.shadowMap.enabled = value;\n  }\n  get shadowMapType(): number {\n    return this.shadowMap.type;\n  }\n  set shadowMapType(value: number) {\n    console.warn(\"THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.\");\n    this.shadowMap.type = value;\n  }\n  get shadowMapCullFace(): number {\n    return this.shadowMap.cullFace;\n  }\n  set shadowMapCullFace(value: number) {\n    console.warn(\"THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.\");\n    this.shadowMap.cullFace = value;\n  }\n}\n","import { Object3D } from \"../core/Object3D\";\nimport { Color } from \"../math/Color\";\nimport { Texture } from \"../textures/Texture\";\nimport { CubeTexture } from \"../textures/CubeTexture\";\nimport { Fog } from \"./Fog\";\nimport { FogExp2 } from \"./FogExp2\";\nimport { Material } from \"../materials/Material\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class Scene extends Object3D {\n  background: Color | Texture | CubeTexture = null;\n  fog: Fog | FogExp2 = null;\n  overrideMaterial: Material = null;\n  autoUpdate: boolean = true; // checked by the renderer\n  constructor() {\n    super();\n    this.type = 'Scene';\n  }\n  copy(source: this, recursive: boolean): this {\n    super.copy(source, recursive);\n    if (source.background !== null) this.background = source.background.clone();\n    if (source.fog !== null) this.fog = source.fog.clone();\n    if (source.overrideMaterial !== null) this.overrideMaterial = source.overrideMaterial.clone();\n    this.autoUpdate = source.autoUpdate;\n    this.matrixAutoUpdate = source.matrixAutoUpdate;\n    return this;\n  }\n  toJSON(meta: any): any {\n    let data = super.toJSON(meta);\n    if (this.background !== null) data.object.background = this.background.toJSON(meta);\n    if (this.fog !== null) data.object.fog = this.fog.toJSON(meta);\n    return data;\n  }\n}\n","import { Vector3 } from \"../math/Vector3\";\nimport { Object3D } from \"../core/Object3D\";\nimport { Raycaster, Intersect } from \"../core/Raycaster\";\nimport { Camera } from \"../cameras/Camera\";\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\nexport class LOD extends Object3D {\n  levels: any[];\n  constructor() {\n    super();\n    this.type = 'LOD';\n    this.levels = [];\n    //Object.defineProperties(this, {\n    //  levels: {\n    //    enumerable: true,\n    //    value: []\n    //  }\n    //});\n  }\n  copy(source: this): this {\n    super.copy(source, false);\n    let levels = source.levels;\n    for (let i = 0, l = levels.length; i < l; i ++) {\n      let level = levels[i];\n      this.addLevel(level.object.clone(), level.distance);\n    }\n    return this;\n  }\n  addLevel(object: Object3D, distance: number): void {\n    if (distance === undefined) distance = 0;\n    distance = Math.abs(distance);\n    let levels = this.levels;\n    let l;\n    for (l = 0; l < levels.length; l ++) {\n      if (distance < levels[l].distance) {\n        break;\n      }\n    }\n    levels.splice(l, 0, { distance: distance, object: object });\n    this.add(object);\n  }\n  getObjectForDistance(distance: number): Object3D {\n    let levels = this.levels;\n    let i, l;\n    for (i = 1, l = levels.length; i < l; i ++) {\n      if (distance < levels[i].distance) {\n        break;\n      }\n    }\n    return levels[i - 1].object;\n  }\n  raycast(raycaster: Raycaster, intersects: Intersect[]): Intersect[] {\n    let matrixPosition = new Vector3();\n    //return function raycast(raycaster, intersects) {\n      matrixPosition.setFromMatrixPosition(this.matrixWorld);\n      let distance = raycaster.ray.origin.distanceTo(matrixPosition);\n      this.getObjectForDistance(distance).raycast(raycaster, intersects);\n      return intersects;\n    //};\n  }\n  update(camera: Camera): void {\n    let v1 = new Vector3();\n    let v2 = new Vector3();\n    //return function update(camera) {\n      let levels = this.levels;\n      if (levels.length > 1) {\n        v1.setFromMatrixPosition(camera.matrixWorld);\n        v2.setFromMatrixPosition(this.matrixWorld);\n        let distance = v1.distanceTo(v2);\n        levels[0].object.visible = true;\n        let i, l;\n        for (i = 1, l = levels.length; i < l; i ++) {\n          if (distance >= levels[i].distance) {\n            levels[i - 1].object.visible = false;\n            levels[i].object.visible = true;\n          } else {\n            break;\n          }\n        }\n        for (; i < l; i ++) {\n          levels[i].object.visible = false;\n        }\n      }\n    //};\n  }\n  toJSON(meta: any): any {\n    let data = super.toJSON(meta);\n    data.object.levels = [];\n    let levels = this.levels;\n    for (let i = 0, l = levels.length; i < l; i ++) {\n      let level = levels[i];\n      data.object.levels.push({\n        object: level.object.uuid,\n        distance: level.distance\n      });\n    }\n    return data;\n  }\n  get objects(): any[] {\n    console.warn(\"THREE.LOD: .objects has been renamed to .levels.\");\n    return this.levels;\n  }\n}\n","import { Object3D } from \"../core/Object3D\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class Group extends Object3D {\n  constructor() {\n    super();\n    this.type = 'Group';\n  }\n}\n","import { Texture } from \"./Texture\";\nimport { TextureMapping, TextureWrapping, TextureEncoding, TextureType, TextureFormat, TextureFilter } from \"../constants\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class VideoTexture extends Texture {\n  constructor(video: HTMLVideoElement, mapping: TextureMapping, wrapS: TextureWrapping, wrapT: TextureWrapping, magFilter: TextureFilter, minFilter: TextureFilter, format: TextureFormat, type: TextureType, anisotropy: number) {\n    super(video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n    this.generateMipmaps = false;\n    const scope: VideoTexture = this;\n    function update(): void {\n      requestAnimationFrame(update);\n      if (video.readyState >= video.HAVE_CURRENT_DATA) {\n        scope.needsUpdate = true;\n      }\n    }\n    update();\n  }\n}\n","import { Texture } from \"./Texture\";\nimport { TextureMapping, TextureWrapping, TextureEncoding, TextureType, TextureFormat, TextureFilter } from \"../constants\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class CanvasTexture extends Texture {\n  constructor(canvas: HTMLCanvasElement, mapping?: TextureMapping, wrapS?: TextureWrapping, wrapT?: TextureWrapping, magFilter?: TextureFilter, minFilter?: TextureFilter, format?: TextureFormat, type?: TextureType, anisotropy?: number) {\n    super(canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n    this.needsUpdate = true;\n  }\n}\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { BufferAttribute } from \"../core/BufferAttribute\";\nimport { Geometry } from \"../core/Geometry\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class WireframeGeometry extends BufferGeometry {\n  constructor(geometry: Geometry | BufferGeometry) {\n    super();\n    const edge = [ 0, 0 ], hash = {};\n    function sortFunction(a: number, b: number): number {\n      return a - b;\n    }\n    const keys = ['a', 'b', 'c'];\n    if (geometry && geometry instanceof Geometry) {\n      const vertices = geometry.vertices;\n      const faces = geometry.faces;\n      let numEdges = 0;\n      // allocate maximal size\n      const edges = new Uint32Array(6 * faces.length);\n      for (let i = 0, l = faces.length; i < l; i ++) {\n        const face = faces[i];\n        for (let j = 0; j < 3; j ++) {\n          edge[0] = face[keys[j]];\n          edge[1] = face[keys[(j + 1) % 3]];\n          edge.sort(sortFunction);\n          const key = edge.toString();\n          if (hash[key] === undefined) {\n            edges[2 * numEdges] = edge[0];\n            edges[2 * numEdges + 1] = edge[1];\n            hash[key] = true;\n            numEdges ++;\n          }\n        }\n      }\n      const coords = new Float32Array(numEdges * 2 * 3);\n      for (let i = 0, l = numEdges; i < l; i ++) {\n        for (let j = 0; j < 2; j ++) {\n          const vertex = vertices[edges [2 * i + j]];\n          const index = 6 * i + 3 * j;\n          coords[index + 0] = vertex.x;\n          coords[index + 1] = vertex.y;\n          coords[index + 2] = vertex.z;\n        }\n      }\n      this.addAttribute('position', new BufferAttribute(coords, 3));\n    } else if (geometry && geometry instanceof BufferGeometry) {\n      if (geometry.index !== null) {\n        // Indexed BufferGeometry\n        const indices = geometry.index.array;\n        const vertices: BufferAttribute = geometry.attributes.position;\n        const groups = geometry.groups;\n        let numEdges = 0;\n        if (groups.length === 0) {\n          geometry.addGroup(0, indices.length);\n        }\n        // allocate maximal size\n        const edges = new Uint32Array(2 * indices.length);\n        for (let o = 0, ol = groups.length; o < ol; ++ o) {\n          const group = groups[o];\n          const start = group.start;\n          const count = group.count;\n          for (let i = start, il = start + count; i < il; i += 3) {\n            for (let j = 0; j < 3; j ++) {\n              edge[0] = indices[i + j];\n              edge[1] = indices[i + (j + 1) % 3];\n              edge.sort(sortFunction);\n              const key = edge.toString();\n              if (hash[key] === undefined) {\n                edges[2 * numEdges] = edge[0];\n                edges[2 * numEdges + 1] = edge[1];\n                hash[key] = true;\n                numEdges ++;\n              }\n            }\n          }\n        }\n        const coords = new Float32Array(numEdges * 2 * 3);\n        for (let i = 0, l = numEdges; i < l; i ++) {\n          for (let j = 0; j < 2; j ++) {\n            const index = 6 * i + 3 * j;\n            const index2 = edges[2 * i + j];\n            coords[index + 0] = vertices.getX(index2);\n            coords[index + 1] = vertices.getY(index2);\n            coords[index + 2] = vertices.getZ(index2);\n          }\n        }\n        this.addAttribute('position', new BufferAttribute(coords, 3));\n      } else {\n        // non-indexed BufferGeometry\n        const vertices = geometry.attributes.position.array;\n        const numEdges = vertices.length / 3;\n        const numTris = numEdges / 3;\n        const coords = new Float32Array(numEdges * 2 * 3);\n        for (let i = 0, l = numTris; i < l; i ++) {\n          for (let j = 0; j < 3; j ++) {\n            const index = 18 * i + 6 * j;\n            const index1 = 9 * i + 3 * j;\n            coords[index + 0] = vertices[index1];\n            coords[index + 1] = vertices[index1 + 1];\n            coords[index + 2] = vertices[index1 + 2];\n            const index2 = 9 * i + 3 * ((j + 1) % 3);\n            coords[index + 3] = vertices[index2];\n            coords[index + 4] = vertices[index2 + 1];\n            coords[index + 5] = vertices[index2 + 2];\n          }\n        }\n        this.addAttribute('position', new BufferAttribute(coords, 3));\n      }\n    }\n  }\n}\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Float32Attribute, Uint16Attribute, Uint32Attribute } from \"../core/BufferAttribute\";\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n */\nexport class ParametricBufferGeometry extends BufferGeometry {\n  constructor(func, slices, stacks) {\n    super();\n    this.type = 'ParametricBufferGeometry';\n    this.parameters = {\n      func: func,\n      slices: slices,\n      stacks: stacks\n    };\n    // generate vertices and uvs\n    let vertices = [];\n    let uvs = [];\n    let i, j, p;\n    let u, v;\n    let sliceCount = slices + 1;\n    for (i = 0; i <= stacks; i ++) {\n      v = i / stacks;\n      for (j = 0; j <= slices; j ++) {\n        u = j / slices;\n        p = func(u, v);\n        vertices.push(p.x, p.y, p.z);\n        uvs.push(u, v);\n      }\n    }\n    // generate indices\n    let indices = [];\n    let a, b, c, d;\n    for (i = 0; i < stacks; i ++) {\n      for (j = 0; j < slices; j ++) {\n        a = i * sliceCount + j;\n        b = i * sliceCount + j + 1;\n        c = (i + 1) * sliceCount + j + 1;\n        d = (i + 1) * sliceCount + j;\n        // faces one and two\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n      }\n    }\n    // build geometry\n    this.setIndex((indices.length > 65535 ? Uint32Attribute : Uint16Attribute)(indices, 1));\n    this.addAttribute('position', Float32Attribute(vertices, 3));\n    this.addAttribute('uv', Float32Attribute(uvs, 2));\n    // generate normals\n    this.computeVertexNormals();\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { ParametricBufferGeometry } from \"./ParametricBufferGeometry\";\n/**\n * @author zz85 / https://github.com/zz85\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n */\nexport class ParametricGeometry extends Geometry {\n  constructor(func, slices, stacks) {\n    super();\n    this.type = 'ParametricGeometry';\n    this.parameters = {\n      func: func,\n      slices: slices,\n      stacks: stacks\n    };\n    this.fromBufferGeometry(new ParametricBufferGeometry(func, slices, stacks));\n    this.mergeVertices();\n  }\n}\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Float32Attribute } from \"../core/BufferAttribute\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Sphere } from \"../math/Sphere\";\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\nexport class PolyhedronBufferGeometry extends BufferGeometry {\n  constructor(vertices, indices, radius, detail) {\n    super();\n    this.type = 'PolyhedronBufferGeometry';\n    this.parameters = {\n      vertices: vertices,\n      indices: indices,\n      radius: radius,\n      detail: detail\n    };\n    radius = radius || 1;\n    detail = detail || 0;\n    // default buffer data\n    let vertexBuffer = [];\n    let uvBuffer = [];\n    // the subdivision creates the vertex buffer data\n    subdivide(detail);\n    // all vertices should lie on a conceptual sphere with a given radius\n    appplyRadius(radius);\n    // finally, create the uv data\n    generateUVs();\n    // build non-indexed geometry\n    this.addAttribute('position', Float32Attribute(vertexBuffer, 3));\n    this.addAttribute('normal', Float32Attribute(vertexBuffer.slice(), 3));\n    this.addAttribute('uv', Float32Attribute(uvBuffer, 2));\n    this.normalizeNormals();\n    this.boundingSphere = new Sphere(new Vector3(), radius);\n    // helper functions\n    function subdivide(detail) {\n      let a = new Vector3();\n      let b = new Vector3();\n      let c = new Vector3();\n      // iterate over all faces and apply a subdivison with the given detail value\n      for (let i = 0; i < indices.length; i += 3) {\n        // get the vertices of the face\n        getVertexByIndex(indices[ i + 0 ], a);\n        getVertexByIndex(indices[ i + 1 ], b);\n        getVertexByIndex(indices[ i + 2 ], c);\n        // perform subdivision\n        subdivideFace(a, b, c, detail);\n      }\n    }\n    function subdivideFace(a, b, c, detail) {\n      let cols = Math.pow(2, detail);\n      // we use this multidimensional array as a data structure for creating the subdivision\n      let v = [];\n      let i, j;\n      // construct all of the vertices for this subdivision\n      for (i = 0 ; i <= cols; i ++) {\n        v[ i ] = [];\n        let aj = a.clone().lerp(c, i / cols);\n        let bj = b.clone().lerp(c, i / cols);\n        let rows = cols - i;\n        for (j = 0; j <= rows; j ++) {\n          if (j === 0 && i === cols) {\n            v[ i ][ j ] = aj;\n          } else {\n            v[ i ][ j ] = aj.clone().lerp(bj, j / rows);\n          }\n        }\n      }\n      // construct all of the faces\n      for (i = 0; i < cols ; i ++) {\n        for (j = 0; j < 2 * (cols - i) - 1; j ++) {\n          let k = Math.floor(j / 2);\n          if (j % 2 === 0) {\n            pushVertex(v[ i ][ k + 1 ]);\n            pushVertex(v[ i + 1 ][ k ]);\n            pushVertex(v[ i ][ k ]);\n          } else {\n            pushVertex(v[ i ][ k + 1 ]);\n            pushVertex(v[ i + 1 ][ k + 1 ]);\n            pushVertex(v[ i + 1 ][ k ]);\n          }\n        }\n      }\n    }\n    function appplyRadius(radius) {\n      let vertex = new Vector3();\n      // iterate over the entire buffer and apply the radius to each vertex\n      for (let i = 0; i < vertexBuffer.length; i += 3) {\n        vertex.x = vertexBuffer[ i + 0 ];\n        vertex.y = vertexBuffer[ i + 1 ];\n        vertex.z = vertexBuffer[ i + 2 ];\n        vertex.normalize().multiplyScalar(radius);\n        vertexBuffer[ i + 0 ] = vertex.x;\n        vertexBuffer[ i + 1 ] = vertex.y;\n        vertexBuffer[ i + 2 ] = vertex.z;\n      }\n    }\n    function generateUVs() {\n      let vertex = new Vector3();\n      for (let i = 0; i < vertexBuffer.length; i += 3) {\n        vertex.x = vertexBuffer[ i + 0 ];\n        vertex.y = vertexBuffer[ i + 1 ];\n        vertex.z = vertexBuffer[ i + 2 ];\n        let u = azimuth(vertex) / 2 / Math.PI + 0.5;\n        let v = inclination(vertex) / Math.PI + 0.5;\n        uvBuffer.push(u, 1 - v);\n      }\n      correctUVs();\n      correctSeam();\n    }\n    function correctSeam() {\n      // handle case when face straddles the seam, see #3269\n      for (let i = 0; i < uvBuffer.length; i += 6) {\n        // uv data of a single face\n        let x0 = uvBuffer[ i + 0 ];\n        let x1 = uvBuffer[ i + 2 ];\n        let x2 = uvBuffer[ i + 4 ];\n        let max = Math.max(x0, x1, x2);\n        let min = Math.min(x0, x1, x2);\n        // 0.9 is somewhat arbitrary\n        if (max > 0.9 && min < 0.1) {\n          if (x0 < 0.2) uvBuffer[ i + 0 ] += 1;\n          if (x1 < 0.2) uvBuffer[ i + 2 ] += 1;\n          if (x2 < 0.2) uvBuffer[ i + 4 ] += 1;\n        }\n      }\n    }\n    function pushVertex(vertex) {\n      vertexBuffer.push(vertex.x, vertex.y, vertex.z);\n    }\n    function getVertexByIndex(index, vertex) {\n      let stride = index * 3;\n      vertex.x = vertices[ stride + 0 ];\n      vertex.y = vertices[ stride + 1 ];\n      vertex.z = vertices[ stride + 2 ];\n    }\n    function correctUVs() {\n      let a = new Vector3();\n      let b = new Vector3();\n      let c = new Vector3();\n      let centroid = new Vector3();\n      let uvA = new Vector2();\n      let uvB = new Vector2();\n      let uvC = new Vector2();\n      for (let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6) {\n        a.set(vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ]);\n        b.set(vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ]);\n        c.set(vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ]);\n        uvA.set(uvBuffer[ j + 0 ], uvBuffer[ j + 1 ]);\n        uvB.set(uvBuffer[ j + 2 ], uvBuffer[ j + 3 ]);\n        uvC.set(uvBuffer[ j + 4 ], uvBuffer[ j + 5 ]);\n        centroid.copy(a).add(b).add(c).divideScalar(3);\n        let azi = azimuth(centroid);\n        correctUV(uvA, j + 0, a, azi);\n        correctUV(uvB, j + 2, b, azi);\n        correctUV(uvC, j + 4, c, azi);\n      }\n    }\n    function correctUV(uv, stride, vector, azimuth) {\n      if ((azimuth < 0) && (uv.x === 1)) {\n        uvBuffer[ stride ] =  uv.x - 1;\n      }\n      if ((vector.x === 0) && (vector.z === 0)) {\n        uvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n      }\n    }\n    // Angle around the Y axis, counter-clockwise when looking from above.\n    function azimuth(vector) {\n      return Math.atan2(vector.z, - vector.x);\n    }\n    // Angle above the XZ plane.\n    function inclination(vector) {\n      return Math.atan2(- vector.y, Math.sqrt((vector.x * vector.x) + (vector.z * vector.z)));\n    }\n  }\n}\n","import { PolyhedronBufferGeometry } from \"./PolyhedronBufferGeometry\";\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\nexport class TetrahedronBufferGeometry extends PolyhedronBufferGeometry {\n  constructor(radius, detail) {\n    let vertices = [\n      1,  1,  1,   - 1, - 1,  1,   - 1,  1, - 1,    1, - 1, - 1\n    ];\n    let indices = [\n      2,  1,  0,    0,  3,  2,    1,  3,  0,    2,  3,  1\n    ];\n    super(vertices, indices, radius, detail);\n    this.type = 'TetrahedronBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { TetrahedronBufferGeometry } from \"./TetrahedronBufferGeometry\";\n/**\n * @author timothypratley / https://github.com/timothypratley\n */\nexport class TetrahedronGeometry extends Geometry {\n  constructor(radius: number, detail: number) {\n    super();\n    this.type = 'TetrahedronGeometry';\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n    this.fromBufferGeometry(new TetrahedronBufferGeometry(radius, detail));\n    this.mergeVertices();\n  }\n}\n","import { PolyhedronBufferGeometry } from \"./PolyhedronBufferGeometry\";\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\nexport class OctahedronBufferGeometry extends PolyhedronBufferGeometry {\n  constructor(radius, detail) {\n    let vertices = [\n      1, 0, 0,   - 1, 0, 0,    0, 1, 0,    0, - 1, 0,    0, 0, 1,    0, 0, - 1\n    ];\n    let indices = [\n      0, 2, 4,    0, 4, 3,    0, 3, 5,    0, 5, 2,    1, 2, 5,    1, 5, 3,    1, 3, 4,    1, 4, 2\n    ];\n    super(vertices, indices, radius, detail);\n    this.type = 'OctahedronBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { OctahedronBufferGeometry } from \"./OctahedronBufferGeometry\";\n/**\n * @author timothypratley / https://github.com/timothypratley\n */\nexport class OctahedronGeometry extends Geometry {\n  constructor(radius: number, detail: number) {\n    super();\n    this.type = 'OctahedronGeometry';\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n    this.fromBufferGeometry(new OctahedronBufferGeometry(radius, detail));\n    this.mergeVertices();\n  }\n}\n","import { PolyhedronBufferGeometry } from \"./PolyhedronBufferGeometry\";\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\nexport class IcosahedronBufferGeometry extends PolyhedronBufferGeometry {\n  constructor(radius, detail) {\n    let t = (1 + Math.sqrt(5)) / 2;\n    let vertices = [\n      - 1,  t,  0,    1,  t,  0,   - 1, - t,  0,    1, - t,  0,\n       0, - 1,  t,    0,  1,  t,    0, - 1, - t,    0,  1, - t,\n       t,  0, - 1,    t,  0,  1,   - t,  0, - 1,   - t,  0,  1\n    ];\n    let indices = [\n       0, 11,  5,    0,  5,  1,    0,  1,  7,    0,  7, 10,    0, 10, 11,\n       1,  5,  9,    5, 11,  4,   11, 10,  2,   10,  7,  6,    7,  1,  8,\n       3,  9,  4,    3,  4,  2,    3,  2,  6,    3,  6,  8,    3,  8,  9,\n       4,  9,  5,    2,  4, 11,    6,  2, 10,    8,  6,  7,    9,  8,  1\n    ];\n    super(vertices, indices, radius, detail);\n    this.type = 'IcosahedronBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { IcosahedronBufferGeometry } from \"./IcosahedronBufferGeometry\";\n/**\n * @author timothypratley / https://github.com/timothypratley\n */\nexport class IcosahedronGeometry extends Geometry {\n  constructor(radius: number, detail: number) {\n    super();\n    this.type = 'IcosahedronGeometry';\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n    this.fromBufferGeometry(new IcosahedronBufferGeometry(radius, detail));\n    this.mergeVertices();\n  }\n}\n","import { PolyhedronBufferGeometry } from \"./PolyhedronBufferGeometry\";\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\nexport class DodecahedronBufferGeometry extends PolyhedronBufferGeometry {\n  constructor(radius, detail) {\n    let t = (1 + Math.sqrt(5)) / 2;\n    let r = 1 / t;\n    let vertices = [\n      // (±1, ±1, ±1)\n      - 1, - 1, - 1,    - 1, - 1,  1,\n      - 1,  1, - 1,    - 1,  1,  1,\n       1, - 1, - 1,     1, - 1,  1,\n       1,  1, - 1,     1,  1,  1,\n      // (0, ±1/φ, ±φ)\n       0, - r, - t,     0, - r,  t,\n       0,  r, - t,     0,  r,  t,\n      // (±1/φ, ±φ, 0)\n      - r, - t,  0,    - r,  t,  0,\n       r, - t,  0,     r,  t,  0,\n      // (±φ, 0, ±1/φ)\n      - t,  0, - r,     t,  0, - r,\n      - t,  0,  r,     t,  0,  r\n    ];\n    let indices = [\n       3, 11,  7,      3,  7, 15,      3, 15, 13,\n       7, 19, 17,      7, 17,  6,      7,  6, 15,\n      17,  4,  8,     17,  8, 10,     17, 10,  6,\n       8,  0, 16,      8, 16,  2,      8,  2, 10,\n       0, 12,  1,      0,  1, 18,      0, 18, 16,\n       6, 10,  2,      6,  2, 13,      6, 13, 15,\n       2, 16, 18,      2, 18,  3,      2,  3, 13,\n      18,  1,  9,     18,  9, 11,     18, 11,  3,\n       4, 14, 12,      4, 12,  0,      4,  0,  8,\n      11,  9,  5,     11,  5, 19,     11, 19,  7,\n      19,  5, 14,     19, 14,  4,     19,  4, 17,\n       1, 12, 14,      1, 14,  5,      1,  5,  9\n    ];\n    super(vertices, indices, radius, detail);\n    this.type = 'DodecahedronBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { DodecahedronBufferGeometry } from \"./DodecahedronBufferGeometry\";\n/**\n * @author Abe Pazos / https://hamoid.com\n */\nexport class DodecahedronGeometry extends Geometry {\n  constructor(radius: number, detail: number) {\n    super();\n    this.type = 'DodecahedronGeometry';\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n    this.fromBufferGeometry(new DodecahedronBufferGeometry(radius, detail));\n    this.mergeVertices();\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { PolyhedronBufferGeometry } from \"./PolyhedronBufferGeometry\";\n/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n*/\nfunction PolyhedronGeometry(vertices, indices, radius, detail) {\n  Geometry.call(this);\n  this.type = 'PolyhedronGeometry';\n  this.parameters = {\n    vertices: vertices,\n    indices: indices,\n    radius: radius,\n    detail: detail\n  };\n  this.fromBufferGeometry(new PolyhedronBufferGeometry(vertices, indices, radius, detail));\n  this.mergeVertices();\n}\nPolyhedronGeometry.prototype = Object.create(Geometry.prototype);\nPolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\nexport { PolyhedronGeometry };\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Float32Attribute, Uint16Attribute, Uint32Attribute } from \"../core/BufferAttribute\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Curve } from \"../extras/core/Curve\";\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Creates a tube which extrudes along a 3d spline.\n *\n */\nexport class TubeBufferGeometry extends BufferGeometry {\n  tangents: Vector3[];\n  normals: Vector3[];\n  binormals: Vector3[];\n  constructor(path: Curve<Vector3>, tubularSegments: number, radius: number, radialSegments: number, closed: boolean) {\n    super();\n    this.type = 'TubeBufferGeometry';\n    this.parameters = {\n      path: path,\n      tubularSegments: tubularSegments,\n      radius: radius,\n      radialSegments: radialSegments,\n      closed: closed\n    };\n    tubularSegments = tubularSegments || 64;\n    radius = radius || 1;\n    radialSegments = radialSegments || 8;\n    closed = closed || false;\n    let frames = path.computeFrenetFrames(tubularSegments, closed);\n    // expose internals\n    this.tangents = frames.tangents;\n    this.normals = frames.normals;\n    this.binormals = frames.binormals;\n    // helper variables\n    let vertex = new Vector3();\n    let normal = new Vector3();\n    let uv = new Vector2();\n    // buffer\n    let vertices = [];\n    let normals = [];\n    let uvs = [];\n    let indices = [];\n    // create buffer data\n    generateBufferData();\n    // build geometry\n    this.setIndex((indices.length > 65535 ? Uint32Attribute : Uint16Attribute)(indices, 1));\n    this.addAttribute('position', Float32Attribute(vertices, 3));\n    this.addAttribute('normal', Float32Attribute(normals, 3));\n    this.addAttribute('uv', Float32Attribute(uvs, 2));\n    // functions\n    function generateBufferData() {\n      for (let i = 0; i < tubularSegments; i ++) {\n        generateSegment(i);\n      }\n      // if the geometry is not closed, generate the last row of vertices and normals\n      // at the regular position on the given path\n      //\n      // if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n      generateSegment((closed === false) ? tubularSegments : 0);\n      // uvs are generated in a separate function.\n      // this makes it easy compute correct values for closed geometries\n      generateUVs();\n      // finally create faces\n      generateIndices();\n    }\n    function generateSegment(i) {\n      // we use getPointAt to sample evenly distributed points from the given path\n      let P = path.getPointAt(i / tubularSegments);\n      // retrieve corresponding normal and binormal\n      let N = frames.normals[ i ];\n      let B = frames.binormals[ i ];\n      // generate normals and vertices for the current segment\n      for (let j = 0; j <= radialSegments; j ++) {\n        let v = j / radialSegments * Math.PI * 2;\n        let sin =   Math.sin(v);\n        let cos = - Math.cos(v);\n        // normal\n        normal.x = (cos * N.x + sin * B.x);\n        normal.y = (cos * N.y + sin * B.y);\n        normal.z = (cos * N.z + sin * B.z);\n        normal.normalize();\n        normals.push(normal.x, normal.y, normal.z);\n        // vertex\n        vertex.x = P.x + radius * normal.x;\n        vertex.y = P.y + radius * normal.y;\n        vertex.z = P.z + radius * normal.z;\n        vertices.push(vertex.x, vertex.y, vertex.z);\n      }\n    }\n    function generateIndices() {\n      for (let j = 1; j <= tubularSegments; j ++) {\n        for (let i = 1; i <= radialSegments; i ++) {\n          let a = (radialSegments + 1) * (j - 1) + (i - 1);\n          let b = (radialSegments + 1) * j + (i - 1);\n          let c = (radialSegments + 1) * j + i;\n          let d = (radialSegments + 1) * (j - 1) + i;\n          // faces\n          indices.push(a, b, d);\n          indices.push(b, c, d);\n        }\n      }\n    }\n    function generateUVs() {\n      for (let i = 0; i <= tubularSegments; i ++) {\n        for (let j = 0; j <= radialSegments; j ++) {\n          uv.x = i / tubularSegments;\n          uv.y = j / radialSegments;\n          uvs.push(uv.x, uv.y);\n        }\n      }\n    }\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { TubeBufferGeometry } from \"./TubeBufferGeometry\";\nimport { Curve } from \"../extras/core/Curve\";\nimport { Vector3 } from \"../math/Vector3\";\n/**\n * @author oosmoxiecode / https://github.com/oosmoxiecode\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n * @author jonobr1 / https://github.com/jonobr1\n *\n * Creates a tube which extrudes along a 3d spline.\n */\nexport class TubeGeometry extends Geometry {\n  tangents: Vector3[];\n  normals: Vector3[];\n  binormals: Vector3[];\n  constructor(path: Curve<Vector3>, tubularSegments: number, radius: number, radialSegments: number, closed: boolean, taper?: number) {\n    super();\n    this.type = 'TubeGeometry';\n    this.parameters = {\n      path: path,\n      tubularSegments: tubularSegments,\n      radius: radius,\n      radialSegments: radialSegments,\n      closed: closed\n    };\n    if (taper !== undefined) console.warn('THREE.TubeGeometry: taper has been removed.');\n    let bufferGeometry = new TubeBufferGeometry(path, tubularSegments, radius, radialSegments, closed);\n    // expose internals\n    this.tangents = bufferGeometry.tangents;\n    this.normals = bufferGeometry.normals;\n    this.binormals = bufferGeometry.binormals;\n    // create geometry\n    this.fromBufferGeometry(bufferGeometry);\n    this.mergeVertices();\n  }\n}\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { BufferAttribute } from \"../core/BufferAttribute\";\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * see: http://www.blackpawn.com/texts/pqtorus/\n */\nexport class TorusKnotBufferGeometry extends BufferGeometry {\n  constructor(radius: number, tube: number, tubularSegments: number, radialSegments: number, p: number, q: number) {\n    super();\n    this.type = 'TorusKnotBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      tubularSegments: tubularSegments,\n      radialSegments: radialSegments,\n      p: p,\n      q: q\n    };\n    radius = radius || 100;\n    tube = tube || 40;\n    tubularSegments = Math.floor(tubularSegments) || 64;\n    radialSegments = Math.floor(radialSegments) || 8;\n    p = p || 2;\n    q = q || 3;\n    // used to calculate buffer length\n    const vertexCount = ((radialSegments + 1) * (tubularSegments + 1));\n    const indexCount = radialSegments * tubularSegments * 2 * 3;\n    // buffers\n    const indices = new BufferAttribute(new (indexCount > 65535 ? Uint32Array : Uint16Array)(indexCount) , 1);\n    const vertices = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    const normals = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    const uvs = new BufferAttribute(new Float32Array(vertexCount * 2), 2);\n    // helper variables\n    let index = 0, indexOffset = 0;\n    const vertex = new Vector3();\n    const normal = new Vector3();\n    const uv = new Vector2();\n    const P1 = new Vector3();\n    const P2 = new Vector3();\n    const B = new Vector3();\n    const T = new Vector3();\n    const N = new Vector3();\n    // generate vertices, normals and uvs\n    for (let i = 0; i <= tubularSegments; ++ i) {\n      // the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n      const u = i / tubularSegments * p * Math.PI * 2;\n      // now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n      // these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n      calculatePositionOnCurve(u, p, q, radius, P1);\n      calculatePositionOnCurve(u + 0.01, p, q, radius, P2);\n      // calculate orthonormal basis\n      T.subVectors(P2, P1);\n      N.addVectors(P2, P1);\n      B.crossVectors(T, N);\n      N.crossVectors(B, T);\n      // normalize B, N. T can be ignored, we don't use it\n      B.normalize();\n      N.normalize();\n      for (let j = 0; j <= radialSegments; ++ j) {\n        // now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n        // because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n        const v = j / radialSegments * Math.PI * 2;\n        const cx = - tube * Math.cos(v);\n        const cy = tube * Math.sin(v);\n        // now calculate the final vertex position.\n        // first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n        vertex.x = P1.x + (cx * N.x + cy * B.x);\n        vertex.y = P1.y + (cx * N.y + cy * B.y);\n        vertex.z = P1.z + (cx * N.z + cy * B.z);\n        // vertex\n        vertices.setXYZ(index, vertex.x, vertex.y, vertex.z);\n        // normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n        normal.subVectors(vertex, P1).normalize();\n        normals.setXYZ(index, normal.x, normal.y, normal.z);\n        // uv\n        uv.x = i / tubularSegments;\n        uv.y = j / radialSegments;\n        uvs.setXY(index, uv.x, uv.y);\n        // increase index\n        index ++;\n      }\n    }\n    // generate indices\n    for (let j = 1; j <= tubularSegments; j ++) {\n      for (let i = 1; i <= radialSegments; i ++) {\n        // indices\n        const a = (radialSegments + 1) * (j - 1) + (i - 1);\n        const b = (radialSegments + 1) * j + (i - 1);\n        const c = (radialSegments + 1) * j + i;\n        const d = (radialSegments + 1) * (j - 1) + i;\n        // face one\n        indices.setX(indexOffset, a); indexOffset++;\n        indices.setX(indexOffset, b); indexOffset++;\n        indices.setX(indexOffset, d); indexOffset++;\n        // face two\n        indices.setX(indexOffset, b); indexOffset++;\n        indices.setX(indexOffset, c); indexOffset++;\n        indices.setX(indexOffset, d); indexOffset++;\n      }\n    }\n    // build geometry\n    this.setIndex(indices);\n    this.addAttribute('position', vertices);\n    this.addAttribute('normal', normals);\n    this.addAttribute('uv', uvs);\n    // this function calculates the current position on the torus curve\n    function calculatePositionOnCurve(u: number, p: number, q: number, radius: number, position: Vector3) {\n      const cu = Math.cos(u);\n      const su = Math.sin(u);\n      const quOverP = q / p * u;\n      const cs = Math.cos(quOverP);\n      position.x = radius * (2 + cs) * 0.5 * cu;\n      position.y = radius * (2 + cs) * su * 0.5;\n      position.z = radius * Math.sin(quOverP) * 0.5;\n    }\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { TorusKnotBufferGeometry } from \"./TorusKnotBufferGeometry\";\n/**\n * @author oosmoxiecode\n */\nexport class TorusKnotGeometry extends Geometry {\n  constructor(radius: number, tube: number, tubularSegments: number, radialSegments: number, p?: number, q?: number, heightScale?: number) {\n    super();\n    this.type = 'TorusKnotGeometry';\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      tubularSegments: tubularSegments,\n      radialSegments: radialSegments,\n      p: p,\n      q: q\n    };\n    if (heightScale !== undefined) console.warn('THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale(x, y, z) instead.');\n    this.fromBufferGeometry(new TorusKnotBufferGeometry(radius, tube, tubularSegments, radialSegments, p, q));\n    this.mergeVertices();\n  }\n}\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { BufferAttribute } from \"../core/BufferAttribute\";\nimport { Vector3 } from \"../math/Vector3\";\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\nexport class TorusBufferGeometry extends BufferGeometry {\n  constructor(radius: number, tube: number, radialSegments: number, tubularSegments: number, arc?: number) {\n    super();\n    this.type = 'TorusBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      radialSegments: radialSegments,\n      tubularSegments: tubularSegments,\n      arc: arc\n    };\n    radius = radius || 100;\n    tube = tube || 40;\n    radialSegments = Math.floor(radialSegments) || 8;\n    tubularSegments = Math.floor(tubularSegments) || 6;\n    arc = arc || Math.PI * 2;\n    // used to calculate buffer length\n    const vertexCount = ((radialSegments + 1) * (tubularSegments + 1));\n    const indexCount = radialSegments * tubularSegments * 2 * 3;\n    // buffers\n    const indices = new (indexCount > 65535 ? Uint32Array : Uint16Array)(indexCount);\n    const vertices = new Float32Array(vertexCount * 3);\n    const normals = new Float32Array(vertexCount * 3);\n    const uvs = new Float32Array(vertexCount * 2);\n    // offset variables\n    let vertexBufferOffset = 0;\n    let uvBufferOffset = 0;\n    let indexBufferOffset = 0;\n    // helper variables\n    const center = new Vector3();\n    const vertex = new Vector3();\n    const normal = new Vector3();\n    // generate vertices, normals and uvs\n    for (let j = 0; j <= radialSegments; j ++) {\n      for (let i = 0; i <= tubularSegments; i ++) {\n        const u = i / tubularSegments * arc;\n        const v = j / radialSegments * Math.PI * 2;\n        // vertex\n        vertex.x = (radius + tube * Math.cos(v)) * Math.cos(u);\n        vertex.y = (radius + tube * Math.cos(v)) * Math.sin(u);\n        vertex.z = tube * Math.sin(v);\n        vertices[vertexBufferOffset] = vertex.x;\n        vertices[vertexBufferOffset + 1] = vertex.y;\n        vertices[vertexBufferOffset + 2] = vertex.z;\n        // this vector is used to calculate the normal\n        center.x = radius * Math.cos(u);\n        center.y = radius * Math.sin(u);\n        // normal\n        normal.subVectors(vertex, center).normalize();\n        normals[vertexBufferOffset] = normal.x;\n        normals[vertexBufferOffset + 1] = normal.y;\n        normals[vertexBufferOffset + 2] = normal.z;\n        // uv\n        uvs[uvBufferOffset] = i / tubularSegments;\n        uvs[uvBufferOffset + 1] = j / radialSegments;\n        // update offsets\n        vertexBufferOffset += 3;\n        uvBufferOffset += 2;\n      }\n    }\n    // generate indices\n    for (let j = 1; j <= radialSegments; j ++) {\n      for (let i = 1; i <= tubularSegments; i ++) {\n        // indices\n        const a = (tubularSegments + 1) * j + i - 1;\n        const b = (tubularSegments + 1) * (j - 1) + i - 1;\n        const c = (tubularSegments + 1) * (j - 1) + i;\n        const d = (tubularSegments + 1) * j + i;\n        // face one\n        indices[indexBufferOffset] = a;\n        indices[indexBufferOffset + 1] = b;\n        indices[indexBufferOffset + 2] = d;\n        // face two\n        indices[indexBufferOffset + 3] = b;\n        indices[indexBufferOffset + 4] = c;\n        indices[indexBufferOffset + 5] = d;\n        // update offset\n        indexBufferOffset += 6;\n      }\n    }\n    // build geometry\n    this.setIndex(new BufferAttribute(indices, 1));\n    this.addAttribute('position', new BufferAttribute(vertices, 3));\n    this.addAttribute('normal', new BufferAttribute(normals, 3));\n    this.addAttribute('uv', new BufferAttribute(uvs, 2));\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { TorusBufferGeometry } from \"./TorusBufferGeometry\";\n/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * based on http://code.google.com/p/away3d/source/browse/trunk/fp10/Away3DLite/src/away3dlite/primitives/Torus.as?r=2888\n */\nexport class TorusGeometry extends Geometry {\n  constructor(radius: number, tube: number, radialSegments: number, tubularSegments: number, arc?: number) {\n    super();\n    this.type = 'TorusGeometry';\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      radialSegments: radialSegments,\n      tubularSegments: tubularSegments,\n      arc: arc\n    };\n    this.fromBufferGeometry(new TorusBufferGeometry(radius, tube, radialSegments, tubularSegments, arc));\n  }\n}\n","/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\nimport { Vector2 } from \"../math/Vector2\";\nexport class ShapeUtils {\n  // calculate area of the contour polygon\n  static area(contour: Vector2[]): number {\n    let n = contour.length;\n    let a = 0.0;\n    for (let p = n - 1, q = 0; q < n; p = q ++) {\n      a += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n    }\n    return a * 0.5;\n  }\n  static triangulate(contour: Vector2[], indices: boolean): Vector2[][] | number[][] {\n    /**\n     * This code is a quick port of code written in C++ which was submitted to\n     * flipcode.com by John W. Ratcliff  // July 22, 2000\n     * See original code and more information here:\n     * http://www.flipcode.com/archives/Efficient_Polygon_Triangulation.shtml\n     *\n     * ported to actionscript by Zevan Rosser\n     * www.actionsnippet.com\n     *\n     * ported to javascript by Joshua Koo\n     * http://www.lab4games.net/zz85/blog\n     *\n     */\n    function snip(contour: Vector2[], u: number, v: number, w: number, n: number, verts: number[]): boolean {\n      let p: number;\n      let ax: number, ay: number, bx: number, by: number;\n      let cx: number, cy: number, px: number, py: number;\n      ax = contour[ verts[ u ] ].x;\n      ay = contour[ verts[ u ] ].y;\n      bx = contour[ verts[ v ] ].x;\n      by = contour[ verts[ v ] ].y;\n      cx = contour[ verts[ w ] ].x;\n      cy = contour[ verts[ w ] ].y;\n      if ((bx - ax) * (cy - ay) - (by - ay) * (cx - ax) <= 0) return false;\n      let aX: number, aY: number, bX: number, bY: number, cX: number, cY: number;\n      let apx: number, apy: number, bpx: number, bpy: number, cpx: number, cpy: number;\n      let cCROSSap: number, bCROSScp: number, aCROSSbp: number;\n      aX = cx - bx;  aY = cy - by;\n      bX = ax - cx;  bY = ay - cy;\n      cX = bx - ax;  cY = by - ay;\n      for (p = 0; p < n; p ++) {\n        px = contour[ verts[ p ] ].x;\n        py = contour[ verts[ p ] ].y;\n        if (((px === ax) && (py === ay)) ||\n           ((px === bx) && (py === by)) ||\n           ((px === cx) && (py === cy)))  continue;\n        apx = px - ax;  apy = py - ay;\n        bpx = px - bx;  bpy = py - by;\n        cpx = px - cx;  cpy = py - cy;\n        // see if p is inside triangle abc\n        aCROSSbp = aX * bpy - aY * bpx;\n        cCROSSap = cX * apy - cY * apx;\n        bCROSScp = bX * cpy - bY * cpx;\n        if ((aCROSSbp >= - Number.EPSILON) && (bCROSScp >= - Number.EPSILON) && (cCROSSap >= - Number.EPSILON)) return false;\n      }\n      return true;\n    }\n    // takes in an contour array and returns\n    //return function triangulate(contour, indices) {\n      let n: number = contour.length;\n      if (n < 3) return null;\n      const result: Vector2[][] = [];\n      const verts: number[] = [];\n      const vertIndices: number[][] = [];\n      /* we want a counter-clockwise polygon in verts */\n      let u: number, v: number, w: number;\n      if (ShapeUtils.area(contour) > 0.0) {\n        for (v = 0; v < n; v ++) verts[ v ] = v;\n      } else {\n        for (v = 0; v < n; v ++) verts[ v ] = (n - 1) - v;\n      }\n      let nv: number = n;\n      /*  remove nv - 2 vertices, creating 1 triangle every time */\n      let count: number = 2 * nv;   /* error detection */\n      for (v = nv - 1; nv > 2; ) {\n        /* if we loop, it is probably a non-simple polygon */\n        if ((count --) <= 0) {\n          //** Triangulate: ERROR - probable bad polygon!\n          //throw (\"Warning, unable to triangulate polygon!\");\n          //return null;\n          // Sometimes warning is fine, especially polygons are triangulated in reverse.\n          console.warn('THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()');\n          if (indices) return vertIndices;\n          return result;\n        }\n        /* three consecutive vertices in current polygon, <u,v,w> */\n        u = v;      if (nv <= u) u = 0;     /* previous */\n        v = u + 1;  if (nv <= v) v = 0;     /* new v    */\n        w = v + 1;  if (nv <= w) w = 0;     /* next     */\n        if (snip(contour, u, v, w, nv, verts)) {\n          let a: number, b: number, c: number, s: number, t: number;\n          /* true names of the vertices */\n          a = verts[ u ];\n          b = verts[ v ];\n          c = verts[ w ];\n          /* output Triangle */\n          result.push([ contour[ a ], contour[ b ], contour[ c ] ]);\n          vertIndices.push([ verts[ u ], verts[ v ], verts[ w ] ]);\n          /* remove v from the remaining polygon */\n          for (s = v, t = v + 1; t < nv; s ++, t ++) {\n            verts[ s ] = verts[ t ];\n          }\n          nv --;\n          /* reset error detection counter */\n          count = 2 * nv;\n        }\n      }\n      if (indices) return vertIndices;\n      return result;\n    //};\n  }\n  static triangulateShape(contour: Vector2[], holes: Vector2[][]): number[][] {\n    function removeDupEndPts(points: Vector2[]): void {\n      let l: number = points.length;\n      if (l > 2 && points[ l - 1 ].equals(points[ 0 ])) {\n        points.pop();\n      }\n    }\n    removeDupEndPts(contour);\n    holes.forEach(removeDupEndPts);\n    function point_in_segment_2D_colin(inSegPt1: Vector2, inSegPt2: Vector2, inOtherPt: Vector2): boolean {\n      // inOtherPt needs to be collinear to the inSegment\n      if (inSegPt1.x !== inSegPt2.x) {\n        if (inSegPt1.x < inSegPt2.x) {\n          return  ((inSegPt1.x <= inOtherPt.x) && (inOtherPt.x <= inSegPt2.x));\n        } else {\n          return  ((inSegPt2.x <= inOtherPt.x) && (inOtherPt.x <= inSegPt1.x));\n        }\n      } else {\n        if (inSegPt1.y < inSegPt2.y) {\n          return  ((inSegPt1.y <= inOtherPt.y) && (inOtherPt.y <= inSegPt2.y));\n        } else {\n          return  ((inSegPt2.y <= inOtherPt.y) && (inOtherPt.y <= inSegPt1.y));\n        }\n      }\n    }\n    function intersect_segments_2D(inSeg1Pt1: Vector2, inSeg1Pt2: Vector2, inSeg2Pt1: Vector2, inSeg2Pt2: Vector2, inExcludeAdjacentSegs: boolean): Vector2[] {\n      let seg1dx: number = inSeg1Pt2.x - inSeg1Pt1.x, seg1dy: number = inSeg1Pt2.y - inSeg1Pt1.y;\n      let seg2dx: number = inSeg2Pt2.x - inSeg2Pt1.x, seg2dy: number = inSeg2Pt2.y - inSeg2Pt1.y;\n      let seg1seg2dx: number = inSeg1Pt1.x - inSeg2Pt1.x;\n      let seg1seg2dy: number = inSeg1Pt1.y - inSeg2Pt1.y;\n      let limit: number = seg1dy * seg2dx - seg1dx * seg2dy;\n      let perpSeg1: number = seg1dy * seg1seg2dx - seg1dx * seg1seg2dy;\n      if (Math.abs(limit) > Number.EPSILON) {\n        // not parallel\n        let perpSeg2: number;\n        if (limit > 0) {\n          if ((perpSeg1 < 0) || (perpSeg1 > limit)) return [];\n          perpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\n          if ((perpSeg2 < 0) || (perpSeg2 > limit)) return [];\n        } else {\n          if ((perpSeg1 > 0) || (perpSeg1 < limit)) return [];\n          perpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\n          if ((perpSeg2 > 0) || (perpSeg2 < limit)) return [];\n        }\n        // i.e. to reduce rounding errors\n        // intersection at endpoint of segment#1?\n        if (perpSeg2 === 0) {\n          if ((inExcludeAdjacentSegs) &&\n             ((perpSeg1 === 0) || (perpSeg1 === limit))) return [];\n          return [ inSeg1Pt1 ];\n        }\n        if (perpSeg2 === limit) {\n          if ((inExcludeAdjacentSegs) &&\n             ((perpSeg1 === 0) || (perpSeg1 === limit))) return [];\n          return [ inSeg1Pt2 ];\n        }\n        // intersection at endpoint of segment#2?\n        if (perpSeg1 === 0) return [ inSeg2Pt1 ];\n        if (perpSeg1 === limit) return [ inSeg2Pt2 ];\n        // return real intersection point\n        let factorSeg1 = perpSeg2 / limit;\n        return [ new Vector2(inSeg1Pt1.x + factorSeg1 * seg1dx, inSeg1Pt1.y + factorSeg1 * seg1dy) ];\n      } else {\n        // parallel or collinear\n        if ((perpSeg1 !== 0) ||\n           (seg2dy * seg1seg2dx !== seg2dx * seg1seg2dy)) return [];\n        // they are collinear or degenerate\n        let seg1Pt: boolean = ((seg1dx === 0) && (seg1dy === 0));  // segment1 is just a point?\n        let seg2Pt: boolean = ((seg2dx === 0) && (seg2dy === 0));  // segment2 is just a point?\n        // both segments are points\n        if (seg1Pt && seg2Pt) {\n          if ((inSeg1Pt1.x !== inSeg2Pt1.x) || (inSeg1Pt1.y !== inSeg2Pt1.y)) return [];  // they are distinct  points\n          return [ inSeg1Pt1 ]; // they are the same point\n        }\n        // segment#1  is a single point\n        if (seg1Pt) {\n          if (! point_in_segment_2D_colin(inSeg2Pt1, inSeg2Pt2, inSeg1Pt1)) return [];    // but not in segment#2\n          return [ inSeg1Pt1 ];\n        }\n        // segment#2  is a single point\n        if (seg2Pt) {\n          if (! point_in_segment_2D_colin(inSeg1Pt1, inSeg1Pt2, inSeg2Pt1)) return [];    // but not in segment#1\n          return [ inSeg2Pt1 ];\n        }\n        // they are collinear segments, which might overlap\n        let seg1min: Vector2, seg1max: Vector2, seg1minVal: number, seg1maxVal: number;\n        let seg2min: Vector2, seg2max: Vector2, seg2minVal: number, seg2maxVal: number;\n        if (seg1dx !== 0) {\n          // the segments are NOT on a vertical line\n          if (inSeg1Pt1.x < inSeg1Pt2.x) {\n            seg1min = inSeg1Pt1; seg1minVal = inSeg1Pt1.x;\n            seg1max = inSeg1Pt2; seg1maxVal = inSeg1Pt2.x;\n          } else {\n            seg1min = inSeg1Pt2; seg1minVal = inSeg1Pt2.x;\n            seg1max = inSeg1Pt1; seg1maxVal = inSeg1Pt1.x;\n          }\n          if (inSeg2Pt1.x < inSeg2Pt2.x) {\n            seg2min = inSeg2Pt1; seg2minVal = inSeg2Pt1.x;\n            seg2max = inSeg2Pt2; seg2maxVal = inSeg2Pt2.x;\n          } else {\n            seg2min = inSeg2Pt2; seg2minVal = inSeg2Pt2.x;\n            seg2max = inSeg2Pt1; seg2maxVal = inSeg2Pt1.x;\n          }\n        } else {\n          // the segments are on a vertical line\n          if (inSeg1Pt1.y < inSeg1Pt2.y) {\n            seg1min = inSeg1Pt1; seg1minVal = inSeg1Pt1.y;\n            seg1max = inSeg1Pt2; seg1maxVal = inSeg1Pt2.y;\n          } else {\n            seg1min = inSeg1Pt2; seg1minVal = inSeg1Pt2.y;\n            seg1max = inSeg1Pt1; seg1maxVal = inSeg1Pt1.y;\n          }\n          if (inSeg2Pt1.y < inSeg2Pt2.y) {\n            seg2min = inSeg2Pt1; seg2minVal = inSeg2Pt1.y;\n            seg2max = inSeg2Pt2; seg2maxVal = inSeg2Pt2.y;\n          } else {\n            seg2min = inSeg2Pt2; seg2minVal = inSeg2Pt2.y;\n            seg2max = inSeg2Pt1; seg2maxVal = inSeg2Pt1.y;\n          }\n        }\n        if (seg1minVal <= seg2minVal) {\n          if (seg1maxVal <  seg2minVal) return [];\n          if (seg1maxVal === seg2minVal) {\n            if (inExcludeAdjacentSegs) return [];\n            return [ seg2min ];\n          }\n          if (seg1maxVal <= seg2maxVal)  return [ seg2min, seg1max ];\n          return  [ seg2min, seg2max ];\n        } else {\n          if (seg1minVal >  seg2maxVal) return [];\n          if (seg1minVal === seg2maxVal) {\n            if (inExcludeAdjacentSegs) return [];\n            return [ seg1min ];\n          }\n          if (seg1maxVal <= seg2maxVal) return [ seg1min, seg1max ];\n          return  [ seg1min, seg2max ];\n        }\n      }\n    }\n    function isPointInsideAngle(inVertex: Vector2, inLegFromPt: Vector2, inLegToPt: Vector2, inOtherPt: Vector2): boolean {\n      // The order of legs is important\n      // translation of all points, so that Vertex is at (0,0)\n      let legFromPtX: number = inLegFromPt.x - inVertex.x, legFromPtY: number = inLegFromPt.y - inVertex.y;\n      let legToPtX: number = inLegToPt.x - inVertex.x, legToPtY: number = inLegToPt.y  - inVertex.y;\n      let otherPtX: number = inOtherPt.x - inVertex.x, otherPtY: number = inOtherPt.y  - inVertex.y;\n      // main angle >0: < 180 deg.; 0: 180 deg.; <0: > 180 deg.\n      let from2toAngle: number = legFromPtX * legToPtY - legFromPtY * legToPtX;\n      let from2otherAngle: number  = legFromPtX * otherPtY - legFromPtY * otherPtX;\n      if (Math.abs(from2toAngle) > Number.EPSILON) {\n        // angle != 180 deg.\n        let other2toAngle: number = otherPtX * legToPtY - otherPtY * legToPtX;\n        // console.log(\"from2to: \" + from2toAngle + \", from2other: \" + from2otherAngle + \", other2to: \" + other2toAngle);\n        if (from2toAngle > 0) {\n          // main angle < 180 deg.\n          return ((from2otherAngle >= 0) && (other2toAngle >= 0));\n        } else {\n          // main angle > 180 deg.\n          return ((from2otherAngle >= 0) || (other2toAngle >= 0));\n        }\n      } else {\n        // angle == 180 deg.\n        // console.log(\"from2to: 180 deg., from2other: \" + from2otherAngle);\n        return (from2otherAngle > 0);\n      }\n    }\n    function removeHoles(contour: Vector2[], holes: Vector2[][]) {\n      let shape: Vector2[] = contour.concat(); // work on this shape\n      let hole: Vector2[];\n      function isCutLineInsideAngles(inShapeIdx: number, inHoleIdx: number): boolean {\n        // Check if hole point lies within angle around shape point\n        let lastShapeIdx: number = shape.length - 1;\n        let prevShapeIdx: number = inShapeIdx - 1;\n        if (prevShapeIdx < 0) prevShapeIdx = lastShapeIdx;\n        let nextShapeIdx: number = inShapeIdx + 1;\n        if (nextShapeIdx > lastShapeIdx)  nextShapeIdx = 0;\n        let insideAngle: boolean = isPointInsideAngle(shape[ inShapeIdx ], shape[ prevShapeIdx ], shape[ nextShapeIdx ], hole[ inHoleIdx ]);\n        if (! insideAngle) {\n          // console.log(\"Vertex (Shape): \" + inShapeIdx + \", Point: \" + hole[inHoleIdx].x + \"/\" + hole[inHoleIdx].y);\n          return false;\n        }\n        // Check if shape point lies within angle around hole point\n        let lastHoleIdx: number = hole.length - 1;\n        let prevHoleIdx: number = inHoleIdx - 1;\n        if (prevHoleIdx < 0) prevHoleIdx = lastHoleIdx;\n        let nextHoleIdx: number = inHoleIdx + 1;\n        if (nextHoleIdx > lastHoleIdx)  nextHoleIdx = 0;\n        insideAngle = isPointInsideAngle(hole[ inHoleIdx ], hole[ prevHoleIdx ], hole[ nextHoleIdx ], shape[ inShapeIdx ]);\n        if (! insideAngle) {\n          // console.log(\"Vertex (Hole): \" + inHoleIdx + \", Point: \" + shape[inShapeIdx].x + \"/\" + shape[inShapeIdx].y);\n          return false;\n        }\n        return true;\n      }\n      function intersectsShapeEdge(inShapePt: Vector2, inHolePt: Vector2): boolean {\n        // checks for intersections with shape edges\n        let sIdx: number, nextIdx: number, intersection: Vector2[];\n        for (sIdx = 0; sIdx < shape.length; sIdx ++) {\n          nextIdx = sIdx + 1; nextIdx %= shape.length;\n          intersection = intersect_segments_2D(inShapePt, inHolePt, shape[ sIdx ], shape[ nextIdx ], true);\n          if (intersection.length > 0) return true;\n        }\n        return false;\n      }\n      let indepHoles: number[] = [];\n      function intersectsHoleEdge(inShapePt: Vector2, inHolePt: Vector2) {\n        // checks for intersections with hole edges\n        let ihIdx, chkHole, hIdx, nextIdx, intersection;\n        for (ihIdx = 0; ihIdx < indepHoles.length; ihIdx ++) {\n          chkHole = holes[ indepHoles[ ihIdx ]];\n          for (hIdx = 0; hIdx < chkHole.length; hIdx ++) {\n            nextIdx = hIdx + 1; nextIdx %= chkHole.length;\n            intersection = intersect_segments_2D(inShapePt, inHolePt, chkHole[ hIdx ], chkHole[ nextIdx ], true);\n            if (intersection.length > 0) return true;\n          }\n        }\n        return false;\n      }\n      let holeIndex, shapeIndex,\n        shapePt, holePt,\n        holeIdx, cutKey, failedCuts: boolean[] = [],\n        tmpShape1, tmpShape2,\n        tmpHole1, tmpHole2;\n      for (let h = 0, hl = holes.length; h < hl; h ++) {\n        indepHoles.push(h);\n      }\n      let minShapeIndex = 0;\n      let counter = indepHoles.length * 2;\n      while (indepHoles.length > 0) {\n        counter --;\n        if (counter < 0) {\n          console.log(\"Infinite Loop! Holes left:\" + indepHoles.length + \", Probably Hole outside Shape!\");\n          break;\n        }\n        // search for shape-vertex and hole-vertex,\n        // which can be connected without intersections\n        for (shapeIndex = minShapeIndex; shapeIndex < shape.length; shapeIndex ++) {\n          shapePt = shape[ shapeIndex ];\n          holeIndex  = - 1;\n          // search for hole which can be reached without intersections\n          for (let h = 0; h < indepHoles.length; h ++) {\n            holeIdx = indepHoles[ h ];\n            // prevent multiple checks\n            cutKey = shapePt.x + \":\" + shapePt.y + \":\" + holeIdx;\n            if (failedCuts[ cutKey ] !== undefined)      continue;\n            hole = holes[ holeIdx ];\n            for (let h2 = 0; h2 < hole.length; h2 ++) {\n              holePt = hole[ h2 ];\n              if (! isCutLineInsideAngles(shapeIndex, h2))    continue;\n              if (intersectsShapeEdge(shapePt, holePt))    continue;\n              if (intersectsHoleEdge(shapePt, holePt))    continue;\n              holeIndex = h2;\n              indepHoles.splice(h, 1);\n              tmpShape1 = shape.slice(0, shapeIndex + 1);\n              tmpShape2 = shape.slice(shapeIndex);\n              tmpHole1 = hole.slice(holeIndex);\n              tmpHole2 = hole.slice(0, holeIndex + 1);\n              shape = tmpShape1.concat(tmpHole1).concat(tmpHole2).concat(tmpShape2);\n              minShapeIndex = shapeIndex;\n              // Debug only, to show the selected cuts\n              // glob_CutLines.push([ shapePt, holePt ]);\n              break;\n            }\n            if (holeIndex >= 0)  break;    // hole-vertex found\n            failedCuts[ cutKey ] = true;      // remember failure\n          }\n          if (holeIndex >= 0)  break;    // hole-vertex found\n        }\n      }\n      return shape;       /* shape with no holes */\n    }\n    const allPointsMap = {};\n    // To maintain reference to old shape, one must match coordinates, or offset the indices from original arrays. It's probably easier to do the first.\n    const allpoints = contour.concat();\n    for (let h = 0, hl = holes.length; h < hl; h ++) {\n      Array.prototype.push.apply(allpoints, holes[ h ]);\n    }\n    //console.log(\"allpoints\",allpoints, allpoints.length);\n    // prepare all points map\n    for (let i = 0, il = allpoints.length; i < il; i ++) {\n      const key = allpoints[ i ].x + \":\" + allpoints[ i ].y;\n      if (allPointsMap[ key ] !== undefined) {\n        console.warn(\"THREE.ShapeUtils: Duplicate point\", key, i);\n      }\n      allPointsMap[ key ] = i;\n    }\n    // remove holes by cutting paths to holes and adding them to the shape\n    const shapeWithoutHoles = removeHoles(contour, holes);\n    const triangle_vertices: Vector2[][] = <Vector2[][]>ShapeUtils.triangulate(shapeWithoutHoles, false); // True returns indices for points of spooled shape\n    const triangle_indices: number[][] = [];\n    //console.log(\"triangles\",triangles, triangles.length);\n    // check all face vertices against all points map\n    for (let i = 0, il = triangle_vertices.length; i < il; i ++) {\n      const face_vertices = triangle_vertices[ i ];\n      const face_indices = triangle_indices[ i ] = [];\n      for (let f = 0; f < 3; f ++) {\n        const key = face_vertices[ f ].x + \":\" + face_vertices[ f ].y;\n        const index = allPointsMap[ key ];\n        if (index !== undefined) {\n          face_indices[ f ] = index;\n        }\n      }\n    }\n    return triangle_indices;\n  }\n  static isClockWise(pts: Vector2[]): boolean {\n    return ShapeUtils.area(pts) < 0;\n  }\n  // Bezier Curves formulas obtained from\n  // http://en.wikipedia.org/wiki/B%C3%A9zier_curve\n  // Quad Bezier Functions\n  static b2(t: number, p0: number, p1: number, p2: number): number {\n    function b2p0(t: number, p: number) {\n      let k = 1 - t;\n      return k * k * p;\n    }\n    function b2p1(t: number, p: number): number {\n      return 2 * (1 - t) * t * p;\n    }\n    function b2p2(t: number, p: number): number {\n      return t * t * p;\n    }\n    //return function b2(t, p0, p1, p2) {\n      return b2p0(t, p0) + b2p1(t, p1) + b2p2(t, p2);\n    //};\n  }\n  // Cubic Bezier Functions\n  static b3(t: number, p0: number, p1: number, p2: number, p3: number): number {\n    function b3p0(t: number, p: number): number {\n      let k = 1 - t;\n      return k * k * k * p;\n    }\n    function b3p1(t: number, p: number): number {\n      let k = 1 - t;\n      return 3 * k * k * t * p;\n    }\n    function b3p2(t: number, p: number): number {\n      let k = 1 - t;\n      return 3 * k * t * t * p;\n    }\n    function b3p3(t: number, p: number): number {\n      return t * t * t * p;\n    }\n    //return function b3(t, p0, p1, p2, p3) {\n      return b3p0(t, p0) + b3p1(t, p1) + b3p2(t, p2) + b3p3(t, p3);\n    //};\n  }\n}\n","/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  amount: <int>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline is bevel\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.CurvePath> // 3d spline path to extrude shape along. (creates Frames if .frames aren't defined)\n *  frames: <Object> // containing arrays of tangents, normals, binormals\n *\n *  uvGenerator: <Object> // object that provides UV generator functions\n *\n * }\n **/\nimport { Geometry } from \"../core/Geometry\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Face3 } from \"../core/Face3\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { ShapeUtils } from \"../extras/ShapeUtils\";\nimport { Shape } from \"../extras/core/Shape\";\nexport class ExtrudeGeometry extends Geometry {\n  constructor(shapes?: Shape | Shape[], options?: any) {\n    if (typeof(shapes) === \"undefined\") {\n      shapes = [];\n      return;\n    }\n    super();\n    this.type = 'ExtrudeGeometry';\n    shapes = Array.isArray(shapes) ? shapes : [ shapes ];\n    this.addShapeList(shapes, options);\n    this.computeFaceNormals();\n    // can't really use automatic vertex normals\n    // as then front and back sides get smoothed too\n    // should do separate smoothing just for sides\n    //this.computeVertexNormals();\n    //console.log(\"took\", (Date.now() - startTime));\n  }\n  addShapeList(shapes: Shape[], options?: any) {\n    const sl = shapes.length;\n    for (let s = 0; s < sl; s ++) {\n      const shape = shapes[ s ];\n      this.addShape(shape, options);\n    }\n  }\n  addShape(shape: Shape, options?: any) {\n    const amount = options.amount !== undefined ? options.amount : 100;\n    let bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6; // 10\n    let bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2; // 8\n    let bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n    let bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true; // false\n    const curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n    const steps = options.steps !== undefined ? options.steps : 1;\n    const extrudePath = options.extrudePath;\n    let extrudePts;\n    let extrudeByPath = false;\n    // Use default WorldUVGenerator if no UV generators are specified.\n    const uvgen: UVGenerator = options.UVGenerator !== undefined ? options.UVGenerator : ExtrudeGeometry.WorldUVGenerator;\n    let splineTube, binormal, normal, position2;\n    if (extrudePath) {\n      extrudePts = extrudePath.getSpacedPoints(steps);\n      extrudeByPath = true;\n      bevelEnabled = false; // bevels not supported for path extrusion\n      // SETUP TNB variables\n      // TODO1 - have a .isClosed in spline?\n      splineTube = options.frames !== undefined ? options.frames : extrudePath.computeFrenetFrames(steps, false);\n      // console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n      binormal = new Vector3();\n      normal = new Vector3();\n      position2 = new Vector3();\n    }\n    // Safeguards if bevels are not enabled\n    if (! bevelEnabled) {\n      bevelSegments = 0;\n      bevelThickness = 0;\n      bevelSize = 0;\n    }\n    // Variables initialization\n    const scope = this;\n    const shapesOffset = this.vertices.length;\n    const shapePoints = shape.extractPoints(curveSegments);\n    let vertices = shapePoints.shape;\n    const holes = shapePoints.holes;\n    let reverse = ! ShapeUtils.isClockWise(vertices);\n    if (reverse) {\n      vertices = vertices.reverse();\n      // Maybe we should also check if holes are in the opposite direction, just to be safe ...\n      for (let h = 0, hl = holes.length; h < hl; h ++) {\n        const ahole = holes[ h ];\n        if (ShapeUtils.isClockWise(ahole)) {\n          holes[ h ] = ahole.reverse();\n        }\n      }\n      reverse = false; // If vertices are in order now, we shouldn't need to worry about them again (hopefully)!\n    }\n    const faces = ShapeUtils.triangulateShape(vertices, holes);\n    /* Vertices */\n    const contour = vertices; // vertices has all points but contour has only points of circumference\n    for (let h = 0, hl = holes.length; h < hl; h ++) {\n      const ahole = holes[ h ];\n      vertices = vertices.concat(ahole);\n    }\n    function scalePt2(pt: Vector2, vec: Vector2, size: number): Vector2 {\n      if (! vec) console.error(\"THREE.ExtrudeGeometry: vec does not exist\");\n      return vec.clone().multiplyScalar(size).add(pt);\n    }\n    const vlen = vertices.length;\n    const flen = faces.length;\n    // Find directions for point movement\n    function getBevelVec(inPt: Vector2, inPrev: Vector2, inNext: Vector2): Vector2 {\n      // computes for inPt the corresponding point inPt' on a new contour\n      //   shifted by 1 unit (length of normalized vector) to the left\n      // if we walk along contour clockwise, this new contour is outside the old one\n      //\n      // inPt' is the intersection of the two lines parallel to the two\n      //  adjacent edges of inPt at a distance of 1 unit on the left side.\n      let v_trans_x, v_trans_y, shrink_by = 1;    // resulting translation vector for inPt\n      // good reading for geometry algorithms (here: line-line intersection)\n      // http://geomalgorithms.com/a05-_intersect-1.html\n      const v_prev_x = inPt.x - inPrev.x, v_prev_y = inPt.y - inPrev.y;\n      const v_next_x = inNext.x - inPt.x, v_next_y = inNext.y - inPt.y;\n      const v_prev_lensq = (v_prev_x * v_prev_x + v_prev_y * v_prev_y);\n      // check for collinear edges\n      const collinear0 = (v_prev_x * v_next_y - v_prev_y * v_next_x);\n      if (Math.abs(collinear0) > Number.EPSILON) {\n        // not collinear\n        // length of vectors for normalizing\n        const v_prev_len = Math.sqrt(v_prev_lensq);\n        const v_next_len = Math.sqrt(v_next_x * v_next_x + v_next_y * v_next_y);\n        // shift adjacent points by unit vectors to the left\n        const ptPrevShift_x = (inPrev.x - v_prev_y / v_prev_len);\n        const ptPrevShift_y = (inPrev.y + v_prev_x / v_prev_len);\n        const ptNextShift_x = (inNext.x - v_next_y / v_next_len);\n        const ptNextShift_y = (inNext.y + v_next_x / v_next_len);\n        // scaling factor for v_prev to intersection point\n        const sf = ((ptNextShift_x - ptPrevShift_x) * v_next_y -\n          (ptNextShift_y - ptPrevShift_y) * v_next_x) /\n          (v_prev_x * v_next_y - v_prev_y * v_next_x);\n        // vector from inPt to intersection point\n        v_trans_x = (ptPrevShift_x + v_prev_x * sf - inPt.x);\n        v_trans_y = (ptPrevShift_y + v_prev_y * sf - inPt.y);\n        // Don't normalize!, otherwise sharp corners become ugly\n        //  but prevent crazy spikes\n        const v_trans_lensq = (v_trans_x * v_trans_x + v_trans_y * v_trans_y);\n        if (v_trans_lensq <= 2) {\n          return new Vector2(v_trans_x, v_trans_y);\n        } else {\n          shrink_by = Math.sqrt(v_trans_lensq / 2);\n        }\n      } else {\n        // handle special case of collinear edges\n        let direction_eq = false;    // assumes: opposite\n        if (v_prev_x > Number.EPSILON) {\n          if (v_next_x > Number.EPSILON) {\n            direction_eq = true;\n          }\n        } else {\n          if (v_prev_x < - Number.EPSILON) {\n            if (v_next_x < - Number.EPSILON) {\n              direction_eq = true;\n            }\n          } else {\n            if (Math.sign(v_prev_y) === Math.sign(v_next_y)) {\n              direction_eq = true;\n            }\n          }\n        }\n        if (direction_eq) {\n          // console.log(\"Warning: lines are a straight sequence\");\n          v_trans_x = - v_prev_y;\n          v_trans_y =  v_prev_x;\n          shrink_by = Math.sqrt(v_prev_lensq);\n        } else {\n          // console.log(\"Warning: lines are a straight spike\");\n          v_trans_x = v_prev_x;\n          v_trans_y = v_prev_y;\n          shrink_by = Math.sqrt(v_prev_lensq / 2);\n        }\n      }\n      return new Vector2(v_trans_x / shrink_by, v_trans_y / shrink_by);\n    }\n    const contourMovements = [];\n    for (let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++) {\n      if (j === il) j = 0;\n      if (k === il) k = 0;\n      //  (j)---(i)---(k)\n      // console.log('i,j,k', i, j , k)\n      contourMovements[ i ] = getBevelVec(contour[ i ], contour[ j ], contour[ k ]);\n    }\n    const holesMovements = [];\n    let verticesMovements = contourMovements.concat();\n    for (let h = 0, hl = holes.length; h < hl; h ++) {\n      const ahole = holes[ h ];\n      const oneHoleMovements = [];\n      for (let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++) {\n        if (j === il) j = 0;\n        if (k === il) k = 0;\n        //  (j)---(i)---(k)\n        oneHoleMovements[ i ] = getBevelVec(ahole[ i ], ahole[ j ], ahole[ k ]);\n      }\n      holesMovements.push(oneHoleMovements);\n      verticesMovements = verticesMovements.concat(oneHoleMovements);\n    }\n    // Loop bevelSegments, 1 for the front, 1 for the back\n    for (let b = 0; b < bevelSegments; b ++) {\n      //for (b = bevelSegments; b > 0; b --) {\n      const t = b / bevelSegments;\n      const z = bevelThickness * Math.cos(t * Math.PI / 2);\n      const bs = bevelSize * Math.sin(t * Math.PI / 2);\n      // contract shape\n      for (let i = 0, il = contour.length; i < il; i ++) {\n        const vert = scalePt2(contour[ i ], contourMovements[ i ], bs);\n        v(vert.x, vert.y,  - z);\n      }\n      // expand holes\n      for (let h = 0, hl = holes.length; h < hl; h ++) {\n        const ahole = holes[ h ];\n        const oneHoleMovements = holesMovements[ h ];\n        for (let i = 0, il = ahole.length; i < il; i ++) {\n          const vert = scalePt2(ahole[ i ], oneHoleMovements[ i ], bs);\n          v(vert.x, vert.y,  - z);\n        }\n      }\n    }\n    const bs = bevelSize;\n    // Back facing vertices\n    for (let i = 0; i < vlen; i ++) {\n      const vert = bevelEnabled ? scalePt2(vertices[ i ], verticesMovements[ i ], bs) : vertices[ i ];\n      if (! extrudeByPath) {\n        v(vert.x, vert.y, 0);\n      } else {\n        // v(vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x);\n        normal.copy(splineTube.normals[ 0 ]).multiplyScalar(vert.x);\n        binormal.copy(splineTube.binormals[ 0 ]).multiplyScalar(vert.y);\n        position2.copy(extrudePts[ 0 ]).add(normal).add(binormal);\n        v(position2.x, position2.y, position2.z);\n      }\n    }\n    // Add stepped vertices...\n    // Including front facing vertices\n    for (let s = 1; s <= steps; s ++) {\n      for (let i = 0; i < vlen; i ++) {\n        const vert = bevelEnabled ? scalePt2(vertices[ i ], verticesMovements[ i ], bs) : vertices[ i ];\n        if (! extrudeByPath) {\n          v(vert.x, vert.y, amount / steps * s);\n        } else {\n          // v(vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x);\n          normal.copy(splineTube.normals[ s ]).multiplyScalar(vert.x);\n          binormal.copy(splineTube.binormals[ s ]).multiplyScalar(vert.y);\n          position2.copy(extrudePts[ s ]).add(normal).add(binormal);\n          v(position2.x, position2.y, position2.z);\n        }\n      }\n    }\n    // Add bevel segments planes\n    //for (let b = 1; b <= bevelSegments; b ++) {\n    for (let b = bevelSegments - 1; b >= 0; b --) {\n      const t = b / bevelSegments;\n      const z = bevelThickness * Math.cos(t * Math.PI / 2);\n      const bs = bevelSize * Math.sin(t * Math.PI / 2);\n      // contract shape\n      for (let i = 0, il = contour.length; i < il; i ++) {\n        const vert = scalePt2(contour[ i ], contourMovements[ i ], bs);\n        v(vert.x, vert.y,  amount + z);\n      }\n      // expand holes\n      for (let h = 0, hl = holes.length; h < hl; h ++) {\n        const ahole = holes[ h ];\n        const oneHoleMovements = holesMovements[ h ];\n        for (let i = 0, il = ahole.length; i < il; i ++) {\n          const vert = scalePt2(ahole[ i ], oneHoleMovements[ i ], bs);\n          if (! extrudeByPath) {\n            v(vert.x, vert.y,  amount + z);\n          } else {\n            v(vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z);\n          }\n        }\n      }\n    }\n    /* Faces */\n    // Top and bottom faces\n    buildLidFaces();\n    // Sides faces\n    buildSideFaces();\n    /////  Internal functions\n    function buildLidFaces() {\n      if (bevelEnabled) {\n        let layer = 0; // steps + 1\n        let offset = vlen * layer;\n        // Bottom faces\n        for (let i = 0; i < flen; i ++) {\n          const face = faces[ i ];\n          f3(face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset);\n        }\n        layer = steps + bevelSegments * 2;\n        offset = vlen * layer;\n        // Top faces\n        for (let i = 0; i < flen; i ++) {\n          const face = faces[ i ];\n          f3(face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset);\n        }\n      } else {\n        // Bottom faces\n        for (let i = 0; i < flen; i ++) {\n          const face = faces[ i ];\n          f3(face[ 2 ], face[ 1 ], face[ 0 ]);\n        }\n        // Top faces\n        for (let i = 0; i < flen; i ++) {\n          const face = faces[ i ];\n          f3(face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps);\n        }\n      }\n    }\n    // Create faces for the z-sides of the shape\n    function buildSideFaces() {\n      let layeroffset = 0;\n      sidewalls(contour, layeroffset);\n      layeroffset += contour.length;\n      for (let h = 0, hl = holes.length; h < hl; h ++) {\n        const ahole = holes[ h ];\n        sidewalls(ahole, layeroffset);\n        //, true\n        layeroffset += ahole.length;\n      }\n    }\n    function sidewalls(contour: any[], layeroffset: number): void {\n      let i = contour.length;\n      while (-- i >= 0) {\n        let j = i;\n        let k = i - 1;\n        if (k < 0) k = contour.length - 1;\n        //console.log('b', i,j, i-1, k,vertices.length);\n        const sl = steps + bevelSegments * 2;\n        for (let s = 0; s < sl; s ++) {\n          const slen1 = vlen * s;\n          const slen2 = vlen * (s + 1);\n          const a = layeroffset + j + slen1,\n            b = layeroffset + k + slen1,\n            c = layeroffset + k + slen2,\n            d = layeroffset + j + slen2;\n          f4(a, b, c, d, contour, s, sl, j, k);\n        }\n      }\n    }\n    function v(x: number, y: number, z: number): void {\n      scope.vertices.push(new Vector3(x, y, z));\n    }\n    function f3(a: number, b: number, c: number): void {\n      a += shapesOffset;\n      b += shapesOffset;\n      c += shapesOffset;\n      scope.faces.push(new Face3(a, b, c, null, null, 0));\n      const uvs = uvgen.generateTopUV(scope, a, b, c);\n      scope.faceVertexUvs[ 0 ].push(uvs);\n    }\n    function f4(a: number, b: number, c: number, d: number, wallContour: any, stepIndex: number, stepsLength: number, contourIndex1: number, contourIndex2: number): void {\n      a += shapesOffset;\n      b += shapesOffset;\n      c += shapesOffset;\n      d += shapesOffset;\n      scope.faces.push(new Face3(a, b, d, null, null, 1));\n      scope.faces.push(new Face3(b, c, d, null, null, 1));\n      const uvs = uvgen.generateSideWallUV(scope, a, b, c, d);\n      scope.faceVertexUvs[ 0 ].push([ uvs[ 0 ], uvs[ 1 ], uvs[ 3 ] ]);\n      scope.faceVertexUvs[ 0 ].push([ uvs[ 1 ], uvs[ 2 ], uvs[ 3 ] ]);\n    }\n  }\n  private static _WorldUVGenerator = class implements UVGenerator {\n    generateTopUV(geometry: any, indexA: number, indexB: number, indexC: number): Vector2[] {\n      const vertices = geometry.vertices;\n      const a = vertices[ indexA ];\n      const b = vertices[ indexB ];\n      const c = vertices[ indexC ];\n      return [\n        new Vector2(a.x, a.y),\n        new Vector2(b.x, b.y),\n        new Vector2(c.x, c.y)\n      ];\n    }\n    generateSideWallUV(geometry: any, indexA: number, indexB: number, indexC: number, indexD: number): Vector2[] {\n      const vertices = geometry.vertices;\n      const a = vertices[ indexA ];\n      const b = vertices[ indexB ];\n      const c = vertices[ indexC ];\n      const d = vertices[ indexD ];\n      if (Math.abs(a.y - b.y) < 0.01) {\n        return [\n          new Vector2(a.x, 1 - a.z),\n          new Vector2(b.x, 1 - b.z),\n          new Vector2(c.x, 1 - c.z),\n          new Vector2(d.x, 1 - d.z)\n        ];\n      } else {\n        return [\n          new Vector2(a.y, 1 - a.z),\n          new Vector2(b.y, 1 - b.z),\n          new Vector2(c.y, 1 - c.z),\n          new Vector2(d.y, 1 - d.z)\n        ];\n      }\n    }\n  };\n  static WorldUVGenerator = new ExtrudeGeometry._WorldUVGenerator();\n}\nexport interface UVGenerator {\n  generateTopUV(geometry: any, indexA: number, indexB: number, indexC: number): Vector2[];\n  generateSideWallUV(geometry: any, indexA: number, indexB: number, indexC: number, indexD: number): Vector2[];\n}\n","/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of Curve methods\n * .getPoint(t), getTangent(t)\n * .getPointAt(u), getTangentAt(u)\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following classes subclasses THREE.Curve:\n *\n * -- 2d classes --\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.CubicBezierCurve\n * THREE.SplineCurve\n * THREE.ArcCurve\n * THREE.EllipseCurve\n *\n * -- 3d classes --\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n * THREE.CubicBezierCurve3\n * THREE.SplineCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath\n *\n **/\n/**************************************************************\n *  Abstract Curve base class\n **************************************************************/\nimport { _Math } from \"../../math/Math\";\nimport { Vector2 } from \"../../math/Vector2\";\nimport { Vector3 } from \"../../math/Vector3\";\nimport { Matrix4 } from \"../../math/Matrix4\";\ninterface Vector {\n  clone(): this;\n  distanceTo(v: Vector): number;\n  sub(v: Vector);\n}\nexport class Curve<T extends Vector> {\n  __arcLengthDivisions: any;\n  cacheArcLengths: any;\n  needsUpdate: boolean;\n  // Virtual base class method to overwrite and implement in subclasses\n  //  - t [0 .. 1]\n  getPoint(t: number): T {\n    console.warn(\"THREE.Curve: Warning, getPoint() not implemented!\");\n    return null;\n  }\n  // Get point at relative position in curve according to arc length\n  // - u [0 .. 1]\n  getPointAt(u: number): T {\n    const t: number = this.getUtoTmapping(u);\n    return this.getPoint(t);\n  }\n  // Get sequence of points using getPoint(t)\n  getPoints(divisions: number = 5): T[] {\n    const points: T[] = [];\n    for (let d = 0; d <= divisions; d ++) {\n      points.push(this.getPoint(d / divisions));\n    }\n    return points;\n  }\n  // Get sequence of points using getPointAt(u)\n  getSpacedPoints(divisions: number = 5): T[] {\n    const points: T[] = [];\n    for (let d = 0; d <= divisions; d ++) {\n      points.push(this.getPointAt(d / divisions));\n    }\n    return points;\n  }\n  // Get total curve arc length\n  getLength(): number {\n    const lengths = this.getLengths();\n    return lengths[lengths.length - 1];\n  }\n  // Get list of cumulative segment lengths\n  getLengths(divisions?: number): number[] {\n    if (! divisions) divisions = (this.__arcLengthDivisions) ? (this.__arcLengthDivisions) : 200;\n    if (this.cacheArcLengths\n      && (this.cacheArcLengths.length === divisions + 1)\n      && ! this.needsUpdate) {\n      //console.log(\"cached\", this.cacheArcLengths);\n      return this.cacheArcLengths;\n    }\n    this.needsUpdate = false;\n    const cache: number[] = [];\n    let current: T;\n    let last: T = this.getPoint(0);\n    let sum: number = 0;\n    cache.push(0);\n    for (let p = 1; p <= divisions; p ++) {\n      current = this.getPoint(p / divisions);\n      sum += current.distanceTo(last);\n      cache.push(sum);\n      last = current;\n    }\n    this.cacheArcLengths = cache;\n    return cache; // { sums: cache, sum:sum }; Sum is in the last element.\n  }\n  updateArcLengths(): void {\n    this.needsUpdate = true;\n    this.getLengths();\n  }\n  // Given u (0 .. 1), get a t to find p. This gives you points which are equidistant\n  getUtoTmapping(u: number, distance?: number): number {\n    const arcLengths = this.getLengths();\n    let i = 0;\n    const il = arcLengths.length;\n    let targetArcLength; // The targeted u distance value to get\n    if (distance) {\n      targetArcLength = distance;\n    } else {\n      targetArcLength = u * arcLengths[il - 1];\n    }\n    //const time = Date.now();\n    // binary search for the index with largest value smaller than target u distance\n    let low = 0, high = il - 1, comparison;\n    while (low <= high) {\n      i = Math.floor(low + (high - low) / 2); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n      comparison = arcLengths[i] - targetArcLength;\n      if (comparison < 0) {\n        low = i + 1;\n      } else if (comparison > 0) {\n        high = i - 1;\n      } else {\n        high = i;\n        break;\n        // DONE\n      }\n    }\n    i = high;\n    //console.log('b' , i, low, high, Date.now()- time);\n    if (arcLengths[i] === targetArcLength) {\n      const t = i / (il - 1);\n      return t;\n    }\n    // we could get finer grain at lengths, or use simple interpolation between two points\n    const lengthBefore = arcLengths[i];\n    const lengthAfter = arcLengths[i + 1];\n    const segmentLength = lengthAfter - lengthBefore;\n    // determine where we are between the 'before' and 'after' points\n    const segmentFraction = (targetArcLength - lengthBefore) / segmentLength;\n    // add that fractional amount to t\n    const t = (i + segmentFraction) / (il - 1);\n    return t;\n  }\n  // Returns a unit vector tangent at t\n  // In case any sub curve does not implement its tangent derivation,\n  // 2 points a small delta apart will be used to find its gradient\n  // which seems to give a reasonable approximation\n  getTangent(t: number): T {\n    const delta = 0.0001;\n    let t1 = t - delta;\n    let t2 = t + delta;\n    // Capping in case of danger\n    if (t1 < 0) t1 = 0;\n    if (t2 > 1) t2 = 1;\n    const pt1 = this.getPoint(t1);\n    const pt2 = this.getPoint(t2);\n    const vec = pt2.clone().sub(pt1);\n    return vec.normalize();\n  }\n  getTangentAt(u: number): T {\n    const t = this.getUtoTmapping(u);\n    return this.getTangent(t);\n  }\n  computeFrenetFrames(segments, closed) {\n    // see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n    let normal = new Vector3();\n    let tangents: Vector3[] = [];\n    let normals: Vector3[] = [];\n    let binormals: Vector3[] = [];\n    let vec = new Vector3();\n    let mat = new Matrix4();\n    let i, u, theta;\n    // compute the tangent vectors for each segment on the curve\n    for (i = 0; i <= segments; i ++) {\n      u = i / segments;\n      tangents[ i ] = <any>this.getTangentAt(u);\n      tangents[ i ].normalize();\n    }\n    // select an initial normal vector perpendicular to the first tangent vector,\n    // and in the direction of the minimum tangent xyz component\n    normals[ 0 ] = new Vector3();\n    binormals[ 0 ] = new Vector3();\n    let min = Number.MAX_VALUE;\n    let tx = Math.abs(tangents[ 0 ].x);\n    let ty = Math.abs(tangents[ 0 ].y);\n    let tz = Math.abs(tangents[ 0 ].z);\n    if (tx <= min) {\n      min = tx;\n      normal.set(1, 0, 0);\n    }\n    if (ty <= min) {\n      min = ty;\n      normal.set(0, 1, 0);\n    }\n    if (tz <= min) {\n      normal.set(0, 0, 1);\n    }\n    vec.crossVectors(tangents[ 0 ], normal).normalize();\n    normals[ 0 ].crossVectors(tangents[ 0 ], vec);\n    binormals[ 0 ].crossVectors(tangents[ 0 ], normals[ 0 ]);\n    // compute the slowly-varying normal and binormal vectors for each segment on the curve\n    for (i = 1; i <= segments; i ++) {\n      normals[ i ] = normals[ i - 1 ].clone();\n      binormals[ i ] = binormals[ i - 1 ].clone();\n      vec.crossVectors(tangents[ i - 1 ], tangents[ i ]);\n      if (vec.length() > Number.EPSILON) {\n        vec.normalize();\n        theta = Math.acos(_Math.clamp(tangents[ i - 1 ].dot(tangents[ i ]), - 1, 1)); // clamp for floating pt errors\n        normals[ i ].applyMatrix4(mat.makeRotationAxis(vec, theta));\n      }\n      binormals[ i ].crossVectors(tangents[ i ], normals[ i ]);\n    }\n    // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n    if (closed === true) {\n      theta = Math.acos(_Math.clamp(normals[ 0 ].dot(normals[ segments ]), - 1, 1));\n      theta /= segments;\n      if (tangents[ 0 ].dot(vec.crossVectors(normals[ 0 ], normals[ segments ])) > 0) {\n        theta = - theta;\n      }\n      for (i = 1; i <= segments; i ++) {\n        // twist a little...\n        normals[ i ].applyMatrix4(mat.makeRotationAxis(tangents[ i ], theta * i));\n        binormals[ i ].crossVectors(tangents[ i ], normals[ i ]);\n      }\n    }\n    return {\n      tangents: tangents,\n      normals: normals,\n      binormals: binormals\n    };\n  }\n  // TODO: Transformation for Curves?\n  /**************************************************************\n   *  3D Curves\n   **************************************************************/\n  // A Factory method for creating new curve subclasses\n  static create(constructor: any, getPointFunc: (t: number) => Vector3): any {\n    constructor.prototype = Object.create(Curve.prototype);\n    constructor.prototype.constructor = constructor;\n    constructor.prototype.getPoint = getPointFunc;\n    return constructor;\n  }\n}\nexport class Curve2 extends Curve<Vector2> {}\nexport class Curve3 extends Curve<Vector3> {}\n/*\n// For computing of Frenet frames, exposing the tangents, normals and binormals the spline\nstatic FrenetFrames = class {\n  tangents: Vector3[];\n  normals: Vector3[];\n  binormals: Vector3[];\n  constructor(path: Curve<Vector3>, segments: number, closed: boolean) {\n    const normal = new Vector3();\n    const tangents: Vector3[] = [];\n    const normals: Vector3[] = [];\n    const binormals: Vector3[] = [];\n    const vec = new Vector3();\n    const mat = new Matrix4();\n    const numpoints = segments + 1;\n    // expose internals\n    this.tangents = tangents;\n    this.normals = normals;\n    this.binormals = binormals;\n    // compute the tangent vectors for each segment on the path\n    for (let i = 0; i < numpoints; i ++) {\n      const u = i / (numpoints - 1);\n      tangents[i] = path.getTangentAt(u);\n      tangents[i].normalize();\n    }\n    initialNormal3();\n    //function initialNormal1(lastBinormal) {\n    //  // fixed start binormal. Has dangers of 0 vectors\n    //  normals[0] = new THREE.Vector3();\n    //  binormals[0] = new THREE.Vector3();\n    //  if (lastBinormal===undefined) lastBinormal = new THREE.Vector3(0, 0, 1);\n    //  normals[0].crossVectors(lastBinormal, tangents[0]).normalize();\n    //  binormals[0].crossVectors(tangents[0], normals[0]).normalize();\n    //}\n    //function initialNormal2() {\n    //  // This uses the Frenet-Serret formula for deriving binormal\n    //  const t2 = path.getTangentAt(epsilon);\n    //  normals[0] = new THREE.Vector3().subVectors(t2, tangents[0]).normalize();\n    //  binormals[0] = new THREE.Vector3().crossVectors(tangents[0], normals[0]);\n    //  normals[0].crossVectors(binormals[0], tangents[0]).normalize(); // last binormal x tangent\n    //  binormals[0].crossVectors(tangents[0], normals[0]).normalize();\n    //}\n    function initialNormal3() {\n      // select an initial normal vector perpendicular to the first tangent vector,\n      // and in the direction of the smallest tangent xyz component\n      normals[0] = new Vector3();\n      binormals[0] = new Vector3();\n      let smallest = Number.MAX_VALUE;\n      const tx = Math.abs(tangents[0].x);\n      const ty = Math.abs(tangents[0].y);\n      const tz = Math.abs(tangents[0].z);\n      if (tx <= smallest) {\n        smallest = tx;\n        normal.set(1, 0, 0);\n      }\n      if (ty <= smallest) {\n        smallest = ty;\n        normal.set(0, 1, 0);\n      }\n      if (tz <= smallest) {\n        normal.set(0, 0, 1);\n      }\n      vec.crossVectors(tangents[0], normal).normalize();\n      normals[0].crossVectors(tangents[0], vec);\n      binormals[0].crossVectors(tangents[0], normals[0]);\n    }\n    // compute the slowly-varying normal and binormal vectors for each segment on the path\n    for (let i = 1; i < numpoints; i ++) {\n      normals[i] = normals[i - 1].clone();\n      binormals[i] = binormals[i - 1].clone();\n      vec.crossVectors(tangents[i - 1], tangents[i]);\n      if (vec.length() > Number.EPSILON) {\n        vec.normalize();\n        const theta = Math.acos(_Math.clamp(tangents[i - 1].dot(tangents[i]), - 1, 1)); // clamp for floating pt errors\n        normals[i].applyMatrix4(mat.makeRotationAxis(vec, theta));\n      }\n      binormals[i].crossVectors(tangents[i], normals[i]);\n    }\n    // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n    if (closed) {\n      let theta = Math.acos(_Math.clamp(normals[0].dot(normals[numpoints - 1]), - 1, 1));\n      theta /= (numpoints - 1);\n      if (tangents[0].dot(vec.crossVectors(normals[0], normals[numpoints - 1])) > 0) {\n        theta = - theta;\n      }\n      for (let i = 1; i < numpoints; i ++) {\n        // twist a little...\n        normals[i].applyMatrix4(mat.makeRotationAxis(tangents[i], theta * i));\n        binormals[i].crossVectors(tangents[i], normals[i]);\n      }\n    }\n  }\n};\n*/\n","import { Curve } from \"../core/Curve\";\nimport { Vector2 } from \"../../math/Vector2\";\n/**************************************************************\n *  Line\n **************************************************************/\nexport class LineCurve extends Curve<Vector2> {\n  v1: Vector2;\n  v2: Vector2;\n  readonly isLineCurve: boolean = true;\n  constructor(v1: Vector2, v2: Vector2) {\n    super();\n    this.v1 = v1;\n    this.v2 = v2;\n  }\n  getPoint(t: number): Vector2 {\n    if (t === 1) {\n      return this.v2.clone();\n    }\n    let point = this.v2.clone().sub(this.v1);\n    point.multiplyScalar(t).add(this.v1);\n    return point;\n  };\n  // Line curve is linear, so we can overwrite default getPointAt\n  getPointAt(u: number): Vector2 {\n    return this.getPoint(u);\n  }\n  getTangent(t: number): Vector2 {\n    let tangent = this.v2.clone().sub(this.v1);\n    return tangent.normalize();\n  }\n}\n","/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\nexport class CurveUtils {\n  static tangentQuadraticBezier(t: number, p0: number, p1: number, p2: number): number {\n    return 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1);\n  }\n  // Puay Bing, thanks for helping with this derivative!\n  static tangentCubicBezier(t: number, p0: number, p1: number, p2: number, p3: number): number {\n    return - 3 * p0 * (1 - t) * (1 - t)  +\n      3 * p1 * (1 - t) * (1 - t) - 6 * t * p1 * (1 - t) +\n      6 * t *  p2 * (1 - t) - 3 * t * t * p2 +\n      3 * t * t * p3;\n  }\n  static tangentSpline(t: number, p0: number, p1: number, p2: number, p3: number): number {\n    // To check if my formulas are correct\n    let h00 = 6 * t * t - 6 * t;   // derived from 2t^3 − 3t^2 + 1\n    let h10 = 3 * t * t - 4 * t + 1; // t^3 − 2t^2 + t\n    let h01 = - 6 * t * t + 6 * t;   // − 2t3 + 3t2\n    let h11 = 3 * t * t - 2 * t;  // t3 − t2\n    return h00 + h10 + h01 + h11;\n  }\n  // Catmull-Rom\n  static interpolate(p0: number, p1: number, p2: number, p3: number, t: number): number {\n    let v0 = (p2 - p0) * 0.5;\n    let v1 = (p3 - p1) * 0.5;\n    let t2 = t * t;\n    let t3 = t * t2;\n    return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n  }\n}\n","import { Curve } from \"../core/Curve\";\nimport { Vector2 } from \"../../math/Vector2\";\nimport { CurveUtils } from \"../CurveUtils\";\n/**************************************************************\n *  Spline curve\n **************************************************************/\nexport class SplineCurve extends Curve<Vector2> {\n  points: Vector2[];\n  readonly isSplineCurve: boolean = true;\n  constructor(points: Vector2[] = [] /* array of Vector2 */) {\n    super();\n    this.points = points;\n  }\n  getPoint(t: number): Vector2 {\n    let points = this.points;\n    let point = (points.length - 1) * t;\n    let intPoint = Math.floor(point);\n    let weight = point - intPoint;\n    let point0 = points[intPoint === 0 ? intPoint : intPoint - 1];\n    let point1 = points[intPoint];\n    let point2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];\n    let point3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];\n    let interpolate = CurveUtils.interpolate;\n    return new Vector2(\n      interpolate(point0.x, point1.x, point2.x, point3.x, weight),\n      interpolate(point0.y, point1.y, point2.y, point3.y, weight)\n    );\n  };\n}\n","import { Curve } from \"../core/Curve\";\nimport { Vector2 } from \"../../math/Vector2\";\n/**************************************************************\n *  Ellipse curve\n **************************************************************/\nexport class EllipseCurve extends Curve<Vector2> {\n  aX: number;\n  aY: number;\n  xRadius: number;\n  yRadius: number;\n  aStartAngle: number;\n  aEndAngle: number;\n  aClockwise: boolean;\n  aRotation: number;\n  readonly isEllipseCurve: boolean = true;\n  constructor(aX: number, aY: number, xRadius: number, yRadius: number, aStartAngle: number, aEndAngle: number, aClockwise: boolean, aRotation: number = 0) {\n    super();\n    this.aX = aX;\n    this.aY = aY;\n    this.xRadius = xRadius;\n    this.yRadius = yRadius;\n    this.aStartAngle = aStartAngle;\n    this.aEndAngle = aEndAngle;\n    this.aClockwise = aClockwise;\n    this.aRotation = aRotation;\n  }\n  getPoint(t: number): Vector2 {\n    let twoPi = Math.PI * 2;\n    let deltaAngle = this.aEndAngle - this.aStartAngle;\n    let samePoints = Math.abs(deltaAngle) < Number.EPSILON;\n    // ensures that deltaAngle is 0 .. 2 PI\n    while (deltaAngle < 0) deltaAngle += twoPi;\n    while (deltaAngle > twoPi) deltaAngle -= twoPi;\n    if (deltaAngle < Number.EPSILON) {\n      if (samePoints) {\n        deltaAngle = 0;\n      } else {\n        deltaAngle = twoPi;\n      }\n    }\n    if (this.aClockwise === true && ! samePoints) {\n      if (deltaAngle === twoPi) {\n        deltaAngle = - twoPi;\n      } else {\n        deltaAngle = deltaAngle - twoPi;\n      }\n    }\n    let angle = this.aStartAngle + t * deltaAngle;\n    let x = this.aX + this.xRadius * Math.cos(angle);\n    let y = this.aY + this.yRadius * Math.sin(angle);\n    if (this.aRotation !== 0) {\n      let cos = Math.cos(this.aRotation);\n      let sin = Math.sin(this.aRotation);\n      let tx = x - this.aX;\n      let ty = y - this.aY;\n      // Rotate the point about the center of the ellipse.\n      x = tx * cos - ty * sin + this.aX;\n      y = tx * sin + ty * cos + this.aY;\n    }\n    return new Vector2(x, y);\n  };\n}\n","import { Curve } from \"./Curve\";\nimport { Vector2 } from \"../../math/Vector2\";\nimport { Vector3 } from \"../../math/Vector3\";\nimport { Geometry } from \"../../core/Geometry\";\nimport { LineCurve } from \"../curves/LineCurve\";\nimport { SplineCurve } from \"../curves/SplineCurve\";\nimport { EllipseCurve } from \"../curves/EllipseCurve\";\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **/\n/**************************************************************\n *  Curved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\nexport class CurvePath {\n  curves: Curve<Vector2>[];\n  autoClose: boolean;\n  needsUpdate: boolean;\n  cacheLengths: number[];\n  constructor() {\n    this.curves = [];\n    this.autoClose = false; // Automatically closes the path\n  }\n  add(curve: Curve<Vector2>): void {\n    this.curves.push(curve);\n  }\n  closePath(): void {\n    // Add a line curve if start and end of lines are not connected\n    let startPoint = this.curves[0].getPoint(0);\n    let endPoint = this.curves[this.curves.length - 1].getPoint(1);\n    if (! startPoint.equals(endPoint)) {\n      this.curves.push(new LineCurve(endPoint, startPoint));\n    }\n  }\n  // To get accurate point with reference to\n  // entire path distance at time t,\n  // following has to be done:\n  // 1. Length of each sub path have to be known\n  // 2. Locate and identify type of curve\n  // 3. Get t for the curve\n  // 4. Return curve.getPointAt(t')\n  getPoint(t: number): Vector2 {\n    let d = t * this.getLength();\n    let curveLengths = this.getCurveLengths();\n    let i = 0;\n    // To think about boundaries points.\n    while (i < curveLengths.length) {\n      if (curveLengths[i] >= d) {\n        let diff = curveLengths[i] - d;\n        let curve = this.curves[i];\n        let segmentLength = curve.getLength();\n        let u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n        return curve.getPointAt(u);\n      }\n      i ++;\n    }\n    return null;\n    // loop where sum != 0, sum > d , sum+1 <d\n  }\n  // We cannot use the default THREE.Curve getPoint() with getLength() because in\n  // THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n  // getPoint() depends on getLength\n  getLength() {\n    let lens = this.getCurveLengths();\n    return lens[lens.length - 1];\n  }\n  // cacheLengths must be recalculated.\n  updateArcLengths() {\n    this.needsUpdate = true;\n    this.cacheLengths = null;\n    this.getCurveLengths(); // !!!TODO: this.getLengths();\n  }\n  // Compute lengths and cache them\n  // We cannot overwrite getLengths() because UtoT mapping uses it.\n  getCurveLengths() {\n    // We use cache values if curves and cache array are same length\n    if (this.cacheLengths && this.cacheLengths.length === this.curves.length) {\n      return this.cacheLengths;\n    }\n    // Get length of sub-curve\n    // Push sums into cached array\n    let lengths = [], sums = 0;\n    for (let i = 0, l = this.curves.length; i < l; i ++) {\n      sums += this.curves[i].getLength();\n      lengths.push(sums);\n    }\n    this.cacheLengths = lengths;\n    return lengths;\n  }\n  getSpacedPoints(divisions: number = 40): Vector2[] {\n    let points = [];\n    for (let i = 0; i <= divisions; i ++) {\n      points.push(this.getPoint(i / divisions));\n    }\n    if (this.autoClose) {\n      points.push(points[0]);\n    }\n    return points;\n  }\n  getPoints(divisions: number = 12): Vector2[] {\n    let points = [], last;\n    for (let i = 0, curves = this.curves; i < curves.length; i ++) {\n      let curve = curves[i];\n      let resolution = (curve && curve instanceof EllipseCurve) ? divisions * 2\n        : (curve && curve instanceof LineCurve) ? 1\n        : (curve && curve instanceof SplineCurve) ? divisions * curve.points.length\n        : divisions;\n      let pts = curve.getPoints(resolution);\n      for (let j = 0; j < pts.length; j++) {\n        let point = pts[j];\n        if (last && last.equals(point)) continue; // ensures no consecutive points are duplicates\n        points.push(point);\n        last = point;\n      }\n    }\n    if (this.autoClose && points.length > 1 && !points[points.length - 1].equals(points[0])) {\n      points.push(points[0]);\n    }\n    return points;\n  }\n  /**************************************************************\n   *  Create Geometries Helpers\n   **************************************************************/\n  /// Generate geometry from path points (for Line or Points objects)\n  createPointsGeometry(divisions?: number): Geometry {\n    let pts = this.getPoints(divisions);\n    return this.createGeometry(pts);\n  }\n  // Generate geometry from equidistant sampling along the path\n  createSpacedPointsGeometry(divisions?: number): Geometry {\n    let pts = this.getSpacedPoints(divisions);\n    return this.createGeometry(pts);\n  }\n  createGeometry(points: (Vector2 | Vector3)[]): Geometry {\n    let geometry = new Geometry();\n    for (let i = 0, l = points.length; i < l; i ++) {\n      let point = points[i];\n      geometry.vertices.push(new Vector3(point.x, point.y, (point as Vector3).z || 0));\n    }\n    return geometry;\n  }\n}\n","import { Curve } from \"../core/Curve\";\nimport { Vector2 } from \"../../math/Vector2\";\nimport { CurveUtils } from \"../CurveUtils\";\nimport { ShapeUtils } from \"../ShapeUtils\";\n/**************************************************************\n *  Cubic Bezier curve\n **************************************************************/\nexport class CubicBezierCurve extends Curve<Vector2> {\n  v0: Vector2;\n  v1: Vector2;\n  v2: Vector2;\n  v3: Vector2;\n  constructor(v0: Vector2, v1: Vector2, v2: Vector2, v3: Vector2) {\n    super();\n    this.v0 = v0;\n    this.v1 = v1;\n    this.v2 = v2;\n    this.v3 = v3;\n  }\n  getPoint(t: number): Vector2 {\n    let b3 = ShapeUtils.b3;\n    return new Vector2(\n      b3(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x),\n      b3(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y)\n    );\n  }\n  getTangent(t: number): Vector2 {\n    let tangentCubicBezier = CurveUtils.tangentCubicBezier;\n    return new Vector2(\n      tangentCubicBezier(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x),\n      tangentCubicBezier(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y)\n    ).normalize();\n  }\n}\n","import { Curve } from \"../core/Curve\";\nimport { Vector2 } from \"../../math/Vector2\";\nimport { CurveUtils } from \"../CurveUtils\";\nimport { ShapeUtils } from \"../ShapeUtils\";\n/**************************************************************\n *  Quadratic Bezier curve\n **************************************************************/\nexport class QuadraticBezierCurve extends Curve<Vector2> {\n  v0: Vector2;\n  v1: Vector2;\n  v2: Vector2;\n  constructor(v0: Vector2, v1: Vector2, v2: Vector2) {\n    super();\n    this.v0 = v0;\n    this.v1 = v1;\n    this.v2 = v2;\n  }\n  getPoint(t: number): Vector2 {\n    let b2 = ShapeUtils.b2;\n    return new Vector2(\n      b2(t, this.v0.x, this.v1.x, this.v2.x),\n      b2(t, this.v0.y, this.v1.y, this.v2.y)\n    );\n  }\n  getTangent(t: number): Vector2 {\n    let tangentQuadraticBezier = CurveUtils.tangentQuadraticBezier;\n    return new Vector2(\n      tangentQuadraticBezier(t, this.v0.x, this.v1.x, this.v2.x),\n      tangentQuadraticBezier(t, this.v0.y, this.v1.y, this.v2.y)\n    ).normalize();\n  };\n}\n","//import { Shape } from \"./Shape\";\n//import { ShapeUtils } from \"../ShapeUtils\";\nimport { Vector2 } from \"../../math/Vector2\";\nimport { CurvePath } from \"./CurvePath\";\nimport { EllipseCurve } from \"../curves/EllipseCurve\";\nimport { SplineCurve } from \"../curves/SplineCurve\";\nimport { CubicBezierCurve } from \"../curves/CubicBezierCurve\";\nimport { QuadraticBezierCurve } from \"../curves/QuadraticBezierCurve\";\nimport { LineCurve } from \"../curves/LineCurve\";\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n *\n **/\nexport class Path extends CurvePath {\n  currentPoint: Vector2;\n  constructor(points?: Vector2[]) {\n    super();\n    this.currentPoint = new Vector2();\n    if (points) {\n      this.fromPoints(points);\n    }\n  }\n  fromPoints(vectors: Vector2[]): void {\n    this.moveTo(vectors[0].x, vectors[0].y);\n    for (let i = 1, l = vectors.length; i < l; i ++) {\n      this.lineTo(vectors[i].x, vectors[i].y);\n    }\n  }\n  moveTo(x: number, y: number): void {\n    this.currentPoint.set(x, y); // TODO consider referencing vectors instead of copying?\n  }\n  lineTo(x: number, y: number): void {\n    let curve = new LineCurve(this.currentPoint.clone(), new Vector2(x, y));\n    this.curves.push(curve);\n    this.currentPoint.set(x, y);\n  }\n  quadraticCurveTo(aCPx: number, aCPy: number, aX: number, aY: number): void {\n    let curve = new QuadraticBezierCurve(\n      this.currentPoint.clone(),\n      new Vector2(aCPx, aCPy),\n      new Vector2(aX, aY)\n    );\n    this.curves.push(curve);\n    this.currentPoint.set(aX, aY);\n  }\n  bezierCurveTo(aCP1x: number, aCP1y: number, aCP2x: number, aCP2y: number, aX: number, aY: number): void {\n    let curve = new CubicBezierCurve(\n      this.currentPoint.clone(),\n      new Vector2(aCP1x, aCP1y),\n      new Vector2(aCP2x, aCP2y),\n      new Vector2(aX, aY)\n    );\n    this.curves.push(curve);\n    this.currentPoint.set(aX, aY);\n  }\n  splineThru(pts: Vector2[] /*Array of Vector*/) {\n    let npts = [this.currentPoint.clone()].concat(pts);\n    let curve = new SplineCurve(npts);\n    this.curves.push(curve);\n    this.currentPoint.copy(pts[pts.length - 1]);\n  }\n  arc(aX: number, aY: number, aRadius: number, aStartAngle: number, aEndAngle: number, aClockwise: boolean): void {\n    let x0 = this.currentPoint.x;\n    let y0 = this.currentPoint.y;\n    this.absarc(aX + x0, aY + y0, aRadius,\n      aStartAngle, aEndAngle, aClockwise);\n  }\n  absarc(aX: number, aY: number, aRadius: number, aStartAngle: number, aEndAngle: number, aClockwise: boolean): void {\n    this.absellipse(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n  }\n  ellipse(aX: number, aY: number, xRadius: number, yRadius: number, aStartAngle: number, aEndAngle: number, aClockwise: boolean, aRotation?: number): void {\n    let x0 = this.currentPoint.x;\n    let y0 = this.currentPoint.y;\n    this.absellipse(aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n  }\n  absellipse(aX: number, aY: number, xRadius: number, yRadius: number, aStartAngle: number, aEndAngle: number, aClockwise: boolean, aRotation?: number): void {\n    let curve = new EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n    if (this.curves.length > 0) {\n      // if a previous curve is present, attempt to join\n      let firstPoint = curve.getPoint(0);\n      if (! firstPoint.equals(this.currentPoint)) {\n        this.lineTo(firstPoint.x, firstPoint.y);\n      }\n    }\n    this.curves.push(curve);\n    let lastPoint = curve.getPoint(1);\n    this.currentPoint.copy(lastPoint);\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { Face3 } from \"../core/Face3\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { ShapeUtils } from \"../extras/ShapeUtils\";\nimport { ExtrudeGeometry } from \"./ExtrudeGeometry\";\nimport { Shape } from \"../extras/core/Shape\";\n/**\n * @author jonobr1 / http://jonobr1.com\n *\n * Creates a one-sided polygonal geometry from a path shape. Similar to\n * ExtrudeGeometry.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves. NOT USED AT THE MOMENT.\n *\n *  material: <int> // material index for front and back faces\n *  uvGenerator: <Object> // object that provides UV generator functions\n *\n * }\n **/\nexport class ShapeGeometry extends Geometry {\n  constructor(shapes: Shape | Shape[], options?: any) {\n    super();\n    this.type = 'ShapeGeometry';\n    if (Array.isArray(shapes)) {\n      this.addShapeList(shapes, options);\n    } else {\n      this.addShapeList([ shapes ], options);\n    }\n    this.computeFaceNormals();\n  }\n  /**\n   * Add an array of shapes to THREE.ShapeGeometry.\n   */\n  addShapeList(shapes: Shape[], options?: any): ShapeGeometry {\n    for (let i = 0, l = shapes.length; i < l; i ++) {\n      this.addShape(shapes[i], options);\n    }\n    return this;\n  };\n  /**\n   * Adds a shape to THREE.ShapeGeometry, based on THREE.ExtrudeGeometry.\n   */\n  addShape(shape: Shape, options?: any): void {\n    if (options === undefined) options = {};\n    const curveSegments: number = options.curveSegments !== undefined ? options.curveSegments : 12;\n    const material = options.material;\n    const uvgen = options.UVGenerator === undefined ? ExtrudeGeometry.WorldUVGenerator : options.UVGenerator;\n    //\n    const shapesOffset: number = this.vertices.length;\n    const shapePoints: { shape: Vector2[], holes: Vector2[][] } = shape.extractPoints(curveSegments);\n    let vertices: Vector2[] = shapePoints.shape;\n    const holes: Vector2[][] = shapePoints.holes;\n    let reverse: boolean = ! ShapeUtils.isClockWise(vertices);\n    if (reverse) {\n      vertices = vertices.reverse();\n      // Maybe we should also check if holes are in the opposite direction, just to be safe...\n      for (let i = 0, l = holes.length; i < l; i ++) {\n        const hole = holes[i];\n        if (ShapeUtils.isClockWise(hole)) {\n          holes[i] = hole.reverse();\n        }\n      }\n      reverse = false;\n    }\n    const faces: number[][] = ShapeUtils.triangulateShape(vertices, holes);\n    // Vertices\n    for (let i = 0, l = holes.length; i < l; i ++) {\n      const hole: Vector2[] = holes[i];\n      vertices = vertices.concat(hole);\n    }\n    //\n    for (let i = 0, vlen = vertices.length; i < vlen; i ++) {\n      const vert: Vector2 = vertices[i];\n      this.vertices.push(new Vector3(vert.x, vert.y, 0));\n    }\n    for (let i = 0, flen = faces.length; i < flen; i ++) {\n      const face: number[] = faces[i];\n      const a: number = face[0] + shapesOffset;\n      const b: number = face[1] + shapesOffset;\n      const c: number = face[2] + shapesOffset;\n      this.faces.push(new Face3(a, b, c, null, null, material));\n      this.faceVertexUvs[0].push(uvgen.generateTopUV(this, a, b, c));\n    }\n  }\n}\n","/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\nimport { Path } from \"./Path\";\nimport { ExtrudeGeometry } from \"../../geometries/ExtrudeGeometry\";\nimport { ShapeGeometry } from \"../../geometries/ShapeGeometry\";\nimport { Vector2 } from \"../../math/Vector2\";\nexport class Shape extends Path {\n  holes: Path[];\n  constructor(points?: Vector2[]) {\n    super(points);\n    this.holes = [];\n  }\n  getPointsHoles(divisions: number): Vector2[][] {\n    const holesPts: Vector2[][] = [];\n    for (let i = 0, l = this.holes.length; i < l; i ++) {\n      holesPts[i] = this.holes[i].getPoints(divisions);\n    }\n    return holesPts;\n  }\n  // Get points of shape and holes (keypoints based on segments parameter)\n  extractAllPoints(divisions: number): { shape: Vector2[], holes: Vector2[][] } {\n    return {\n      shape: this.getPoints(divisions),\n      holes: this.getPointsHoles(divisions)\n    };\n  }\n  extractPoints(divisions: number): { shape: Vector2[], holes: Vector2[][] } {\n    return this.extractAllPoints(divisions);\n  }\n  extrude(options: any): ExtrudeGeometry {\n    console.warn(\"THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.\");\n    return new ExtrudeGeometry(this, options);\n  }\n  makeGeometry(options: any): ShapeGeometry {\n    console.warn(\"THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.\");\n    return new ShapeGeometry(this, options);\n  }\n}\n","import { Vector2 } from \"../../math/Vector2\";\nimport { Path } from \"./Path\";\nimport { Shape } from \"./Shape\";\nimport { ShapeUtils } from \"../ShapeUtils\";\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n *\n **/\n// minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\nexport class ShapePath {\n  subPaths: any[];\n  currentPath: any;\n  constructor() {\n    this.subPaths = [];\n    this.currentPath = null;\n  }\n  moveTo(x: number, y: number): void {\n    this.currentPath = new Path();\n    this.subPaths.push(this.currentPath);\n    this.currentPath.moveTo(x, y);\n  }\n  lineTo(x: number, y: number): void {\n    this.currentPath.lineTo(x, y);\n  }\n  quadraticCurveTo(aCPx: number, aCPy: number, aX: number, aY: number): void {\n    this.currentPath.quadraticCurveTo(aCPx, aCPy, aX, aY);\n  }\n  bezierCurveTo(aCP1x: number, aCP1y: number, aCP2x: number, aCP2y: number, aX: number, aY: number): void {\n    this.currentPath.bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY);\n  }\n  splineThru(pts: Vector2[]): void {\n    this.currentPath.splineThru(pts);\n  }\n  arc(aX: number, aY: number, aRadius: number, aStartAngle: number, aEndAngle: number, aClockwise: boolean): void {\n    this.currentPath.arc(aX, aY, aStartAngle, aEndAngle, aClockwise);\n  }\n  absarc(aX: number, aY: number, aRadius: number, aStartAngle: number, aEndAngle: number, aClockwise: boolean): void {\n    this.currentPath.absarc(aX, aY, aStartAngle, aEndAngle, aClockwise);\n  }\n  ellipse(aX: number, aY: number, xRadius: number, yRadius: number, aStartAngle: number, aEndAngle: number, aClockwise: boolean, aRotation?: number): void {\n    this.currentPath.ellipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n  }\n  absellipse(aX: number, aY: number, xRadius: number, yRadius: number, aStartAngle: number, aEndAngle: number, aClockwise: boolean, aRotation?: number): void {\n    this.currentPath.absellipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n  }\n  toShapes(isCCW?: boolean, noHoles?: boolean): Shape[] {\n    function toShapesNoHoles(inSubpaths: Path[]): Shape[] {\n      let shapes = [];\n      for (let i = 0, l = inSubpaths.length; i < l; i ++) {\n        let tmpPath = inSubpaths[i];\n        let tmpShape = new Shape();\n        tmpShape.curves = tmpPath.curves;\n        shapes.push(tmpShape);\n      }\n      return shapes;\n    }\n    function isPointInsidePolygon(inPt: Vector2, inPolygon: Vector2[]): boolean {\n      let polyLen = inPolygon.length;\n      // inPt on polygon contour => immediate success    or\n      // toggling of inside/outside at every single! intersection point of an edge\n      //  with the horizontal line through inPt, left of inPt\n      //  not counting lowerY endpoints of edges and whole edges on that line\n      let inside = false;\n      for (let p = polyLen - 1, q = 0; q < polyLen; p = q ++) {\n        let edgeLowPt  = inPolygon[p];\n        let edgeHighPt = inPolygon[q];\n        let edgeDx = edgeHighPt.x - edgeLowPt.x;\n        let edgeDy = edgeHighPt.y - edgeLowPt.y;\n        if (Math.abs(edgeDy) > Number.EPSILON) {\n          // not parallel\n          if (edgeDy < 0) {\n            edgeLowPt  = inPolygon[q]; edgeDx = - edgeDx;\n            edgeHighPt = inPolygon[p]; edgeDy = - edgeDy;\n          }\n          if ((inPt.y < edgeLowPt.y) || (inPt.y > edgeHighPt.y))     continue;\n          if (inPt.y === edgeLowPt.y) {\n            if (inPt.x === edgeLowPt.x)    return  true;    // inPt is on contour ?\n            // continue;        // no intersection or edgeLowPt => doesn't count !!!\n          } else {\n            let perpEdge = edgeDy * (inPt.x - edgeLowPt.x) - edgeDx * (inPt.y - edgeLowPt.y);\n            if (perpEdge === 0)        return  true;    // inPt is on contour ?\n            if (perpEdge < 0)         continue;\n            inside = ! inside;    // true intersection left of inPt\n          }\n        } else {\n          // parallel or collinear\n          if (inPt.y !== edgeLowPt.y)     continue;      // parallel\n          // edge lies on the same horizontal line as inPt\n          if (((edgeHighPt.x <= inPt.x) && (inPt.x <= edgeLowPt.x)) ||\n             ((edgeLowPt.x <= inPt.x) && (inPt.x <= edgeHighPt.x)))    return  true;  // inPt: Point on contour !\n          // continue;\n        }\n      }\n      return  inside;\n    }\n    let isClockWise = ShapeUtils.isClockWise;\n    let subPaths = this.subPaths;\n    if (subPaths.length === 0) return [];\n    if (noHoles === true)  return  toShapesNoHoles(subPaths);\n    let solid, tmpPath, tmpShape, shapes = [];\n    if (subPaths.length === 1) {\n      tmpPath = subPaths[0];\n      tmpShape = new Shape();\n      tmpShape.curves = tmpPath.curves;\n      shapes.push(tmpShape);\n      return shapes;\n    }\n    let holesFirst: boolean = ! isClockWise(subPaths[0].getPoints());\n    holesFirst = isCCW ? ! holesFirst : holesFirst;\n    // console.log(\"Holes first\", holesFirst);\n    let betterShapeHoles: any[] = [];\n    let newShapes: any[] = [];\n    let newShapeHoles: any[] = [];\n    let mainIdx: number = 0;\n    let tmpPoints;\n    newShapes[mainIdx] = undefined;\n    newShapeHoles[mainIdx] = [];\n    for (let i = 0, l = subPaths.length; i < l; i ++) {\n      tmpPath = subPaths[i];\n      tmpPoints = tmpPath.getPoints();\n      solid = isClockWise(tmpPoints);\n      solid = isCCW ? ! solid : solid;\n      if (solid) {\n        if ((! holesFirst) && (newShapes[mainIdx]))  mainIdx ++;\n        newShapes[mainIdx] = { s: new Shape(), p: tmpPoints };\n        newShapes[mainIdx].s.curves = tmpPath.curves;\n        if (holesFirst)  mainIdx ++;\n        newShapeHoles[mainIdx] = [];\n        //console.log('cw', i);\n      } else {\n        newShapeHoles[mainIdx].push({ h: tmpPath, p: tmpPoints[0] });\n        //console.log('ccw', i);\n      }\n    }\n    // only Holes? -> probably all Shapes with wrong orientation\n    if (! newShapes[0])  return  toShapesNoHoles(subPaths);\n    if (newShapes.length > 1) {\n      let ambiguous = false;\n      let toChange = [];\n      for (let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++) {\n        betterShapeHoles[sIdx] = [];\n      }\n      for (let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++) {\n        let sho = newShapeHoles[sIdx];\n        for (let hIdx = 0; hIdx < sho.length; hIdx ++) {\n          let ho = sho[hIdx];\n          let hole_unassigned = true;\n          for (let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++) {\n            if (isPointInsidePolygon(ho.p, newShapes[s2Idx].p)) {\n              if (sIdx !== s2Idx)  toChange.push({ froms: sIdx, tos: s2Idx, hole: hIdx });\n              if (hole_unassigned) {\n                hole_unassigned = false;\n                betterShapeHoles[s2Idx].push(ho);\n              } else {\n                ambiguous = true;\n              }\n            }\n          }\n          if (hole_unassigned) {\n            betterShapeHoles[sIdx].push(ho);\n          }\n        }\n      }\n      // console.log(\"ambiguous: \", ambiguous);\n      if (toChange.length > 0) {\n        // console.log(\"to change: \", toChange);\n        if (! ambiguous)  newShapeHoles = betterShapeHoles;\n      }\n    }\n    let tmpHoles: any;\n    for (let i = 0, il = newShapes.length; i < il; i ++) {\n      tmpShape = newShapes[i].s;\n      shapes.push(tmpShape);\n      tmpHoles = newShapeHoles[i];\n      for (let j = 0, jl = tmpHoles.length; j < jl; j ++) {\n        tmpShape.holes.push(tmpHoles[j].h);\n      }\n    }\n    //console.log(\"shape\", shapes);\n    return shapes;\n  }\n}\n","import { ShapeUtils } from \"../ShapeUtils\";\nimport { ShapePath } from \"./ShapePath\";\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author mrdoob / http://mrdoob.com/\n */\nexport class Font {\n  data: any;\n  readonly isFont: boolean = true;\n  constructor(data: any) {\n    this.data = data;\n  }\n  generateShapes(text: string, size: number, divisions: number): ShapePath[] {\n    function createPaths(text: string) {\n      let chars = String(text).split('');\n      let scale = size / data.resolution;\n      let offset = 0;\n      let paths = [];\n      for (let i = 0; i < chars.length; i ++) {\n        let ret = createPath(chars[i], scale, offset);\n        offset += ret.offset;\n        paths.push(ret.path);\n      }\n      return paths;\n    }\n    function createPath(c: string, scale: number, offset: number): any {\n      let glyph = data.glyphs[c] || data.glyphs['?'];\n      if (! glyph) return;\n      let path = new ShapePath();\n      let pts: any[] = [], b2 = ShapeUtils.b2, b3 = ShapeUtils.b3;\n      let x, y, cpx, cpy, cpx0, cpy0, cpx1, cpy1, cpx2, cpy2, laste;\n      if (glyph.o) {\n        let outline = glyph._cachedOutline || (glyph._cachedOutline = glyph.o.split(' '));\n        for (let i = 0, l = outline.length; i < l; ) {\n          let action = outline[i ++];\n          switch (action) {\n            case 'm': // moveTo\n              x = outline[i ++] * scale + offset;\n              y = outline[i ++] * scale;\n              path.moveTo(x, y);\n              break;\n            case 'l': // lineTo\n              x = outline[i ++] * scale + offset;\n              y = outline[i ++] * scale;\n              path.lineTo(x, y);\n              break;\n            case 'q': // quadraticCurveTo\n              cpx  = outline[i ++] * scale + offset;\n              cpy  = outline[i ++] * scale;\n              cpx1 = outline[i ++] * scale + offset;\n              cpy1 = outline[i ++] * scale;\n              path.quadraticCurveTo(cpx1, cpy1, cpx, cpy);\n              laste = pts[pts.length - 1];\n              if (laste) {\n                cpx0 = laste.x;\n                cpy0 = laste.y;\n                for (let i2 = 1; i2 <= divisions; i2 ++) {\n                  let t = i2 / divisions;\n                  b2(t, cpx0, cpx1, cpx);\n                  b2(t, cpy0, cpy1, cpy);\n                }\n              }\n              break;\n            case 'b': // bezierCurveTo\n              cpx  = outline[i ++] * scale + offset;\n              cpy  = outline[i ++] * scale;\n              cpx1 = outline[i ++] * scale + offset;\n              cpy1 = outline[i ++] * scale;\n              cpx2 = outline[i ++] * scale + offset;\n              cpy2 = outline[i ++] * scale;\n              path.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, cpx, cpy);\n              laste = pts[pts.length - 1];\n              if (laste) {\n                cpx0 = laste.x;\n                cpy0 = laste.y;\n                for (let i2 = 1; i2 <= divisions; i2 ++) {\n                  let t = i2 / divisions;\n                  b3(t, cpx0, cpx1, cpx2, cpx);\n                  b3(t, cpy0, cpy1, cpy2, cpy);\n                }\n              }\n              break;\n          }\n        }\n      }\n      return { offset: glyph.ha * scale, path: path };\n    }\n    //\n    if (size === undefined) size = 100;\n    if (divisions === undefined) divisions = 4;\n    let data = this.data;\n    let paths = createPaths(text);\n    let shapes: any[] = [];\n    for (let p = 0, pl = paths.length; p < pl; p ++) {\n      Array.prototype.push.apply(shapes, paths[p].toShapes());\n    }\n    return shapes;\n  }\n}\n","/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float> // how far from text outline is bevel\n * }\n */\nimport { ExtrudeGeometry } from \"./ExtrudeGeometry\";\nimport { Font } from \"../extras/core/Font\";\nexport class TextGeometry extends ExtrudeGeometry {\n  constructor(text: string, parameters: any = {}) {\n    const font = parameters.font;\n    if ((font && font instanceof Font) === false) {\n      console.error('THREE.TextGeometry: font parameter is not an instance of THREE.Font.');\n      /// !!!TODO: return new Geometry();\n    }\n    const shapes = font.generateShapes(text, parameters.size, parameters.curveSegments);\n    // translate parameters to ExtrudeGeometry API\n    parameters.amount = parameters.height !== undefined ? parameters.height : 50;\n    // defaults\n    if (parameters.bevelThickness === undefined) parameters.bevelThickness = 10;\n    if (parameters.bevelSize === undefined) parameters.bevelSize = 8;\n    if (parameters.bevelEnabled === undefined) parameters.bevelEnabled = false;\n    super(shapes, parameters);\n    this.type = 'TextGeometry';\n  }\n}\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Sphere } from \"../math/Sphere\";\nimport { Uint16Attribute, Uint32Attribute, BufferAttribute } from \"../core/BufferAttribute\";\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n * based on THREE.SphereGeometry\n */\nexport class SphereBufferGeometry extends BufferGeometry {\n  constructor(radius: number, widthSegments: number, heightSegments: number, phiStart?: number, phiLength?: number, thetaStart?: number, thetaLength?: number) {\n    super();\n    this.type = 'SphereBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n      phiStart: phiStart,\n      phiLength: phiLength,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    radius = radius || 50;\n    widthSegments = Math.max(3, Math.floor(widthSegments) || 8);\n    heightSegments = Math.max(2, Math.floor(heightSegments) || 6);\n    phiStart = phiStart !== undefined ? phiStart : 0;\n    phiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n    thetaStart = thetaStart !== undefined ? thetaStart : 0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n    const thetaEnd = thetaStart + thetaLength;\n    const vertexCount = ((widthSegments + 1) * (heightSegments + 1));\n    const positions = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    const normals = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    const uvs = new BufferAttribute(new Float32Array(vertexCount * 2), 2);\n    let index = 0;\n    const vertices = [], normal = new Vector3();\n    for (let y = 0; y <= heightSegments; y ++) {\n      const verticesRow = [];\n      const v = y / heightSegments;\n      for (let x = 0; x <= widthSegments; x ++) {\n        const u = x / widthSegments;\n        const px = - radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n        const py = radius * Math.cos(thetaStart + v * thetaLength);\n        const pz = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n        normal.set(px, py, pz).normalize();\n        positions.setXYZ(index, px, py, pz);\n        normals.setXYZ(index, normal.x, normal.y, normal.z);\n        uvs.setXY(index, u, 1 - v);\n        verticesRow.push(index);\n        index ++;\n      }\n      vertices.push(verticesRow);\n    }\n    const indices = [];\n    for (let y = 0; y < heightSegments; y ++) {\n      for (let x = 0; x < widthSegments; x ++) {\n        const v1 = vertices[y][x + 1];\n        const v2 = vertices[y][x];\n        const v3 = vertices[y + 1][x];\n        const v4 = vertices[y + 1][x + 1];\n        if (y !== 0 || thetaStart > 0) indices.push(v1, v2, v4);\n        if (y !== heightSegments - 1 || thetaEnd < Math.PI) indices.push(v2, v3, v4);\n      }\n    }\n    this.setIndex((positions.count > 65535 ? Uint32Attribute : Uint16Attribute)(indices, 1));\n    this.addAttribute('position', positions);\n    this.addAttribute('normal', normals);\n    this.addAttribute('uv', uvs);\n    this.boundingSphere = new Sphere(new Vector3(), radius);\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { SphereBufferGeometry } from \"./SphereBufferGeometry\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class SphereGeometry extends Geometry {\n  constructor(radius: number, widthSegments?: number, heightSegments?: number, phiStart?: number, phiLength?: number, thetaStart?: number, thetaLength?: number) {\n    super();\n    this.type = 'SphereGeometry';\n    this.parameters = {\n      radius: radius,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n      phiStart: phiStart,\n      phiLength: phiLength,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    this.fromBufferGeometry(new SphereBufferGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength));\n  }\n}\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { BufferAttribute } from \"../core/BufferAttribute\";\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\nexport class RingBufferGeometry extends BufferGeometry {\n  constructor(innerRadius: number, outerRadius: number, thetaSegments: number, phiSegments: number, thetaStart: number, thetaLength: number) {\n    super();\n    this.type = 'RingBufferGeometry';\n    this.parameters = {\n      innerRadius: innerRadius,\n      outerRadius: outerRadius,\n      thetaSegments: thetaSegments,\n      phiSegments: phiSegments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    innerRadius = innerRadius || 20;\n    outerRadius = outerRadius || 50;\n    thetaStart = thetaStart !== undefined ? thetaStart : 0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n    thetaSegments = thetaSegments !== undefined ? Math.max(3, thetaSegments) : 8;\n    phiSegments = phiSegments !== undefined ? Math.max(1, phiSegments) : 1;\n    // these are used to calculate buffer length\n    const vertexCount = (thetaSegments + 1) * (phiSegments + 1);\n    const indexCount = thetaSegments * phiSegments * 2 * 3;\n    // buffers\n    const indices = new BufferAttribute(new (indexCount > 65535 ? Uint32Array : Uint16Array)(indexCount) , 1);\n    const vertices = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    const normals = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    const uvs = new BufferAttribute(new Float32Array(vertexCount * 2), 2);\n    // some helper variables\n    let index = 0, indexOffset = 0;\n    let radius = innerRadius;\n    const radiusStep = ((outerRadius - innerRadius) / phiSegments);\n    const vertex = new Vector3();\n    const uv = new Vector2();\n    // generate vertices, normals and uvs\n    // values are generate from the inside of the ring to the outside\n    for (let j = 0; j <= phiSegments; j ++) {\n      for (let i = 0; i <= thetaSegments; i ++) {\n        const segment = thetaStart + i / thetaSegments * thetaLength;\n        // vertex\n        vertex.x = radius * Math.cos(segment);\n        vertex.y = radius * Math.sin(segment);\n        vertices.setXYZ(index, vertex.x, vertex.y, vertex.z);\n        // normal\n        normals.setXYZ(index, 0, 0, 1);\n        // uv\n        uv.x = (vertex.x / outerRadius + 1) / 2;\n        uv.y = (vertex.y / outerRadius + 1) / 2;\n        uvs.setXY(index, uv.x, uv.y);\n        // increase index\n        index++;\n      }\n      // increase the radius for next row of vertices\n      radius += radiusStep;\n    }\n    // generate indices\n    for (let j = 0; j < phiSegments; j ++) {\n      const thetaSegmentLevel = j * (thetaSegments + 1);\n      for (let i = 0; i < thetaSegments; i ++) {\n        const segment = i + thetaSegmentLevel;\n        // indices\n        const a = segment;\n        const b = segment + thetaSegments + 1;\n        const c = segment + thetaSegments + 2;\n        const d = segment + 1;\n        // face one\n        indices.setX(indexOffset, a); indexOffset++;\n        indices.setX(indexOffset, b); indexOffset++;\n        indices.setX(indexOffset, c); indexOffset++;\n        // face two\n        indices.setX(indexOffset, a); indexOffset++;\n        indices.setX(indexOffset, c); indexOffset++;\n        indices.setX(indexOffset, d); indexOffset++;\n      }\n    }\n    // build geometry\n    this.setIndex(indices);\n    this.addAttribute('position', vertices);\n    this.addAttribute('normal', normals);\n    this.addAttribute('uv', uvs);\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { RingBufferGeometry } from \"./RingBufferGeometry\";\n/**\n * @author Kaleb Murphy\n */\nexport class RingGeometry extends Geometry {\n  constructor(innerRadius: number, outerRadius: number, thetaSegments: number, phiSegments: number, thetaStart: number, thetaLength: number) {\n    super();\n    this.type = 'RingGeometry';\n    this.parameters = {\n      innerRadius: innerRadius,\n      outerRadius: outerRadius,\n      thetaSegments: thetaSegments,\n      phiSegments: phiSegments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    this.fromBufferGeometry(new RingBufferGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength));\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { PlaneBufferGeometry } from \"./PlaneBufferGeometry\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Plane.as\n */\nexport class PlaneGeometry extends Geometry {\n  constructor(width: number, height: number, widthSegments?: number, heightSegments?: number) {\n    super();\n    this.type = 'PlaneGeometry';\n    this.parameters = {\n      width: width,\n      height: height,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments\n    };\n    this.fromBufferGeometry(new PlaneBufferGeometry(width, height, widthSegments, heightSegments));\n  }\n}\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { BufferAttribute } from \"../core/BufferAttribute\";\nimport { _Math } from \"../math/Math\";\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n // points - to create a closed torus, one must use a set of points\n //    like so: [a, b, c, d, a], see first is the same as last.\n // segments - the number of circumference segments to create\n // phiStart - the starting radian\n // phiLength - the radian (0 to 2PI) range of the lathed section\n //    2PI is a closed lathe, less than 2PI is a portion.\nexport class LatheBufferGeometry extends BufferGeometry {\n  constructor(points: Vector2[], segments: number, phiStart: number, phiLength: number) {\n    super();\n    this.type = 'LatheBufferGeometry';\n    this.parameters = {\n      points: points,\n      segments: segments,\n      phiStart: phiStart,\n      phiLength: phiLength\n    };\n    segments = Math.floor(segments) || 12;\n    phiStart = phiStart || 0;\n    phiLength = phiLength || Math.PI * 2;\n    // clamp phiLength so it's in range of [0, 2PI]\n    phiLength = _Math.clamp(phiLength, 0, Math.PI * 2);\n    // these are used to calculate buffer length\n    const vertexCount = (segments + 1) * points.length;\n    const indexCount = segments * points.length * 2 * 3;\n    // buffers\n    const indices = new BufferAttribute(new (indexCount > 65535 ? Uint32Array : Uint16Array)(indexCount) , 1);\n    const vertices = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    const uvs = new BufferAttribute(new Float32Array(vertexCount * 2), 2);\n    // helper variables\n    let index = 0, indexOffset = 0;\n    const inverseSegments = 1.0 / segments;\n    const vertex = new Vector3();\n    const uv = new Vector2();\n    // generate vertices and uvs\n    for (let i = 0; i <= segments; i ++) {\n      const phi = phiStart + i * inverseSegments * phiLength;\n      const sin = Math.sin(phi);\n      const cos = Math.cos(phi);\n      for (let j = 0; j <= (points.length - 1); j ++) {\n        // vertex\n        vertex.x = points[j].x * sin;\n        vertex.y = points[j].y;\n        vertex.z = points[j].x * cos;\n        vertices.setXYZ(index, vertex.x, vertex.y, vertex.z);\n        // uv\n        uv.x = i / segments;\n        uv.y = j / (points.length - 1);\n        uvs.setXY(index, uv.x, uv.y);\n        // increase index\n        index ++;\n      }\n    }\n    // generate indices\n    for (let i = 0; i < segments; i ++) {\n      for (let j = 0; j < (points.length - 1); j ++) {\n        const base = j + i * points.length;\n        // indices\n        const a = base;\n        const b = base + points.length;\n        const c = base + points.length + 1;\n        const d = base + 1;\n        // face one\n        indices.setX(indexOffset, a); indexOffset++;\n        indices.setX(indexOffset, b); indexOffset++;\n        indices.setX(indexOffset, d); indexOffset++;\n        // face two\n        indices.setX(indexOffset, b); indexOffset++;\n        indices.setX(indexOffset, c); indexOffset++;\n        indices.setX(indexOffset, d); indexOffset++;\n      }\n    }\n    // build geometry\n    this.setIndex(indices);\n    this.addAttribute('position', vertices);\n    this.addAttribute('uv', uvs);\n    // generate normals\n    this.computeVertexNormals();\n    // if the geometry is closed, we need to average the normals along the seam.\n    // because the corresponding vertices are identical (but still have different UVs).\n    if (phiLength === Math.PI * 2) {\n      const normals = this.attributes.normal.array;\n      const n1 = new Vector3();\n      const n2 = new Vector3();\n      const n = new Vector3();\n      // this is the buffer offset for the last line of vertices\n      const base = segments * points.length * 3;\n      for (let i = 0, j = 0; i < points.length; i ++, j += 3) {\n        // select the normal of the vertex in the first line\n        n1.x = normals[j + 0];\n        n1.y = normals[j + 1];\n        n1.z = normals[j + 2];\n        // select the normal of the vertex in the last line\n        n2.x = normals[base + j + 0];\n        n2.y = normals[base + j + 1];\n        n2.z = normals[base + j + 2];\n        // average normals\n        n.addVectors(n1, n2).normalize();\n        // assign the new values to both normals\n        normals[j + 0] = normals[base + j + 0] = n.x;\n        normals[j + 1] = normals[base + j + 1] = n.y;\n        normals[j + 2] = normals[base + j + 2] = n.z;\n      } // next row\n    }\n  }\n}\n","import { Vector2 } from \"../math/Vector2\";\nimport { Geometry } from \"../core/Geometry\";\nimport { LatheBufferGeometry } from \"./LatheBufferGeometry\";\n/**\n * @author astrodud / http://astrodud.isgreat.org/\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://clara.io\n */\n// points - to create a closed torus, one must use a set of points\n//    like so: [a, b, c, d, a], see first is the same as last.\n// segments - the number of circumference segments to create\n// phiStart - the starting radian\n// phiLength - the radian (0 to 2PI) range of the lathed section\n//    2PI is a closed lathe, less than 2PI is a portion.\nexport class LatheGeometry extends Geometry {\n  constructor(points: Vector2[], segments: number, phiStart?: number, phiLength?: number) {\n    super();\n    this.type = 'LatheGeometry';\n    this.parameters = {\n      points: points,\n      segments: segments,\n      phiStart: phiStart,\n      phiLength: phiLength\n    };\n    this.fromBufferGeometry(new LatheBufferGeometry(points, segments, phiStart, phiLength));\n    this.mergeVertices();\n  }\n}\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { BufferAttribute } from \"../core/BufferAttribute\";\nimport { Geometry } from \"../core/Geometry\";\nimport { _Math } from \"../math/Math\";\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\nexport class EdgesGeometry extends BufferGeometry {\n  constructor(geometry: Geometry | BufferGeometry, thresholdAngle: number = 1) {\n    super();\n    const thresholdDot = Math.cos(_Math.DEG2RAD * thresholdAngle);\n    const edge = [0, 0], hash = {};\n    function sortFunction(a: number, b: number): number {\n      return a - b;\n    }\n    const keys = ['a', 'b', 'c'];\n    let geometry2: Geometry;\n    if ((geometry && geometry instanceof BufferGeometry)) {\n      geometry2 = new Geometry();\n      geometry2.fromBufferGeometry(geometry);\n    } else if (geometry && geometry instanceof Geometry) {\n      geometry2 = geometry.clone();\n    }\n    geometry2.mergeVertices();\n    geometry2.computeFaceNormals();\n    const vertices = geometry2.vertices;\n    const faces = geometry2.faces;\n    for (let i = 0, l = faces.length; i < l; i ++) {\n      const face = faces[i];\n      for (let j = 0; j < 3; j ++) {\n        edge[0] = face[keys[j]];\n        edge[1] = face[keys[(j + 1) % 3]];\n        edge.sort(sortFunction);\n        const key = edge.toString();\n        if (hash[key] === undefined) {\n          hash[key] = { vert1: edge[0], vert2: edge[1], face1: i, face2: undefined };\n        } else {\n          hash[key].face2 = i;\n        }\n      }\n    }\n    const coords = [];\n    for (let key in hash) {\n      const h = hash[key];\n      if (h.face2 === undefined || faces[h.face1].normal.dot(faces[h.face2].normal) <= thresholdDot) {\n        const vertex1 = vertices[h.vert1];\n        coords.push(vertex1.x);\n        coords.push(vertex1.y);\n        coords.push(vertex1.z);\n        const vertex2 = vertices[h.vert2];\n        coords.push(vertex2.x);\n        coords.push(vertex2.y);\n        coords.push(vertex2.z);\n      }\n    }\n    this.addAttribute('position', new BufferAttribute(new Float32Array(coords), 3));\n  }\n}\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { BufferAttribute } from \"../core/BufferAttribute\";\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\nexport class CylinderBufferGeometry extends BufferGeometry {\n  constructor(radiusTop: number, radiusBottom: number, height: number, radialSegments: number, heightSegments: number, openEnded?: boolean, thetaStart?: number, thetaLength?: number) {\n    super();\n    this.type = 'CylinderBufferGeometry';\n    this.parameters = {\n      radiusTop: radiusTop,\n      radiusBottom: radiusBottom,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    const scope = this;\n    radiusTop = radiusTop !== undefined ? radiusTop : 20;\n    radiusBottom = radiusBottom !== undefined ? radiusBottom : 20;\n    height = height !== undefined ? height : 100;\n    radialSegments = Math.floor(radialSegments) || 8;\n    heightSegments = Math.floor(heightSegments) || 1;\n    openEnded = openEnded !== undefined ? openEnded : false;\n    thetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n    thetaLength = thetaLength !== undefined ? thetaLength : 2.0 * Math.PI;\n    // used to calculate buffer length\n    let nbCap = 0;\n    if (openEnded === false) {\n      if (radiusTop > 0) nbCap ++;\n      if (radiusBottom > 0) nbCap ++;\n    }\n    const vertexCount = calculateVertexCount();\n    const indexCount = calculateIndexCount();\n    // buffers\n    const indices = new BufferAttribute(new (indexCount > 65535 ? Uint32Array : Uint16Array)(indexCount), 1);\n    const vertices = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    const normals = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    const uvs = new BufferAttribute(new Float32Array(vertexCount * 2), 2);\n    // helper variables\n    let index = 0,\n        indexOffset = 0,\n        indexArray: any[] = [],\n        halfHeight = height / 2;\n    // group variables\n    let groupStart = 0;\n    // generate geometry\n    generateTorso();\n    if (openEnded === false) {\n      if (radiusTop > 0) generateCap(true);\n      if (radiusBottom > 0) generateCap(false);\n    }\n    // build geometry\n    this.setIndex(indices);\n    this.addAttribute('position', vertices);\n    this.addAttribute('normal', normals);\n    this.addAttribute('uv', uvs);\n    // helper functions\n    function calculateVertexCount() {\n      let count = (radialSegments + 1) * (heightSegments + 1);\n      if (openEnded === false) {\n        count += ((radialSegments + 1) * nbCap) + (radialSegments * nbCap);\n      }\n      return count;\n    }\n    function calculateIndexCount() {\n      let count = radialSegments * heightSegments * 2 * 3;\n      if (openEnded === false) {\n        count += radialSegments * nbCap * 3;\n      }\n      return count;\n    }\n    function generateTorso() {\n      const normal = new Vector3();\n      const vertex = new Vector3();\n      let groupCount = 0;\n      // this will be used to calculate the normal\n      const slope = (radiusBottom - radiusTop) / height;\n      // generate vertices, normals and uvs\n      for (let y = 0; y <= heightSegments; y ++) {\n        const indexRow = [];\n        const v = y / heightSegments;\n        // calculate the radius of the current row\n        const radius = v * (radiusBottom - radiusTop) + radiusTop;\n        for (let x = 0; x <= radialSegments; x ++) {\n          const u = x / radialSegments;\n          const theta = u * thetaLength + thetaStart;\n          const sinTheta = Math.sin(theta);\n          const cosTheta = Math.cos(theta);\n          // vertex\n          vertex.x = radius * sinTheta;\n          vertex.y = - v * height + halfHeight;\n          vertex.z = radius * cosTheta;\n          vertices.setXYZ(index, vertex.x, vertex.y, vertex.z);\n          // normal\n          normal.set(sinTheta, slope, cosTheta).normalize();\n          normals.setXYZ(index, normal.x, normal.y, normal.z);\n          // uv\n          uvs.setXY(index, u, 1 - v);\n          // save index of vertex in respective row\n          indexRow.push(index);\n          // increase index\n          index ++;\n        }\n        // now save vertices of the row in our index array\n        indexArray.push(indexRow);\n      }\n      // generate indices\n      for (let x = 0; x < radialSegments; x ++) {\n        for (let y = 0; y < heightSegments; y ++) {\n          // we use the index array to access the correct indices\n          const i1 = indexArray[y][x];\n          const i2 = indexArray[y + 1][x];\n          const i3 = indexArray[y + 1][x + 1];\n          const i4 = indexArray[y][x + 1];\n          // face one\n          indices.setX(indexOffset, i1); indexOffset ++;\n          indices.setX(indexOffset, i2); indexOffset ++;\n          indices.setX(indexOffset, i4); indexOffset ++;\n          // face two\n          indices.setX(indexOffset, i2); indexOffset ++;\n          indices.setX(indexOffset, i3); indexOffset ++;\n          indices.setX(indexOffset, i4); indexOffset ++;\n          // update counters\n          groupCount += 6;\n        }\n      }\n      // add a group to the geometry. this will ensure multi material support\n      scope.addGroup(groupStart, groupCount, 0);\n      // calculate new start value for groups\n      groupStart += groupCount;\n    }\n    function generateCap(top: boolean) {\n      const uv = new Vector2();\n      const vertex = new Vector3();\n      let groupCount = 0;\n      const radius = (top === true) ? radiusTop : radiusBottom;\n      const sign = (top === true) ? 1 : - 1;\n      // save the index of the first center vertex\n      const centerIndexStart = index;\n      // first we generate the center vertex data of the cap.\n      // because the geometry needs one set of uvs per face,\n      // we must generate a center vertex per face/segment\n      for (let x = 1; x <= radialSegments; x ++) {\n        // vertex\n        vertices.setXYZ(index, 0, halfHeight * sign, 0);\n        // normal\n        normals.setXYZ(index, 0, sign, 0);\n        // uv\n        uv.x = 0.5;\n        uv.y = 0.5;\n        uvs.setXY(index, uv.x, uv.y);\n        // increase index\n        index ++;\n      }\n      // save the index of the last center vertex\n      const centerIndexEnd = index;\n      // now we generate the surrounding vertices, normals and uvs\n      for (let x = 0; x <= radialSegments; x ++) {\n        const u = x / radialSegments;\n        const theta = u * thetaLength + thetaStart;\n        const cosTheta = Math.cos(theta);\n        const sinTheta = Math.sin(theta);\n        // vertex\n        vertex.x = radius * sinTheta;\n        vertex.y = halfHeight * sign;\n        vertex.z = radius * cosTheta;\n        vertices.setXYZ(index, vertex.x, vertex.y, vertex.z);\n        // normal\n        normals.setXYZ(index, 0, sign, 0);\n        // uv\n        uv.x = (cosTheta * 0.5) + 0.5;\n        uv.y = (sinTheta * 0.5 * sign) + 0.5;\n        uvs.setXY(index, uv.x, uv.y);\n        // increase index\n        index ++;\n      }\n      // generate indices\n      for (let x = 0; x < radialSegments; x ++) {\n        const c = centerIndexStart + x;\n        const i = centerIndexEnd + x;\n        if (top === true) {\n          // face top\n          indices.setX(indexOffset, i); indexOffset ++;\n          indices.setX(indexOffset, i + 1); indexOffset ++;\n          indices.setX(indexOffset, c); indexOffset ++;\n        } else {\n          // face bottom\n          indices.setX(indexOffset, i + 1); indexOffset ++;\n          indices.setX(indexOffset, i); indexOffset ++;\n          indices.setX(indexOffset, c); indexOffset ++;\n        }\n        // update counters\n        groupCount += 3;\n      }\n      // add a group to the geometry. this will ensure multi material support\n      scope.addGroup(groupStart, groupCount, top === true ? 1 : 2);\n      // calculate new start value for groups\n      groupStart += groupCount;\n    }\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { CylinderBufferGeometry } from \"./CylinderBufferGeometry\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class CylinderGeometry extends Geometry {\n  constructor(radiusTop: number, radiusBottom: number, height: number, radialSegments: number, heightSegments: number, openEnded?: boolean, thetaStart?: number, thetaLength?: number) {\n    super();\n    this.type = 'CylinderGeometry';\n    this.parameters = {\n      radiusTop: radiusTop,\n      radiusBottom: radiusBottom,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    this.fromBufferGeometry(new CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength));\n    this.mergeVertices();\n  }\n}\n","import { CylinderGeometry } from \"./CylinderGeometry\";\n/**\n * @author abelnation / http://github.com/abelnation\n */\nexport class ConeGeometry extends CylinderGeometry {\n  constructor(radius: number, height: number, radialSegments: number, heightSegments: number, openEnded: boolean, thetaStart: number, thetaLength: number) {\n    super(0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);\n    this.type = 'ConeGeometry';\n    this.parameters = {\n      radius: radius,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n  }\n}\n","import { CylinderBufferGeometry } from \"./CylinderBufferGeometry\";\n/*\n * @author: abelnation / http://github.com/abelnation\n */\nexport class ConeBufferGeometry extends CylinderBufferGeometry {\n  constructor(\n    radius: number, height: number, radialSegments: number, heightSegments: number, openEnded: boolean, thetaStart: number, thetaLength: number) {\n    super(0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);\n    this.type = 'ConeBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n  }\n}\n","import { BufferGeometry } from \"../core/BufferGeometry\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Sphere } from \"../math/Sphere\";\nimport { BufferAttribute } from \"../core/BufferAttribute\";\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\nexport class CircleBufferGeometry extends BufferGeometry {\n  constructor(radius: number, segments: number, thetaStart: number, thetaLength: number) {\n    super();\n    this.type = 'CircleBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      segments: segments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    radius = radius || 50;\n    segments = segments !== undefined ? Math.max(3, segments) : 8;\n    thetaStart = thetaStart !== undefined ? thetaStart : 0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n    const vertices = segments + 2;\n    const positions = new Float32Array(vertices * 3);\n    const normals = new Float32Array(vertices * 3);\n    const uvs = new Float32Array(vertices * 2);\n    // center data is already zero, but need to set a few extras\n    normals[2] = 1.0;\n    uvs[0] = 0.5;\n    uvs[1] = 0.5;\n    for (let s = 0, i = 3, ii = 2 ; s <= segments; s ++, i += 3, ii += 2) {\n      const segment = thetaStart + s / segments * thetaLength;\n      positions[i] = radius * Math.cos(segment);\n      positions[i + 1] = radius * Math.sin(segment);\n      normals[i + 2] = 1; // normal z\n      uvs[ii] = (positions[i] / radius + 1) / 2;\n      uvs[ii + 1] = (positions[i + 1] / radius + 1) / 2;\n    }\n    const indices = [];\n    for (let i = 1; i <= segments; i ++) {\n      indices.push(i, i + 1, 0);\n    }\n    this.setIndex(new BufferAttribute(new Uint16Array(indices), 1));\n    this.addAttribute('position', new BufferAttribute(positions, 3));\n    this.addAttribute('normal', new BufferAttribute(normals, 3));\n    this.addAttribute('uv', new BufferAttribute(uvs, 2));\n    this.boundingSphere = new Sphere(new Vector3(), radius);\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { CircleBufferGeometry } from \"./CircleBufferGeometry\";\n/**\n * @author hughes\n */\nexport class CircleGeometry extends Geometry {\n  constructor(radius: number, segments: number, thetaStart: number, thetaLength: number) {\n    super();\n    this.type = 'CircleGeometry';\n    this.parameters = {\n      radius: radius,\n      segments: segments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    this.fromBufferGeometry(new CircleBufferGeometry(radius, segments, thetaStart, thetaLength));\n  }\n}\n","import { Geometry } from \"../core/Geometry\";\nimport { BoxBufferGeometry } from \"./BoxBufferGeometry\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Cube.as\n */\nexport class BoxGeometry extends Geometry {\n  constructor(width: number, height: number, depth: number, widthSegments?: number, heightSegments?: number, depthSegments?: number) {\n    super();\n    this.type = 'BoxGeometry';\n    this.parameters = {\n      width: width,\n      height: height,\n      depth: depth,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n      depthSegments: depthSegments\n    };\n    this.fromBufferGeometry(new BoxBufferGeometry(width, height, depth, widthSegments, heightSegments, depthSegments));\n    this.mergeVertices();\n  }\n}\n","import { ShaderMaterial, ShaderMaterialParameters } from \"./ShaderMaterial\";\nimport { ShaderChunk } from \"../renderers/shaders/ShaderChunk\";\nimport { UniformsLib } from \"../renderers/shaders/UniformsLib\";\nimport { UniformsUtils } from \"../renderers/shaders/UniformsUtils\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport interface ShadowMaterialParameters extends ShaderMaterialParameters {\n}\nexport class ShadowMaterial extends ShaderMaterial {\n  readonly isShadowMaterial: boolean = true;\n  constructor() {\n    super({\n      uniforms: UniformsUtils.merge([\n        UniformsLib[\"lights\"],\n        {\n          opacity: { value: 1.0 }\n        }\n      ]),\n      vertexShader: ShaderChunk['shadow_vert'],\n      fragmentShader: ShaderChunk['shadow_frag']\n    });\n    this.lights = true;\n    this.transparent = true;\n  }\n  get opacity(): number { return this.uniforms.opacity.value; }\n  set opacity(value: number) { this.uniforms.opacity.value = value; }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class Cache {\n  static enabled: boolean = false;\n  static files = {};\n  static add(key: string, file: any): void {\n    if (Cache.enabled === false) return;\n    // console.log('THREE.Cache', 'Adding key:', key);\n    Cache.files[key] = file;\n  }\n  static get(key: string): any {\n    if (Cache.enabled === false) return;\n    // console.log('THREE.Cache', 'Checking key:', key);\n    return Cache.files[key];\n  }\n  static remove(key: string): void {\n    delete Cache.files[key];\n  }\n  static clear(): void {\n    Cache.files = {};\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class LoadingManager {\n  isLoading: boolean = false;\n  itemsLoaded: number = 0;\n  itemsTotal: number = 0;\n  onStart: (url: string, itemsLoaded: number, itemsTotal: number) => void;\n  onLoad: () => void;\n  onProgress: (url: string, itemsLoaded: number, itemsTotal: number) => void;\n  onError: (url: string) => void;\n  constructor(onLoad?: () => void, onProgress?: (url: string, itemsLoaded: number, itemsTotal: number) => void, onError?: (url: string) => void) {\n    this.onStart = undefined;\n    this.onLoad = onLoad;\n    this.onProgress = onProgress;\n    this.onError = onError;\n  }\n  itemStart(url: string): void {\n    this.itemsTotal ++;\n    if (this.isLoading === false) {\n      if (this.onStart !== undefined) {\n        this.onStart(url, this.itemsLoaded, this.itemsTotal);\n      }\n    }\n    this.isLoading = true;\n  }\n  itemEnd(url: string): void {\n    this.itemsLoaded ++;\n    if (this.onProgress !== undefined) {\n      this.onProgress(url, this.itemsLoaded, this.itemsTotal);\n    }\n    if (this.itemsLoaded === this.itemsTotal) {\n      this.isLoading = false;\n      if (this.onLoad !== undefined) {\n        this.onLoad();\n      }\n    }\n  };\n  itemError(url: string): void {\n    if (this.onError !== undefined) {\n      this.onError(url);\n    }\n  };\n}\nexport const DefaultLoadingManager = new LoadingManager();\n","import { Cache } from \"./Cache\";\nimport { LoadingManager, DefaultLoadingManager } from \"./LoadingManager\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class XHRLoader {\n  manager: LoadingManager;\n  path: string;\n  responseType: XMLHttpRequestResponseType;\n  withCredentials: boolean;\n  constructor(manager: LoadingManager = DefaultLoadingManager) {\n    this.manager = manager;\n  }\n  load(url: string, onLoad?: (response: string | ArrayBuffer | Blob) => void, onProgress?: (event: ProgressEvent) => void, onError?: (event: ErrorEvent) => void): XMLHttpRequest {\n    if (url === undefined) url = '';\n    if (this.path !== undefined) url = this.path + url;\n    const scope: XHRLoader = this;\n    const cached: any = Cache.get(url);\n    if (cached !== undefined) {\n      scope.manager.itemStart(url);\n      setTimeout(function(): void {\n        if (onLoad) onLoad(cached);\n        scope.manager.itemEnd(url);\n      }, 0);\n      return cached;\n    }\n    let request: XMLHttpRequest;\n    // Check for data: URI\n    let dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n    let dataUriRegexResult = url.match(dataUriRegex);\n    // Safari can not handle Data URIs through XMLHttpRequest so process manually\n    if (dataUriRegexResult) {\n      let mimeType = dataUriRegexResult[1];\n      let isBase64 = !!dataUriRegexResult[2];\n      let data = dataUriRegexResult[3];\n      data = decodeURIComponent(data);\n      if (isBase64) {\n        data = window.atob(data);\n      }\n      try {\n        let response;\n        let responseType = (this.responseType || '').toLowerCase();\n        switch (responseType) {\n          case 'arraybuffer':\n          case 'blob':\n             response = new ArrayBuffer(data.length);\n            let view = new Uint8Array(response);\n            for (let i = 0; i < data.length; i ++) {\n                view[ i ] = data.charCodeAt(i);\n            }\n            if (responseType === 'blob') {\n              response = new Blob([ response ], { \"type\" : mimeType });\n            }\n            break;\n          case 'document':\n            let parser = new DOMParser();\n            response = parser.parseFromString(data, mimeType);\n            break;\n          case 'json':\n            response = JSON.parse(data);\n            break;\n          default: // 'text' or other\n            response = data;\n            break;\n        }\n        // Wait for next browser tick\n        window.setTimeout(function() {\n          if (onLoad) onLoad(response);\n          scope.manager.itemEnd(url);\n        }, 0);\n      } catch (error) {\n        // Wait for next browser tick\n        window.setTimeout(function() {\n          if (onError) onError(error);\n          scope.manager.itemError(url);\n        }, 0);\n      }\n    } else {\n      request = new XMLHttpRequest();\n      request.open('GET', url, true);\n      request.addEventListener('load', function(event: UIEvent) {\n        const response: string = request.response;\n        Cache.add(url, response);\n        if (request.status === 200) {\n          if (onLoad) onLoad(response);\n          scope.manager.itemEnd(url);\n        } else if (request.status === 0) {\n          // Some browsers return HTTP Status 0 when using non-http protocol\n          // e.g. 'file://' or 'data://'. Handle as success.\n          console.warn('THREE.XHRLoader: HTTP Status 0 received.');\n          if (onLoad) onLoad(response);\n          scope.manager.itemEnd(url);\n        } else {\n          if (onError) onError(<any>event);\n          scope.manager.itemError(url);\n        }\n      }, false);\n      if (onProgress !== undefined) {\n        request.addEventListener('progress', function(event: ProgressEvent): void {\n          onProgress(event);\n        }, false);\n      }\n      request.addEventListener('error', function(event: ErrorEvent): void {\n        if (onError) onError(event);\n        scope.manager.itemError(url);\n      }, false);\n      if (this.responseType !== undefined) request.responseType = this.responseType;\n      if (this.withCredentials !== undefined) request.withCredentials = this.withCredentials;\n      if (request.overrideMimeType) request.overrideMimeType('text/plain');\n      request.send(null);\n    }\n    scope.manager.itemStart(url);\n    return request;\n  }\n  setPath(value: string): XHRLoader {\n    this.path = value;\n    return this;\n  }\n  setResponseType(value: XMLHttpRequestResponseType): XHRLoader {\n    this.responseType = value;\n    return this;\n  }\n  setWithCredentials(value: boolean): XHRLoader {\n    this.withCredentials = value;\n    return this;\n  }\n}\n","import { TextureFilter } from \"../constants\";\nimport { XHRLoader } from \"./XHRLoader\";\nimport { CompressedTexture } from \"../textures/CompressedTexture\";\nimport { LoadingManager, DefaultLoadingManager } from \"./LoadingManager\";\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n */\nexport class CompressedTextureLoader {\n  manager: LoadingManager;\n  _parser: (buffer: ArrayBuffer, x: boolean) => any;\n  path: string;\n  constructor(manager: LoadingManager = DefaultLoadingManager) {\n    this.manager = manager;\n    // override in sub classes\n    this._parser = null;\n  }\n  load(url: string | string[], onLoad: (texture: CompressedTexture) => void, onProgress?: (event: ProgressEvent) => void, onError?: (event: ErrorEvent) => void): CompressedTexture {\n    const scope: CompressedTextureLoader = this;\n    const images: any[] = [];\n    const texture: CompressedTexture = new CompressedTexture();\n    texture.image = images;\n    const loader: XHRLoader = new XHRLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setResponseType('arraybuffer');\n    let loaded: number = 0;\n    function loadTexture(i: number): void {\n      loader.load(url[i], function(buffer: ArrayBuffer): void {\n        const texDatas = scope._parser(buffer, true);\n        images[i] = {\n          width: texDatas.width,\n          height: texDatas.height,\n          format: texDatas.format,\n          mipmaps: texDatas.mipmaps\n        };\n        loaded += 1;\n        if (loaded === 6) {\n          if (texDatas.mipmapCount === 1)\n            texture.minFilter = TextureFilter.Linear;\n          texture.format = texDatas.format;\n          texture.needsUpdate = true;\n          if (onLoad) onLoad(texture);\n        }\n      }, onProgress, onError);\n    }\n    if (Array.isArray(url)) {\n      loaded = 0;\n      for (let i = 0, il = url.length; i < il; ++ i) {\n        loadTexture(i);\n      }\n    } else {\n      // compressed cubemap texture stored in a single DDS file\n      loader.load(url, function(buffer: ArrayBuffer): void {\n        const texDatas = scope._parser(buffer, true);\n        if (texDatas.isCubemap) {\n          const faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n          for (let f = 0; f < faces; f ++) {\n            images[f] = { mipmaps : [] };\n            for (let i = 0; i < texDatas.mipmapCount; i ++) {\n              images[f].mipmaps.push(texDatas.mipmaps[f * texDatas.mipmapCount + i]);\n              images[f].format = texDatas.format;\n              images[f].width = texDatas.width;\n              images[f].height = texDatas.height;\n            }\n          }\n        } else {\n          texture.image.width = texDatas.width;\n          texture.image.height = texDatas.height;\n          texture.mipmaps = texDatas.mipmaps;\n        }\n        if (texDatas.mipmapCount === 1) {\n          texture.minFilter = TextureFilter.Linear;\n        }\n        texture.format = texDatas.format;\n        texture.needsUpdate = true;\n        if (onLoad) onLoad(texture);\n      }, onProgress, onError);\n    }\n    return texture;\n  }\n  setPath(value: string): CompressedTextureLoader {\n    this.path = value;\n    return this;\n  }\n}\n","import { TextureFilter, TextureWrapping } from \"../constants\";\nimport { XHRLoader } from \"./XHRLoader\";\nimport { DataTexture } from \"../textures/DataTexture\";\nimport { LoadingManager, DefaultLoadingManager } from \"./LoadingManager\";\n/**\n * @author Nikos M. / https://github.com/foo123/\n *\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n */\nexport class BinaryTextureLoader {\n  manager: LoadingManager;\n  _parser: (buffer: ArrayBuffer) => any;\n  constructor(manager: LoadingManager = DefaultLoadingManager) {\n    this.manager = manager;\n    // override in sub classes\n    this._parser = null;\n  }\n  load(url: string, onLoad?: (texture: DataTexture, texData: any) => void, onProgress?: (event: ProgressEvent) => void, onError?: (event: ErrorEvent) => void): DataTexture {\n    const scope: BinaryTextureLoader = this;\n    const texture: DataTexture = new DataTexture();\n    const loader: XHRLoader = new XHRLoader(this.manager);\n    loader.setResponseType('arraybuffer');\n    loader.load(url, function(buffer: ArrayBuffer): void {\n      const texData: any = scope._parser(buffer);\n      if (! texData) return;\n      if (undefined !== texData.image) {\n        texture.image = texData.image;\n      } else if (undefined !== texData.data) {\n        texture.image.width = texData.width;\n        texture.image.height = texData.height;\n        texture.image.data = texData.data;\n      }\n      texture.wrapS = undefined !== texData.wrapS ? texData.wrapS : TextureWrapping.ClampToEdge;\n      texture.wrapT = undefined !== texData.wrapT ? texData.wrapT : TextureWrapping.ClampToEdge;\n      texture.magFilter = undefined !== texData.magFilter ? texData.magFilter : TextureFilter.Linear;\n      texture.minFilter = undefined !== texData.minFilter ? texData.minFilter : TextureFilter.LinearMipMapLinear;\n      texture.anisotropy = undefined !== texData.anisotropy ? texData.anisotropy : 1;\n      if (undefined !== texData.format) {\n        texture.format = texData.format;\n      }\n      if (undefined !== texData.type) {\n        texture.type = texData.type;\n      }\n      if (undefined !== texData.mipmaps) {\n        texture.mipmaps = texData.mipmaps;\n      }\n      if (1 === texData.mipmapCount) {\n        texture.minFilter = TextureFilter.Linear;\n      }\n      texture.needsUpdate = true;\n      if (onLoad) onLoad(texture, texData);\n    }, onProgress, onError);\n    return texture;\n  }\n}\nexport const DataTextureLoader = BinaryTextureLoader;\n","import { XHRLoader } from \"./XHRLoader\";\nimport { LoadingManager, DefaultLoadingManager } from \"./LoadingManager\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class ImageLoader {\n  manager: LoadingManager;\n  path: string;\n  crossOrigin: string;\n  withCredentials: boolean;\n  constructor(manager: LoadingManager = DefaultLoadingManager) {\n    this.manager = manager;\n  }\n  load(url: string, onLoad: (image: HTMLImageElement) => void, onProgress?: (event: ProgressEvent) => void, onError?: (event: ErrorEvent) => void): HTMLImageElement {\n    const scope: ImageLoader = this;\n    const image: HTMLImageElement = <HTMLImageElement> document.createElementNS('http://www.w3.org/1999/xhtml', 'img');\n    image.onload = function(event: UIEvent): void {\n      image.onload = null;\n      URL.revokeObjectURL(image.src);\n      if (onLoad) onLoad(image);\n      scope.manager.itemEnd(url);\n    };\n    image.onerror = onError;\n    if (url.indexOf('data:') === 0) {\n      image.src = url;\n    } else {\n      const loader: XHRLoader = new XHRLoader();\n      loader.setPath(this.path);\n      loader.setResponseType('blob');\n      loader.setWithCredentials(this.withCredentials);\n      loader.load(url, function(blob: Blob): void {\n        image.src = URL.createObjectURL(blob);\n      }, onProgress, onError);\n    }\n    scope.manager.itemStart(url);\n    return image;\n  }\n  setCrossOrigin(value: string): ImageLoader {\n    this.crossOrigin = value;\n    return this;\n  }\n  setWithCredentials(value: boolean): ImageLoader {\n    this.withCredentials = value;\n    return this;\n  }\n  setPath(value: string): ImageLoader {\n    this.path = value;\n    return this;\n  }\n}\n","import { ImageLoader } from \"./ImageLoader\";\nimport { CubeTexture } from \"../textures/CubeTexture\";\nimport { LoadingManager, DefaultLoadingManager } from \"./LoadingManager\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class CubeTextureLoader {\n  manager: LoadingManager;\n  path: string;\n  crossOrigin: string;\n  constructor(manager: LoadingManager = DefaultLoadingManager) {\n    this.manager = manager;\n  }\n  load(urls: string[], onLoad: (texture: CubeTexture) => void, onProgress?: (event: ProgressEvent) => void, onError?: (event: ErrorEvent) => void) {\n    const texture: CubeTexture = new CubeTexture();\n    const loader: ImageLoader = new ImageLoader(this.manager);\n    loader.setCrossOrigin(this.crossOrigin);\n    loader.setPath(this.path);\n    let loaded: number = 0;\n    function loadTexture(i: number): void {\n      loader.load(urls[i], function(image: HTMLImageElement): void {\n        texture.images[i] = image;\n        loaded ++;\n        if (loaded === 6) {\n          texture.needsUpdate = true;\n          if (onLoad) onLoad(texture);\n        }\n      }, undefined, onError);\n    }\n    for (let i = 0; i < urls.length; ++ i) {\n      loadTexture(i);\n    }\n    return texture;\n  }\n  setCrossOrigin(value: string): CubeTextureLoader {\n    this.crossOrigin = value;\n    return this;\n  }\n  setPath(value: string): CubeTextureLoader {\n    this.path = value;\n    return this;\n  }\n}\n","import { TextureFormat } from \"../constants\";\nimport { ImageLoader } from \"./ImageLoader\";\nimport { Texture } from \"../textures/Texture\";\nimport { LoadingManager, DefaultLoadingManager } from \"./LoadingManager\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class TextureLoader {\n  manager: LoadingManager;\n  path: string;\n  crossOrigin: string;\n  withCredentials: boolean;\n  constructor(manager: LoadingManager = DefaultLoadingManager) {\n    this.manager = manager;\n  }\n  load(url: string, onLoad?: (texture: Texture) => void, onProgress?: (event: ProgressEvent) => void, onError?: (event: ErrorEvent) => void): Texture {\n    const texture: Texture = new Texture();\n    const loader: ImageLoader = new ImageLoader(this.manager);\n    loader.setCrossOrigin(this.crossOrigin);\n    loader.setWithCredentials(this.withCredentials);\n    loader.setPath(this.path);\n    loader.load(url, function(image: HTMLImageElement): void {\n      // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n      const isJPEG = url.search(/\\.(jpg|jpeg)$/) > 0 || url.search(/^data\\:image\\/jpeg/) === 0;\n      texture.format = isJPEG ? TextureFormat.RGB : TextureFormat.RGBA;\n      texture.image = image;\n      texture.needsUpdate = true;\n      if (onLoad !== undefined) {\n        onLoad(texture);\n      }\n    }, onProgress, onError);\n    return texture;\n  }\n  setCrossOrigin(value: string): TextureLoader {\n    this.crossOrigin = value;\n    return this;\n  }\n  setWithCredentials(value: boolean): TextureLoader {\n    this.withCredentials = value;\n    return this;\n  }\n  setPath(value: string): TextureLoader {\n    this.path = value;\n    return this;\n  }\n}\n","/**\n * @author tschw\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\nexport class AnimationUtils {\n  // same as Array.prototype.slice, but also works on typed arrays\n  static arraySlice(array: any, from: number, to: number): any {\n    if (AnimationUtils.isTypedArray(array)) {\n      return new array.constructor(array.subarray(from, to));\n    }\n    return array.slice(from, to);\n  }\n  // converts an array to a specific type\n  static convertArray(array: any, type: any, forceClone: boolean = false) {\n    if (! array || // let 'undefined' and 'null' pass\n        ! forceClone && array.constructor === type) return array;\n    if (typeof type.BYTES_PER_ELEMENT === 'number') {\n      return new type(array); // create typed array\n    }\n    return Array.prototype.slice.call(array); // create Array\n  }\n  static isTypedArray(object: any): boolean {\n    return ArrayBuffer.isView(object) &&\n        ! (object instanceof DataView);\n  }\n  // returns an array by which times and values can be sorted\n  static getKeyframeOrder(times: number[]): number[] {\n    function compareTime(i: number, j: number): number {\n      return times[ i ] - times[ j ];\n    }\n    const n = times.length;\n    const result = new Array(n);\n    for (let i = 0; i !== n; ++ i) result[ i ] = i;\n    result.sort(compareTime);\n    return result;\n  }\n  // uses the array previously returned by 'getKeyframeOrder' to sort data\n  static sortedArray(values: any, stride: number, order: number[]) {\n    const nValues = values.length;\n    const result = new values.constructor(nValues);\n    for (let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i) {\n      const srcOffset = order[ i ] * stride;\n      for (let j = 0; j !== stride; ++ j) {\n        result[ dstOffset ++ ] = values[ srcOffset + j ];\n      }\n    }\n    return result;\n  }\n  // function for parsing AOS keyframe formats\n  static flattenJSON(jsonKeys: any, times: number[], values: any, valuePropertyName: string): void {\n    let i = 1, key = jsonKeys[ 0 ];\n    while (key !== undefined && key[ valuePropertyName ] === undefined) {\n      key = jsonKeys[ i ++ ];\n    }\n    if (key === undefined) return; // no data\n    let value = key[ valuePropertyName ];\n    if (value === undefined) return; // no data\n    if (Array.isArray(value)) {\n      do {\n        value = key[ valuePropertyName ];\n        if (value !== undefined) {\n          times.push(key.time);\n          values.push.apply(values, value); // push all elements\n        }\n        key = jsonKeys[ i ++ ];\n      } while (key !== undefined);\n    } else if (value.toArray !== undefined) {\n      // ...assume THREE.Math-ish\n      do {\n        value = key[ valuePropertyName ];\n        if (value !== undefined) {\n          times.push(key.time);\n          value.toArray(values, values.length);\n        }\n        key = jsonKeys[ i ++ ];\n      } while (key !== undefined);\n    } else {\n      // otherwise push as-is\n      do {\n        value = key[ valuePropertyName ];\n        if (value !== undefined) {\n          times.push(key.time);\n          values.push(value);\n        }\n        key = jsonKeys[ i ++ ];\n      } while (key !== undefined);\n    }\n  }\n}\n","/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n *     http://www.oodesign.com/template-method-pattern.html\n *\n * @author tschw\n */\nexport class Interpolant {\n  parameterPositions: number[] | Float32Array | Float64Array;\n  resultBuffer: number[] | Float32Array | Float64Array;\n  _cachedIndex: number;\n  sampleValues: number[] | Float32Array | Float64Array;\n  valueSize: number;\n  constructor(parameterPositions: number[] | Float32Array | Float64Array, sampleValues: number[] | Float32Array | Float64Array, sampleSize: number, resultBuffer?: number[] | Float32Array | Float64Array) {\n    this.parameterPositions = parameterPositions;\n    this._cachedIndex = 0;\n    this.resultBuffer = resultBuffer !== undefined ?\n        resultBuffer : new (sampleValues.constructor as any)(sampleSize);\n    this.sampleValues = sampleValues;\n    this.valueSize = sampleSize;\n  }\n  evaluate(t: number): any {\n    const pp = this.parameterPositions;\n    let i1 = this._cachedIndex;\n    let t1 = pp[   i1   ];\n    let t0 = pp[ i1 - 1 ];\n    validate_interval: {\n      seek: {\n        let right;\n        linear_scan: {\n//- See http://jsperf.com/comparison-to-undefined/3\n//- slower code:\n//-\n//-         if (t >= t1 || t1 === undefined) {\n          forward_scan: if (! (t < t1)) {\n            for (let giveUpAt = i1 + 2; ; ) {\n              if (t1 === undefined) {\n                if (t < t0) break forward_scan;\n                // after end\n                i1 = pp.length;\n                this._cachedIndex = i1;\n                return this.afterEnd_(i1 - 1, t, t0);\n              }\n              if (i1 === giveUpAt) break; // this loop\n              t0 = t1;\n              t1 = pp[ ++ i1 ];\n              if (t < t1) {\n                // we have arrived at the sought interval\n                break seek;\n              }\n            }\n            // prepare binary search on the right side of the index\n            right = pp.length;\n            break linear_scan;\n          }\n//- slower code:\n//-          if (t < t0 || t0 === undefined) {\n          if (! (t >= t0)) {\n            // looping?\n            const t1global = pp[ 1 ];\n            if (t < t1global) {\n              i1 = 2; // + 1, using the scan for the details\n              t0 = t1global;\n            }\n            // linear reverse scan\n            for (let giveUpAt = i1 - 2; ; ) {\n              if (t0 === undefined) {\n                // before start\n                this._cachedIndex = 0;\n                return this.beforeStart_(0, t, t1);\n              }\n              if (i1 === giveUpAt) break; // this loop\n              t1 = t0;\n              t0 = pp[ -- i1 - 1 ];\n              if (t >= t0) {\n                // we have arrived at the sought interval\n                break seek;\n              }\n            }\n            // prepare binary search on the left side of the index\n            right = i1;\n            i1 = 0;\n            break linear_scan;\n          }\n          // the interval is valid\n          break validate_interval;\n        } // linear scan\n        // binary search\n        while (i1 < right) {\n          const mid: number = (i1 + right) >>> 1;\n          if (t < pp[ mid ]) {\n            right = mid;\n          } else {\n            i1 = mid + 1;\n          }\n        }\n        t1 = pp[   i1   ];\n        t0 = pp[ i1 - 1 ];\n        // check boundary cases, again\n        if (t0 === undefined) {\n          this._cachedIndex = 0;\n          return this.beforeStart_(0, t, t1);\n        }\n        if (t1 === undefined) {\n          i1 = pp.length;\n          this._cachedIndex = i1;\n          return this.afterEnd_(i1 - 1, t0, t);\n        }\n      } // seek\n      this._cachedIndex = i1;\n      this.intervalChanged_(i1, t0, t1);\n    } // validate_interval\n    return this.interpolate_(i1, t0, t, t1);\n  }\n  settings: any = null; // optional, subclass-specific settings structure\n  // Note: The indirection allows central control of many interpolants.\n  // --- Protected interface\n  DefaultSettings_ = {};\n  getSettings_(): any {\n    return this.settings || this.DefaultSettings_;\n  }\n  protected copySampleValue_(index: number, t0?: number, t1?: number): any {\n    // copies a sample value to the result buffer\n    const result = this.resultBuffer;\n    const values = this.sampleValues;\n    const stride = this.valueSize;\n    const offset = index * stride;\n    for (let i = 0; i !== stride; ++ i) {\n      result[ i ] = values[ offset + i ];\n    }\n    return result;\n  }\n  // Template methods for derived classes:\n  protected interpolate_(i1: number, t0: number, t: number, t1: number): any {\n    throw new Error(\"call to abstract method\");\n    // implementations shall return this.resultBuffer\n  }\n  protected intervalChanged_(i1: number, t0: number, t1: number): void {\n    // empty\n  }\n  private beforeStart_(i: number, t0: number, t1: number): any {\n    return this.copySampleValue_(i, t0, t1); //(0, t, t0), returns this.resultBuffer\n  }\n  private afterEnd_(i: number, t0: number, t1: number): any {\n    return this.copySampleValue_(i, t0, t1); //(N-1, tN-1, t), returns this.resultBuffer\n  }\n}\n","import { EndingMode } from \"../../constants\";\nimport { Interpolant } from \"../Interpolant\";\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n *\n * @author tschw\n */\nexport class CubicInterpolant extends Interpolant {\n  _weightPrev: number;\n  _offsetPrev: number;\n  _weightNext: number;\n  _offsetNext: number;\n  DefaultSettings_ = {\n    endingStart:   EndingMode.ZeroCurvature,\n    endingEnd:    EndingMode.ZeroCurvature\n  };\n  constructor(parameterPositions: number[] | Float32Array | Float64Array, sampleValues: number[] | Float32Array | Float64Array, sampleSize: number, resultBuffer?: number[] | Float32Array | Float64Array) {\n    super(parameterPositions, sampleValues, sampleSize, resultBuffer);\n    this._weightPrev = -0;\n    this._offsetPrev = -0;\n    this._weightNext = -0;\n    this._offsetNext = -0;\n  }\n  intervalChanged_(i1: number, t0: number, t1: number): void {\n    const pp = this.parameterPositions;\n    let iPrev = i1 - 2;\n    let iNext = i1 + 1;\n    let tPrev = pp[ iPrev ];\n    let tNext = pp[ iNext ];\n    if (tPrev === undefined) {\n      switch (this.getSettings_().endingStart) {\n        case EndingMode.ZeroSlope:\n          // f'(t0) = 0\n          iPrev = i1;\n          tPrev = 2 * t0 - t1;\n          break;\n        case EndingMode.WrapAround:\n          // use the other end of the curve\n          iPrev = pp.length - 2;\n          tPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n          break;\n        default: // EndingMode.ZeroCurvature\n          // f''(t0) = 0 a.k.a. Natural Spline\n          iPrev = i1;\n          tPrev = t1;\n      }\n    }\n    if (tNext === undefined) {\n      switch (this.getSettings_().endingEnd) {\n        case EndingMode.ZeroSlope:\n          // f'(tN) = 0\n          iNext = i1;\n          tNext = 2 * t1 - t0;\n          break;\n        case EndingMode.WrapAround:\n          // use the other end of the curve\n          iNext = 1;\n          tNext = t1 + pp[ 1 ] - pp[ 0 ];\n          break;\n        default: // EndingMode.ZeroCurvature\n          // f''(tN) = 0, a.k.a. Natural Spline\n          iNext = i1 - 1;\n          tNext = t0;\n      }\n    }\n    const halfDt = (t1 - t0) * 0.5;\n    const stride = this.valueSize;\n    this._weightPrev = halfDt / (t0 - tPrev);\n    this._weightNext = halfDt / (tNext - t1);\n    this._offsetPrev = iPrev * stride;\n    this._offsetNext = iNext * stride;\n  }\n  interpolate_(i1: number, t0: number, t: number, t1: number): any {\n    const result = this.resultBuffer;\n    const values = this.sampleValues;\n    const stride = this.valueSize;\n    const o1 = i1 * stride;\n    const o0 = o1 - stride;\n    const oP = this._offsetPrev;\n    const oN = this._offsetNext;\n    const wP = this._weightPrev;\n    const wN = this._weightNext;\n    const p = (t - t0) / (t1 - t0);\n    const pp = p * p;\n    const ppp = pp * p;\n    // evaluate polynomials\n    const sP =     - wP   * ppp   +         2 * wP    * pp    -          wP   * p;\n    const s0 = (1 + wP) * ppp   + (-1.5 - 2 * wP)  * pp    + (-0.5 + wP) * p     + 1;\n    const s1 = (-1 - wN) * ppp   + (1.5 +   wN)  * pp    +    0.5        * p;\n    const sN =       wN   * ppp   -           wN      * pp;\n    // combine data linearly\n    for (let i = 0; i !== stride; ++ i) {\n      result[ i ] =\n          sP * values[ oP + i ] +\n          s0 * values[ o0 + i ] +\n          s1 * values[ o1 + i ] +\n          sN * values[ oN + i ];\n    }\n    return result;\n  }\n}\n","import { Interpolant } from \"../Interpolant\";\n/**\n * @author tschw\n */\nexport class LinearInterpolant extends Interpolant {\n  constructor(parameterPositions: number[] | Float32Array | Float64Array, sampleValues: number[] | Float32Array | Float64Array, sampleSize: number, resultBuffer?: number[] | Float32Array | Float64Array) {\n    super(parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n  interpolate_(i1: number, t0: number, t: number, t1: number): any {\n    const result = this.resultBuffer;\n    const values = this.sampleValues;\n    const stride = this.valueSize;\n    const offset1 = i1 * stride;\n    const offset0 = offset1 - stride;\n    const weight1 = (t - t0) / (t1 - t0);\n    const weight0 = 1 - weight1;\n    for (let i = 0; i !== stride; ++ i) {\n      result[ i ] =\n          values[ offset0 + i ] * weight0 +\n          values[ offset1 + i ] * weight1;\n    }\n    return result;\n  }\n}\n","import { Interpolant } from \"../Interpolant\";\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n *\n * @author tschw\n */\nexport class DiscreteInterpolant extends Interpolant {\n  constructor(parameterPositions: number[] | Float32Array | Float64Array, sampleValues: number[] | Float32Array | Float64Array, sampleSize: number, resultBuffer?: number[] | Float32Array | Float64Array) {\n    super(parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n  interpolate_(i1: number, t0: number, t: number, t1: number): any {\n    return this.copySampleValue_(i1 - 1);\n  }\n}\n","import { AnimationUtils } from \"./AnimationUtils\";\nimport { InterpolateMode } from \"../constants\";\nimport { Interpolant } from \"../math/Interpolant\";\nimport { CubicInterpolant } from \"../math/interpolants/CubicInterpolant\";\nimport { LinearInterpolant } from \"../math/interpolants/LinearInterpolant\";\nimport { DiscreteInterpolant } from \"../math/interpolants/DiscreteInterpolant\";\n/**\n *\n * A timed sequence of keyframes for a specific property.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\nexport class KeyframeTrack {\n  name: string;\n  times: number[];\n  values: number[] | Float32Array | Float64Array;\n  constructor(name: string, times: number[], values: number[] | Float32Array | Float64Array, interpolation: number) {\n    if (name === undefined) throw new Error(\"track name is undefined\");\n    if (times === undefined || times.length === 0) {\n      throw new Error(\"no keyframes in track named \" + name);\n    }\n    this.name = name;\n    this.times = AnimationUtils.convertArray(times, this.TimeBufferType);\n    this.values = AnimationUtils.convertArray(values, this.ValueBufferType);\n    this.setInterpolation(interpolation || this.DefaultInterpolation);\n    this.validate();\n    this.optimize();\n  }\n  TimeBufferType: ArrayConstructor | Float32ArrayConstructor | Float64ArrayConstructor = Float32Array;\n  ValueBufferType: ArrayConstructor | Float32ArrayConstructor | Float64ArrayConstructor = Float32Array;\n  DefaultInterpolation: InterpolateMode = InterpolateMode.Linear;\n  InterpolantFactoryMethodDiscrete(result: number[] | Float32Array | Float64Array): Interpolant {\n    return new DiscreteInterpolant(\n        this.times, this.values, this.getValueSize(), result);\n  }\n  InterpolantFactoryMethodLinear(result: number[] | Float32Array | Float64Array): Interpolant {\n    return new LinearInterpolant(\n        this.times, this.values, this.getValueSize(), result);\n  }\n  InterpolantFactoryMethodSmooth(result: number[] | Float32Array | Float64Array): Interpolant {\n    return new CubicInterpolant(\n        this.times, this.values, this.getValueSize(), result);\n  }\n  ValueTypeName: string;\n  createInterpolant: (result: number[] | Float32Array | Float64Array) => Interpolant;\n  setInterpolation(interpolation: InterpolateMode): void {\n    let factoryMethod: (result: number[] | Float32Array | Float64Array) => Interpolant;\n    switch (interpolation) {\n      case InterpolateMode.Discrete:\n        factoryMethod = this.InterpolantFactoryMethodDiscrete;\n        break;\n      case InterpolateMode.Linear:\n        factoryMethod = this.InterpolantFactoryMethodLinear;\n        break;\n      case InterpolateMode.Smooth:\n        factoryMethod = this.InterpolantFactoryMethodSmooth;\n        break;\n    }\n    if (factoryMethod === undefined) {\n      const message = \"unsupported interpolation for \" +\n          this.ValueTypeName + \" keyframe track named \" + this.name;\n      if (this.createInterpolant === undefined) {\n        // fall back to default, unless the default itself is messed up\n        if (interpolation !== this.DefaultInterpolation) {\n          this.setInterpolation(this.DefaultInterpolation);\n        } else {\n          throw new Error(message); // fatal, in this case\n        }\n      }\n      console.warn(message);\n      return;\n    }\n    this.createInterpolant = factoryMethod;\n  }\n  getInterpolation(): InterpolateMode {\n    switch (this.createInterpolant) {\n      case this.InterpolantFactoryMethodDiscrete:\n        return InterpolateMode.Discrete;\n      case this.InterpolantFactoryMethodLinear:\n        return InterpolateMode.Linear;\n      case this.InterpolantFactoryMethodSmooth:\n        return InterpolateMode.Smooth;\n    }\n    throw new Error();\n  }\n  getValueSize(): number {\n    return this.values.length / this.times.length;\n  }\n  // move all keyframes either forwards or backwards in time\n  shift(timeOffset: number): any {\n    if (timeOffset !== 0.0) {\n      const times = this.times;\n      for (let i = 0, n = times.length; i !== n; ++ i) {\n        times[ i ] += timeOffset;\n      }\n    }\n    return this;\n  }\n  // scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n  scale(timeScale: number): any {\n    if (timeScale !== 1.0) {\n      const times = this.times;\n      for (let i = 0, n = times.length; i !== n; ++ i) {\n        times[ i ] *= timeScale;\n      }\n    }\n    return this;\n  }\n  // removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n  // IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n  trim(startTime: number, endTime: number): any {\n    const times = this.times;\n    const nKeys = times.length;\n    let from = 0;\n    let to = nKeys - 1;\n    while (from !== nKeys && times[ from ] < startTime) ++ from;\n    while (to !== -1 && times[ to ] > endTime) -- to;\n    ++ to; // inclusive -> exclusive bound\n    if (from !== 0 || to !== nKeys) {\n      // empty tracks are forbidden, so keep at least one keyframe\n      if (from >= to) to = Math.max(to , 1), from = to - 1;\n      const stride = this.getValueSize();\n      this.times = AnimationUtils.arraySlice(times, from, to);\n      this.values = AnimationUtils.\n          arraySlice(this.values, from * stride, to * stride);\n    }\n    return this;\n  }\n  // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n  validate(): boolean {\n    let valid = true;\n    const valueSize = this.getValueSize();\n    if (valueSize - Math.floor(valueSize) !== 0) {\n      console.error(\"invalid value size in track\", this);\n      valid = false;\n    }\n    const times = this.times;\n    const values = this.values;\n    const nKeys = times.length;\n    if (nKeys === 0) {\n      console.error(\"track is empty\", this);\n      valid = false;\n    }\n    let prevTime = null;\n    for (let i = 0; i !== nKeys; i ++) {\n      const currTime = times[ i ];\n      if (typeof currTime === 'number' && isNaN(currTime)) {\n        console.error(\"time is not a valid number\", this, i, currTime);\n        valid = false;\n        break;\n      }\n      if (prevTime !== null && prevTime > currTime) {\n        console.error(\"out of order keys\", this, i, currTime, prevTime);\n        valid = false;\n        break;\n      }\n      prevTime = currTime;\n    }\n    if (values !== undefined) {\n      if (AnimationUtils.isTypedArray(values)) {\n        for (let i = 0, n = values.length; i !== n; ++ i) {\n          const value = values[ i ];\n          if (isNaN(value)) {\n            console.error(\"value is not a valid number\", this, i, value);\n            valid = false;\n            break;\n          }\n        }\n      }\n    }\n    return valid;\n  }\n  // removes equivalent sequential keys as common in morph target sequences\n  // (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n  optimize(): any {\n    const times = this.times;\n    const values = this.values;\n    const stride = this.getValueSize();\n    const smoothInterpolation = this.getInterpolation() === InterpolateMode.Smooth;\n    let writeIndex = 1;\n    const lastIndex = times.length - 1;\n    for (let i = 1; i < lastIndex; ++ i) {\n      let keep = false;\n      const time = times[ i ];\n      const timeNext = times[ i + 1 ];\n      // remove adjacent keyframes scheduled at the same time\n      if (time !== timeNext && (i !== 1 || time !== time[ 0 ])) {\n        if (! smoothInterpolation) {\n          // remove unnecessary keyframes same as their neighbors\n          const offset = i * stride;\n          const offsetP = offset - stride;\n          const offsetN = offset + stride;\n          for (let j = 0; j !== stride; ++ j) {\n            const value = values[ offset + j ];\n            if (value !== values[ offsetP + j ] ||\n                value !== values[ offsetN + j ]) {\n              keep = true;\n              break;\n            }\n          }\n        } else keep = true;\n      }\n      // in-place compaction\n      if (keep) {\n        if (i !== writeIndex) {\n          times[ writeIndex ] = times[ i ];\n          const readOffset = i * stride;\n          const writeOffset = writeIndex * stride;\n          for (let j = 0; j !== stride; ++ j)\n            values[ writeOffset + j ] = values[ readOffset + j ];\n        }\n        ++ writeIndex;\n      }\n    }\n    // flush last keyframe (compaction looks ahead)\n    if (lastIndex > 0) {\n      times[ writeIndex ] = times[ lastIndex ];\n      for (let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j)\n        values[ writeOffset + j ] = values[ readOffset + j ];\n      ++ writeIndex;\n    }\n    if (writeIndex !== times.length) {\n      this.times = AnimationUtils.arraySlice(times, 0, writeIndex);\n      this.values = AnimationUtils.arraySlice(values, 0, writeIndex * stride);\n    }\n    return this;\n  }\n}\n","import { InterpolateMode } from \"../../constants\";\nimport { KeyframeTrack } from \"../KeyframeTrack\";\n/**\n *\n * A Track that interpolates Strings\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\nexport class NewStringKeyframeTrack extends KeyframeTrack {\n  constructor(name: string, times: number[], values: any, interpolation?: number) {\n    super(name, times, values, interpolation);\n  }\n  ValueTypeName: string = 'string';\n  ValueBufferType = Array;\n  DefaultInterpolation: InterpolateMode = InterpolateMode.Discrete;\n  ///InterpolantFactoryMethodLinear = undefined; // !!TODO\n  ///InterpolantFactoryMethodSmooth = undefined; // !!TODO\n}\n/*\nexport function OldStringKeyframeTrack(name: string, times: number[], values: any, interpolation: number) {\n  KeyframeTrack.call(this, name, times, values, interpolation);\n}\nOldStringKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n  constructor: OldStringKeyframeTrack,\n  ValueTypeName: 'string',\n  ValueBufferType: Array,\n  DefaultInterpolation: InterpolateMode.Discrete,\n  InterpolantFactoryMethodLinear: undefined,\n  InterpolantFactoryMethodSmooth: undefined\n});\n*/\nexport { NewStringKeyframeTrack as StringKeyframeTrack }\n","import { InterpolateMode } from \"../../constants\";\nimport { KeyframeTrack } from \"../KeyframeTrack\";\n/**\n *\n * A Track of Boolean keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\nexport class NewBooleanKeyframeTrack extends KeyframeTrack {\n  constructor(name: string, times: number[], values: any, interpolation: number) {\n    super(name, times, values, interpolation);\n  }\n  ValueTypeName: string = 'color';\n  ValueBufferType = Array;\n  DefaultInterpolation: InterpolateMode = InterpolateMode.Discrete;\n  ///InterpolantFactoryMethodLinear: undefined; // !!TODO\n  ///InterpolantFactoryMethodSmooth: undefined; // !!TODO\n  // Note: Actually this track could have a optimized / compressed\n  // representation of a single value and a custom interpolant that\n  // computes \"firstValue ^ isOdd(index)\".\n}\n/*\nexport function OldBooleanKeyframeTrack(name: string, times: number, values: number[] | Float32Array) {\n  KeyframeTrack.call(this, name, times, values);\n}\nOldBooleanKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n  constructor: OldBooleanKeyframeTrack,\n  ValueTypeName: 'bool',\n  ValueBufferType: Array,\n  DefaultInterpolation: InterpolateMode.Discrete,\n  InterpolantFactoryMethodLinear: undefined,\n  InterpolantFactoryMethodSmooth: undefined\n  // Note: Actually this track could have a optimized / compressed\n  // representation of a single value and a custom interpolant that\n  // computes \"firstValue ^ isOdd(index)\".\n});\n*/\nexport { NewBooleanKeyframeTrack as BooleanKeyframeTrack }\n","import { Interpolant } from \"../Interpolant\";\nimport { Quaternion } from \"../Quaternion\";\n/**\n * Spherical linear unit quaternion interpolant.\n *\n * @author tschw\n */\nexport class QuaternionLinearInterpolant extends Interpolant {\n  constructor(parameterPositions: number[] | Float32Array | Float64Array, sampleValues: number[] | Float32Array | Float64Array, sampleSize: number, resultBuffer: number[] | Float32Array | Float64Array) {\n    super(parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n  interpolate_(i1: number, t0: number, t: number, t1: number): any {\n    const result = this.resultBuffer;\n    const values = this.sampleValues;\n    const stride = this.valueSize;\n    let offset = i1 * stride;\n    const alpha = (t - t0) / (t1 - t0);\n    for (let end = offset + stride; offset !== end; offset += 4) {\n      Quaternion.slerpFlat(result, 0,\n          values, offset - stride, values, offset, alpha);\n    }\n    return result;\n  }\n}\n","import { InterpolateMode } from \"../../constants\";\nimport { QuaternionLinearInterpolant } from \"../../math/interpolants/QuaternionLinearInterpolant\";\nimport { KeyframeTrack } from \"../KeyframeTrack\";\nimport { Interpolant } from \"../../math/Interpolant\";\n/**\n *\n * A Track of quaternion keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\nexport class NewQuaternionKeyframeTrack extends KeyframeTrack {\n  constructor(name: string, times: number[], values: any, interpolation: number) {\n    super(name, times, values, interpolation);\n  }\n  ValueTypeName: string = 'quaternion';\n  // ValueBufferType is inherited\n  DefaultInterpolation: InterpolateMode = InterpolateMode.Linear;\n  InterpolantFactoryMethodLinear(result: number[] | Float32Array): Interpolant {\n    return new QuaternionLinearInterpolant(\n        this.times, this.values, this.getValueSize(), result);\n  }\n  ///InterpolantFactoryMethodSmooth = undefined; // !!TODO: not yet implemented\n}\n/*\nexport function OldQuaternionKeyframeTrack(name: string, times: number[], values: any, interpolation: number) {\n  KeyframeTrack.call(this, name, times, values, interpolation);\n}\nOldQuaternionKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n  constructor: OldQuaternionKeyframeTrack,\n  ValueTypeName: 'quaternion',\n  // ValueBufferType is inherited\n  DefaultInterpolation: InterpolateMode.Linear,\n  InterpolantFactoryMethodLinear: function(result: number[] | Float32Array): Interpolant {\n    return new QuaternionLinearInterpolant(\n        this.times, this.values, this.getValueSize(), result);\n  },\n  InterpolantFactoryMethodSmooth: undefined // not yet implemented\n});\n*/\nexport { NewQuaternionKeyframeTrack as QuaternionKeyframeTrack }\n","import { KeyframeTrack } from \"../KeyframeTrack\";\n/**\n *\n * A Track of keyframe values that represent color.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\nexport class NewColorKeyframeTrack extends KeyframeTrack {\n  constructor(name: string, times: number[], values: any, interpolation: number) {\n    super(name, times, values, interpolation);\n  }\n  ValueTypeName: string = 'color';\n  // ValueBufferType is inherited\n  // DefaultInterpolation is inherited\n  // Note: Very basic implementation and nothing special yet.\n  // However, this is the place for color space parameterization.\n}\n/*\nexport function OldColorKeyframeTrack(name: string, times: number[], values: any, interpolation: number) {\n  KeyframeTrack.call(this, name, times, values, interpolation);\n}\nOldColorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n  constructor: OldColorKeyframeTrack,\n  ValueTypeName: 'color'\n  // ValueBufferType is inherited\n  // DefaultInterpolation is inherited\n  // Note: Very basic implementation and nothing special yet.\n  // However, this is the place for color space parameterization.\n});\n*/\nexport { NewColorKeyframeTrack as ColorKeyframeTrack }\n","import { KeyframeTrack } from \"../KeyframeTrack\";\n/**\n *\n * A Track of vectored keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\nexport class NewVectorKeyframeTrack extends KeyframeTrack {\n  constructor(name: string, times: number[], values: any, interpolation: number) {\n    super(name, times, values, interpolation);\n  }\n  ValueTypeName: string = 'vector';\n  // ValueBufferType is inherited\n  // DefaultInterpolation is inherited\n}\n/*\nexport function OldVectorKeyframeTrack(name: string, times: number[], values: any, interpolation: number) {\n  KeyframeTrack.call(this, name, times, values, interpolation);\n}\nOldVectorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n  constructor: OldVectorKeyframeTrack,\n  ValueTypeName: 'vector'\n  // ValueBufferType is inherited\n  // DefaultInterpolation is inherited\n});\n*/\nexport { NewVectorKeyframeTrack as VectorKeyframeTrack }\n","import { KeyframeTrack } from \"../KeyframeTrack\";\n/**\n *\n * A Track of numeric keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\nexport class NewNumberKeyframeTrack extends KeyframeTrack {\n  constructor(name: string, times: number[], values: any, interpolation?: number) {\n    super(name, times, values, interpolation);\n  }\n  ValueTypeName: string = 'number';\n  // ValueBufferType is inherited\n  // DefaultInterpolation is inherited\n}\n/*\nexport function OldNumberKeyframeTrack(name: string, times: number[], values: any, interpolation?: number) {\n  KeyframeTrack.call(this, name, times, values, interpolation);\n}\nOldNumberKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n  constructor: OldNumberKeyframeTrack,\n  ValueTypeName: 'number',\n  // ValueBufferType is inherited\n  // DefaultInterpolation is inherited\n});\n*/\nexport { NewNumberKeyframeTrack as NumberKeyframeTrack }\n","import { KeyframeTrack } from \"./KeyframeTrack\";\nimport { StringKeyframeTrack } from \"./tracks/StringKeyframeTrack\";\nimport { BooleanKeyframeTrack } from \"./tracks/BooleanKeyframeTrack\";\nimport { QuaternionKeyframeTrack } from \"./tracks/QuaternionKeyframeTrack\";\nimport { ColorKeyframeTrack } from \"./tracks/ColorKeyframeTrack\";\nimport { VectorKeyframeTrack } from \"./tracks/VectorKeyframeTrack\";\nimport { NumberKeyframeTrack } from \"./tracks/NumberKeyframeTrack\";\nimport { AnimationUtils } from \"./AnimationUtils\";\nexport class KeyframeTrackUtils {\n  // Static methods:\n  // Serialization (in static context, because of constructor invocation\n  // and automatic invocation of .toJSON):\n  static parse(json: any): KeyframeTrack {\n    if (json.type === undefined) {\n      throw new Error(\"track type undefined, can not parse\");\n    }\n    let trackType: any = KeyframeTrackUtils._getTrackTypeForValueTypeName(json.type);\n    if (json.times === undefined) {\n      let times: any[] = [], values: any[] = [];\n      AnimationUtils.flattenJSON(json.keys, times, values, 'value');\n      json.times = times;\n      json.values = values;\n    }\n    // derived classes can define a static parse method\n    if (trackType.parse !== undefined) {\n      return trackType.parse(json);\n    } else {\n      // by default, we asssume a constructor compatible with the base\n      return new trackType(\n          json.name, json.times, json.values, json.interpolation);\n    }\n  }\n  static toJSON(track: KeyframeTrack): any {\n    let trackType: any = track.constructor;\n    let json: any;\n    // derived classes can define a static toJSON method\n    if (trackType.toJSON !== undefined) {\n      json = trackType.toJSON(track);\n    } else {\n      // by default, we assume the data can be serialized as-is\n      json = {\n        'name': track.name,\n        'times': AnimationUtils.convertArray(track.times, Array),\n        'values': AnimationUtils.convertArray(track.values, Array)\n      };\n      let interpolation = track.getInterpolation();\n      if (interpolation !== track.DefaultInterpolation) {\n        json.interpolation = interpolation;\n      }\n    }\n    json.type = track.ValueTypeName; // mandatory\n    return json;\n  }\n  private static _getTrackTypeForValueTypeName(typeName: string): any {\n    switch (typeName.toLowerCase()) {\n      case \"scalar\":\n      case \"double\":\n      case \"float\":\n      case \"number\":\n      case \"integer\":\n        return NumberKeyframeTrack;\n      case \"vector\":\n      case \"vector2\":\n      case \"vector3\":\n      case \"vector4\":\n        return VectorKeyframeTrack;\n      case \"color\":\n        return ColorKeyframeTrack;\n      case \"quaternion\":\n        return QuaternionKeyframeTrack;\n      case \"bool\":\n      case \"boolean\":\n        return BooleanKeyframeTrack;\n      case \"string\":\n        return StringKeyframeTrack;\n    }\n    throw new Error(\"Unsupported typeName: \" + typeName);\n  }\n}\n","///import { KeyframeTrack } from \"./KeyframeTrack\";\nimport { KeyframeTrackUtils } from \"./KeyframeTrackUtils\";\nimport { KeyframeTrack } from \"./KeyframeTrack\";\nimport { VectorKeyframeTrack } from \"./tracks/VectorKeyframeTrack\";\nimport { QuaternionKeyframeTrack } from \"./tracks/QuaternionKeyframeTrack\";\nimport { NumberKeyframeTrack } from \"./tracks/NumberKeyframeTrack\";\nimport { AnimationUtils } from \"./AnimationUtils\";\nimport { _Math } from \"../math/Math\";\nimport { Bone } from \"../objects/Bone\";\n/**\n *\n * Reusable set of Tracks that represent an animation.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\nexport class AnimationClip {\n  name: string;\n  tracks: KeyframeTrack[];\n  duration: number;\n  uuid: string;\n  constructor(name: string, duration: number, tracks: KeyframeTrack[]) {\n    this.name = name;\n    this.tracks = tracks;\n    this.duration = (duration !== undefined) ? duration : -1;\n    this.uuid = _Math.generateUUID();\n    // this means it should figure out its duration by scanning the tracks\n    if (this.duration < 0) {\n      this.resetDuration();\n    }\n    this.optimize();\n  }\n  resetDuration(): void {\n    const tracks = this.tracks;\n    let duration = 0;\n    for (let i = 0, n = tracks.length; i !== n; ++ i) {\n      const track = this.tracks[ i ];\n      duration = Math.max(\n          duration, track.times[ track.times.length - 1 ]);\n    }\n    this.duration = duration;\n  }\n  trim(): AnimationClip {\n    for (let i = 0; i < this.tracks.length; i ++) {\n      this.tracks[ i ].trim(0, this.duration);\n    }\n    return this;\n  }\n  optimize(): AnimationClip {\n    for (let i = 0; i < this.tracks.length; i ++) {\n      this.tracks[ i ].optimize();\n    }\n    return this;\n  }\n  // Static methods:\n  static parse(json: any): any {\n    const tracks = [],\n      jsonTracks = json.tracks,\n      frameTime = 1.0 / (json.fps || 1.0);\n    for (let i = 0, n = jsonTracks.length; i !== n; ++ i) {\n      tracks.push(KeyframeTrackUtils.parse(jsonTracks[ i ]).scale(frameTime));\n    }\n    return new AnimationClip(json.name, json.duration, tracks);\n  }\n  static toJSON(clip: AnimationClip): any {\n    const tracks: any = [];\n    const clipTracks = clip.tracks;\n    const json = {\n      'name': clip.name,\n      'duration': clip.duration,\n      'tracks': tracks\n    };\n    for (let i = 0, n = clipTracks.length; i !== n; ++ i) {\n      tracks.push(KeyframeTrackUtils.toJSON(clipTracks[ i ]));\n    }\n    return json;\n  }\n  static CreateFromMorphTargetSequence(name: string, morphTargetSequence: any[], fps: number, noLoop: boolean): AnimationClip {\n    const numMorphTargets = morphTargetSequence.length;\n    const tracks = [];\n    for (let i = 0; i < numMorphTargets; i ++) {\n      let times = [];\n      let values = [];\n      times.push(\n          (i + numMorphTargets - 1) % numMorphTargets,\n          i,\n          (i + 1) % numMorphTargets);\n      values.push(0, 1, 0);\n      const order = AnimationUtils.getKeyframeOrder(times);\n      times = AnimationUtils.sortedArray(times, 1, order);\n      values = AnimationUtils.sortedArray(values, 1, order);\n      // if there is a key at the first frame, duplicate it as the\n      // last frame as well for perfect loop.\n      if (! noLoop && times[ 0 ] === 0) {\n        times.push(numMorphTargets);\n        values.push(values[ 0 ]);\n      }\n      tracks.push(\n          new NumberKeyframeTrack(\n            '.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n            times, values\n          ).scale(1.0 / fps));\n    }\n    return new AnimationClip(name, -1, tracks);\n  }\n  static findByName(objectOrClipArray: any, name: string): any {\n    let clipArray = objectOrClipArray;\n    if (! Array.isArray(objectOrClipArray)) {\n      const o = objectOrClipArray;\n      clipArray = o.geometry && o.geometry.animations || o.animations;\n    }\n    for (let i = 0; i < clipArray.length; i ++) {\n      if (clipArray[ i ].name === name) {\n        return clipArray[ i ];\n      }\n    }\n    return null;\n  }\n  static CreateClipsFromMorphTargetSequences(morphTargets: any[], fps: number, noLoop?: boolean): AnimationClip[] {\n    const animationToMorphTargets = {};\n    // tested with https://regex101.com/ on trick sequences\n    // such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n    const pattern: RegExp = /^([\\w-]*?)([\\d]+)$/;\n    // sort morph target names into animation groups based\n    // patterns like Walk_001, Walk_002, Run_001, Run_002\n    for (let i = 0, il = morphTargets.length; i < il; i ++) {\n      const morphTarget = morphTargets[ i ];\n      const parts = morphTarget.name.match(pattern);\n      if (parts && parts.length > 1) {\n        const name = parts[ 1 ];\n        let animationMorphTargets = animationToMorphTargets[ name ];\n        if (! animationMorphTargets) {\n          animationToMorphTargets[ name ] = animationMorphTargets = [];\n        }\n        animationMorphTargets.push(morphTarget);\n      }\n    }\n    const clips: AnimationClip[] = [];\n    for (let name in animationToMorphTargets) {\n      clips.push(AnimationClip.CreateFromMorphTargetSequence(name, animationToMorphTargets[ name ], fps, noLoop));\n    }\n    return clips;\n  }\n  // parse the animation.hierarchy format\n  static parseAnimation(animation: any, bones: Bone[]): AnimationClip {\n    if (! animation) {\n      console.error(\"  no animation in JSONLoader data\");\n      return null;\n    }\n    function addNonemptyTrack(trackType: any, trackName: string, animationKeys: any, propertyName: string, destTracks: any): void {\n      // only return track if there are actually keys.\n      if (animationKeys.length !== 0) {\n        const times: any[] = [];\n        const values: any[] = [];\n        AnimationUtils.flattenJSON(\n            animationKeys, times, values, propertyName);\n        // empty keys are filtered out, so check again\n        if (times.length !== 0) {\n          destTracks.push(new trackType(trackName, times, values));\n        }\n      }\n    }\n    const tracks = [];\n    const clipName = animation.name || 'default';\n    // automatic length determination in AnimationClip.\n    let duration = animation.length || -1;\n    const fps = animation.fps || 30;\n    const hierarchyTracks = animation.hierarchy || [];\n    for (let h = 0; h < hierarchyTracks.length; h ++) {\n      const animationKeys = hierarchyTracks[ h ].keys;\n      // skip empty tracks\n      if (! animationKeys || animationKeys.length === 0) continue;\n      // process morph targets in a way exactly compatible\n      // with AnimationHandler.init(animation)\n      if (animationKeys[0].morphTargets) {\n        // figure out all morph targets used in this track\n        const morphTargetNames: any = {};\n        let k;\n        for (k = 0; k < animationKeys.length; k ++) {\n          if (animationKeys[k].morphTargets) {\n            for (let m = 0; m < animationKeys[k].morphTargets.length; m ++) {\n              morphTargetNames[ animationKeys[k].morphTargets[m] ] = -1;\n            }\n          }\n        }\n        // create a track for each morph target with all zero\n        // morphTargetInfluences except for the keys in which\n        // the morphTarget is named.\n        for (let morphTargetName in morphTargetNames) {\n          let times = [];\n          let values = [];\n          for (let m = 0;\n              m !== animationKeys[k].morphTargets.length; ++ m) {\n            const animationKey = animationKeys[k];\n            times.push(animationKey.time);\n            values.push((animationKey.morphTarget === morphTargetName) ? 1 : 0);\n          }\n          tracks.push(new NumberKeyframeTrack(\n              '.morphTargetInfluence[' + morphTargetName + ']', times, values));\n        }\n        duration = morphTargetNames.length * (fps || 1.0);\n      } else {\n        // ...assume skeletal animation\n        const boneName = '.bones[' + bones[ h ].name + ']';\n        addNonemptyTrack(\n            VectorKeyframeTrack, boneName + '.position',\n            animationKeys, 'pos', tracks);\n        addNonemptyTrack(\n            QuaternionKeyframeTrack, boneName + '.quaternion',\n            animationKeys, 'rot', tracks);\n        addNonemptyTrack(\n            VectorKeyframeTrack, boneName + '.scale',\n            animationKeys, 'scl', tracks);\n      }\n    }\n    if (tracks.length === 0) {\n      return null;\n    }\n    const clip = new AnimationClip(clipName, duration, tracks);\n    return clip;\n  }\n}\n","import { Vector2 } from \"../math/Vector2\";\nimport { XHRLoader } from \"./XHRLoader\";\nimport { LoadingManager, DefaultLoadingManager } from \"./LoadingManager\";\nimport { Material } from \"../materials/Material\";\nimport * as Materials from \"../materials/Materials\";\nimport { Texture } from \"../textures/Texture\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class MaterialLoader {\n  manager: LoadingManager;\n  textures: Map<string, Texture> = new Map<string, Texture>();\n  constructor(manager: LoadingManager = DefaultLoadingManager) {\n    this.manager = manager;\n  }\n  load(url: string, onLoad: (material: Material) => void, onProgress?: (event: ProgressEvent) => void, onError?: (event: ErrorEvent) => void): void {\n    const scope: MaterialLoader = this;\n    const loader: XHRLoader = new XHRLoader(scope.manager);\n    loader.load(url, function(text: string): void {\n      onLoad(scope.parse(JSON.parse(text)));\n    }, onProgress, onError);\n  }\n  setTextures(value: Map<string, Texture>): void {\n    this.textures = value;\n  }\n  parse(json: any): Material {\n    const textures = this.textures;\n    function getTexture(name: string): Texture {\n      if (textures[name] === undefined) {\n        console.warn('THREE.MaterialLoader: Undefined texture', name);\n      }\n      return textures[name];\n    }\n    const material: any = new Materials[json.type]();\n    if (json.uuid !== undefined) material.uuid = json.uuid;\n    if (json.name !== undefined) material.name = json.name;\n    if (json.color !== undefined) material.color.setHex(json.color);\n    if (json.roughness !== undefined) material.roughness = json.roughness;\n    if (json.metalness !== undefined) material.metalness = json.metalness;\n    if (json.emissive !== undefined) material.emissive.setHex(json.emissive);\n    if (json.specular !== undefined) material.specular.setHex(json.specular);\n    if (json.shininess !== undefined) material.shininess = json.shininess;\n    if (json.uniforms !== undefined) material.uniforms = json.uniforms;\n    if (json.vertexShader !== undefined) material.vertexShader = json.vertexShader;\n    if (json.fragmentShader !== undefined) material.fragmentShader = json.fragmentShader;\n    if (json.vertexColors !== undefined) material.vertexColors = json.vertexColors;\n    if (json.fog !== undefined) material.fog = json.fog;\n    if (json.shading !== undefined) material.shading = json.shading;\n    if (json.blending !== undefined) material.blending = json.blending;\n    if (json.side !== undefined) material.side = json.side;\n    if (json.opacity !== undefined) material.opacity = json.opacity;\n    if (json.transparent !== undefined) material.transparent = json.transparent;\n    if (json.alphaTest !== undefined) material.alphaTest = json.alphaTest;\n    if (json.depthTest !== undefined) material.depthTest = json.depthTest;\n    if (json.depthWrite !== undefined) material.depthWrite = json.depthWrite;\n    if (json.colorWrite !== undefined) material.colorWrite = json.colorWrite;\n    if (json.wireframe !== undefined) material.wireframe = json.wireframe;\n    if (json.wireframeLinewidth !== undefined) material.wireframeLinewidth = json.wireframeLinewidth;\n    if (json.wireframeLinecap !== undefined) material.wireframeLinecap = json.wireframeLinecap;\n    if (json.wireframeLinejoin !== undefined) material.wireframeLinejoin = json.wireframeLinejoin;\n    if (json.skinning !== undefined) material.skinning = json.skinning;\n    if (json.morphTargets !== undefined) material.morphTargets = json.morphTargets;\n    // for PointsMaterial\n    if (json.size !== undefined) material.size = json.size;\n    if (json.sizeAttenuation !== undefined) material.sizeAttenuation = json.sizeAttenuation;\n    // maps\n    if (json.map !== undefined) material.map = getTexture(json.map);\n    if (json.alphaMap !== undefined) {\n      material.alphaMap = getTexture(json.alphaMap);\n      material.transparent = true;\n    }\n    if (json.bumpMap !== undefined) material.bumpMap = getTexture(json.bumpMap);\n    if (json.bumpScale !== undefined) material.bumpScale = json.bumpScale;\n    if (json.normalMap !== undefined) material.normalMap = getTexture(json.normalMap);\n    if (json.normalScale !== undefined) {\n      let normalScale = json.normalScale;\n      if (Array.isArray(normalScale) === false) {\n        // Blender exporter used to export a scalar. See #7459\n        normalScale = [ normalScale, normalScale ];\n      }\n      material.normalScale = new Vector2().fromArray(normalScale);\n    }\n    if (json.displacementMap !== undefined) material.displacementMap = getTexture(json.displacementMap);\n    if (json.displacementScale !== undefined) material.displacementScale = json.displacementScale;\n    if (json.displacementBias !== undefined) material.displacementBias = json.displacementBias;\n    if (json.roughnessMap !== undefined) material.roughnessMap = getTexture(json.roughnessMap);\n    if (json.metalnessMap !== undefined) material.metalnessMap = getTexture(json.metalnessMap);\n    if (json.emissiveMap !== undefined) material.emissiveMap = getTexture(json.emissiveMap);\n    if (json.emissiveIntensity !== undefined) material.emissiveIntensity = json.emissiveIntensity;\n    if (json.specularMap !== undefined) material.specularMap = getTexture(json.specularMap);\n    if (json.envMap !== undefined) material.envMap = getTexture(json.envMap);\n    if (json.reflectivity !== undefined) material.reflectivity = json.reflectivity;\n    if (json.lightMap !== undefined) material.lightMap = getTexture(json.lightMap);\n    if (json.lightMapIntensity !== undefined) material.lightMapIntensity = json.lightMapIntensity;\n    if (json.aoMap !== undefined) material.aoMap = getTexture(json.aoMap);\n    if (json.aoMapIntensity !== undefined) material.aoMapIntensity = json.aoMapIntensity;\n    // MultiMaterial\n    if (json.materials !== undefined) {\n      for (let i = 0, l = json.materials.length; i < l; i ++) {\n        material.materials.push(this.parse(json.materials[i]));\n      }\n    }\n    return material;\n  }\n}\n","import { Sphere } from \"../math/Sphere\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { BufferAttribute, TypedArray, TypedArrayConstructor } from \"../core/BufferAttribute\";\nimport { BufferGeometry } from \"../core/BufferGeometry\";\nimport { XHRLoader } from \"./XHRLoader\";\nimport { LoadingManager, DefaultLoadingManager } from \"./LoadingManager\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class BufferGeometryLoader {\n  manager: LoadingManager;\n  constructor(manager: LoadingManager = DefaultLoadingManager) {\n    this.manager = manager;\n  }\n  load(url: string, onLoad: (geometry: BufferGeometry) => void, onProgress?: (event: ProgressEvent) => void, onError?: (event: ErrorEvent) => void): void {\n    const scope: BufferGeometryLoader = this;\n    const loader: XHRLoader = new XHRLoader(scope.manager);\n    loader.load(url, function(text: string): void {\n      onLoad(scope.parse(JSON.parse(text)));\n    }, onProgress, onError);\n  }\n  parse(json: any): BufferGeometry {\n    const geometry: BufferGeometry = new BufferGeometry();\n    const index: any = json.data.index;\n    const TYPED_ARRAYS: { [key: string]: TypedArrayConstructor } = {\n      'Int8Array': Int8Array,\n      'Uint8Array': Uint8Array,\n      'Uint8ClampedArray': Uint8ClampedArray,\n      'Int16Array': Int16Array,\n      'Uint16Array': Uint16Array,\n      'Int32Array': Int32Array,\n      'Uint32Array': Uint32Array,\n      'Float32Array': Float32Array,\n      'Float64Array': Float64Array\n    };\n    if (index !== undefined) {\n      const typedArray: TypedArray = new TYPED_ARRAYS[index.type](index.array);\n      geometry.setIndex(new BufferAttribute(typedArray, 1));\n    }\n    const attributes = json.data.attributes;\n    for (let key in attributes) {\n      const attribute = attributes[key];\n      const typedArray: TypedArray = new TYPED_ARRAYS[attribute.type](attribute.array);\n      geometry.addAttribute(key, new BufferAttribute(typedArray, attribute.itemSize, attribute.normalized));\n    }\n    const groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n    if (groups !== undefined) {\n      for (let i = 0, n = groups.length; i !== n; ++ i) {\n        const group = groups[i];\n        geometry.addGroup(group.start, group.count, group.materialIndex);\n      }\n    }\n    const boundingSphere = json.data.boundingSphere;\n    if (boundingSphere !== undefined) {\n      const center = new Vector3();\n      if (boundingSphere.center !== undefined) {\n        center.fromArray(boundingSphere.center);\n      }\n      geometry.boundingSphere = new Sphere(center, boundingSphere.radius);\n    }\n    return geometry;\n  }\n}\n","import { ColorsMode, SideMode, TextureWrapping, BlendingMode } from \"../constants\";\nimport { _Math } from \"../math/Math\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { MaterialLoader } from \"./MaterialLoader\";\nimport { TextureLoader } from \"./TextureLoader\";\nimport { Color } from \"../math/Color\";\nimport { Material } from \"../materials/Material\";\nimport { Texture } from \"../textures/Texture\";\n/**\n * @author alteredq / http://alteredqualia.com/\n */\nexport class Loader {\n  onLoadStart: () => void = function() {};\n  onLoadProgress: () => void = function() {};\n  onLoadComplete: () => void = function() {};\n  crossOrigin: string;\n  extractUrlBase(url: string): string {\n    const parts: string[] = url.split('/');\n    if (parts.length === 1) return './';\n    parts.pop();\n    return parts.join('/') + '/';\n  }\n  initMaterials(materials: Material[], texturePath: string, crossOrigin: string): Material[] {\n    const array: Material[] = [];\n    for (let i = 0; i < materials.length; ++ i) {\n      array[i] = this.createMaterial(materials[i], texturePath, crossOrigin);\n    }\n    return array;\n  }\n  createMaterial(m: any, texturePath: string, crossOrigin: string): Material {\n    const color = new Color(), textureLoader = new TextureLoader(), materialLoader = new MaterialLoader();\n    //return function createMaterial(m, texturePath, crossOrigin) {\n      // convert from old material format\n      const textures = new Map<string, Texture>();\n      function loadTexture(path: string, repeat: number[], offset: Vector2, wrap: string[], anisotropy: number): string {\n        const fullPath: string = texturePath + path;\n        const loader = Loader.Handlers.get(fullPath);\n        let texture;\n        if (loader !== null) {\n          texture = loader.load(fullPath);\n        } else {\n          textureLoader.setCrossOrigin(crossOrigin);\n          texture = textureLoader.load(fullPath);\n        }\n        if (repeat !== undefined) {\n          texture.repeat.fromArray(repeat);\n          if (repeat[0] !== 1) texture.wrapS = TextureWrapping.Repeat;\n          if (repeat[1] !== 1) texture.wrapT = TextureWrapping.Repeat;\n        }\n        if (offset !== undefined) {\n          texture.offset.fromArray(offset);\n        }\n        if (wrap !== undefined) {\n          if (wrap[0] === 'repeat') texture.wrapS = TextureWrapping.Repeat;\n          if (wrap[0] === 'mirror') texture.wrapS = TextureWrapping.MirroredRepeat;\n          if (wrap[1] === 'repeat') texture.wrapT = TextureWrapping.Repeat;\n          if (wrap[1] === 'mirror') texture.wrapT = TextureWrapping.MirroredRepeat;\n        }\n        if (anisotropy !== undefined) {\n          texture.anisotropy = anisotropy;\n        }\n        const uuid = _Math.generateUUID();\n        textures[uuid] = texture;\n        return uuid;\n      }\n      //\n      const json: any = {\n        uuid: _Math.generateUUID(),\n        type: 'MeshLambertMaterial'\n      };\n      for (let name in m) {\n        const value = m[name];\n        switch (name) {\n          case 'DbgColor':\n          case 'DbgIndex':\n          case 'opticalDensity':\n          case 'illumination':\n            break;\n          case 'DbgName':\n            json.name = value;\n            break;\n          case 'blending':\n            json.blending = BlendingMode[value];\n            break;\n          case 'colorAmbient':\n          case 'mapAmbient':\n            console.warn('THREE.Loader.createMaterial:', name, 'is no longer supported.');\n            break;\n          case 'colorDiffuse':\n            json.color = color.fromArray(value).getHex();\n            break;\n          case 'colorSpecular':\n            json.specular = color.fromArray(value).getHex();\n            break;\n          case 'colorEmissive':\n            json.emissive = color.fromArray(value).getHex();\n            break;\n          case 'specularCoef':\n            json.shininess = value;\n            break;\n          case 'shading':\n            if (value.toLowerCase() === 'basic') json.type = 'MeshBasicMaterial';\n            if (value.toLowerCase() === 'phong') json.type = 'MeshPhongMaterial';\n            if (value.toLowerCase() === 'standard') json.type = 'MeshStandardMaterial';\n            break;\n          case 'mapDiffuse':\n            json.map = loadTexture(value, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy);\n            break;\n          case 'mapDiffuseRepeat':\n          case 'mapDiffuseOffset':\n          case 'mapDiffuseWrap':\n          case 'mapDiffuseAnisotropy':\n            break;\n          case 'mapEmissive':\n            json.emissiveMap = loadTexture(value, m.mapEmissiveRepeat, m.mapEmissiveOffset, m.mapEmissiveWrap, m.mapEmissiveAnisotropy);\n            break;\n          case 'mapEmissiveRepeat':\n          case 'mapEmissiveOffset':\n          case 'mapEmissiveWrap':\n          case 'mapEmissiveAnisotropy':\n            break;\n          case 'mapLight':\n            json.lightMap = loadTexture(value, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy);\n            break;\n          case 'mapLightRepeat':\n          case 'mapLightOffset':\n          case 'mapLightWrap':\n          case 'mapLightAnisotropy':\n            break;\n          case 'mapAO':\n            json.aoMap = loadTexture(value, m.mapAORepeat, m.mapAOOffset, m.mapAOWrap, m.mapAOAnisotropy);\n            break;\n          case 'mapAORepeat':\n          case 'mapAOOffset':\n          case 'mapAOWrap':\n          case 'mapAOAnisotropy':\n            break;\n          case 'mapBump':\n            json.bumpMap = loadTexture(value, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy);\n            break;\n          case 'mapBumpScale':\n            json.bumpScale = value;\n            break;\n          case 'mapBumpRepeat':\n          case 'mapBumpOffset':\n          case 'mapBumpWrap':\n          case 'mapBumpAnisotropy':\n            break;\n          case 'mapNormal':\n            json.normalMap = loadTexture(value, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy);\n            break;\n          case 'mapNormalFactor':\n            json.normalScale = [value, value];\n            break;\n          case 'mapNormalRepeat':\n          case 'mapNormalOffset':\n          case 'mapNormalWrap':\n          case 'mapNormalAnisotropy':\n            break;\n          case 'mapSpecular':\n            json.specularMap = loadTexture(value, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy);\n            break;\n          case 'mapSpecularRepeat':\n          case 'mapSpecularOffset':\n          case 'mapSpecularWrap':\n          case 'mapSpecularAnisotropy':\n            break;\n          case 'mapMetalness':\n            json.metalnessMap = loadTexture(value, m.mapMetalnessRepeat, m.mapMetalnessOffset, m.mapMetalnessWrap, m.mapMetalnessAnisotropy);\n            break;\n          case 'mapMetalnessRepeat':\n          case 'mapMetalnessOffset':\n          case 'mapMetalnessWrap':\n          case 'mapMetalnessAnisotropy':\n            break;\n          case 'mapRoughness':\n            json.roughnessMap = loadTexture(value, m.mapRoughnessRepeat, m.mapRoughnessOffset, m.mapRoughnessWrap, m.mapRoughnessAnisotropy);\n            break;\n          case 'mapRoughnessRepeat':\n          case 'mapRoughnessOffset':\n          case 'mapRoughnessWrap':\n          case 'mapRoughnessAnisotropy':\n            break;\n          case 'mapAlpha':\n            json.alphaMap = loadTexture(value, m.mapAlphaRepeat, m.mapAlphaOffset, m.mapAlphaWrap, m.mapAlphaAnisotropy);\n            break;\n          case 'mapAlphaRepeat':\n          case 'mapAlphaOffset':\n          case 'mapAlphaWrap':\n          case 'mapAlphaAnisotropy':\n            break;\n          case 'flipSided':\n            json.side = SideMode.Back;\n            break;\n          case 'doubleSided':\n            json.side = SideMode.Double;\n            break;\n          case 'transparency':\n            console.warn('THREE.Loader.createMaterial: transparency has been renamed to opacity');\n            json.opacity = value;\n            break;\n          case 'depthTest':\n          case 'depthWrite':\n          case 'colorWrite':\n          case 'opacity':\n          case 'reflectivity':\n          case 'transparent':\n          case 'visible':\n          case 'wireframe':\n            json[name] = value;\n            break;\n          case 'vertexColors':\n            if (value === true) json.vertexColors = ColorsMode.Vertex;\n            if (value === 'face') json.vertexColors = ColorsMode.Face;\n            break;\n          default:\n            console.error('THREE.Loader.createMaterial: Unsupported', name, value);\n            break;\n        }\n      }\n      if (json.type === 'MeshBasicMaterial') delete json.emissive;\n      if (json.type !== 'MeshPhongMaterial') delete json.specular;\n      if (json.opacity < 1) json.transparent = true;\n      materialLoader.setTextures(textures);\n      return materialLoader.parse(json);\n    //};\n  }\n  static Handlers = class {\n    static handlers: any[] = [];\n    static add(regex: RegExp, loader: any): void {\n      this.handlers.push(regex, loader);\n    }\n    static get(file: string): any {\n      const handlers = this.handlers;\n      for (let i = 0, l = handlers.length; i < l; i += 2) {\n        const regex = handlers[i];\n        const loader = handlers[i + 1];\n        if (regex.test(file)) {\n          return loader;\n        }\n      }\n      return null;\n    }\n  };\n}\n","import { Loader } from \"./Loader\";\nimport { AnimationClip } from \"../animation/AnimationClip\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Vector4 } from \"../math/Vector4\";\nimport { Color } from \"../math/Color\";\nimport { Vector2 } from \"../math/Vector2\";\nimport { Face3 } from \"../core/Face3\";\nimport { Geometry } from \"../core/Geometry\";\nimport { Material } from \"../materials/Material\";\nimport { XHRLoader } from \"./XHRLoader\";\nimport { LoadingManager, DefaultLoadingManager } from \"./LoadingManager\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\nexport class JSONLoader {\n  manager: LoadingManager;\n  texturePath: string;\n  crossOrigin: string;\n  withCredentials: boolean = false;\n  constructor(manager: LoadingManager = DefaultLoadingManager) {\n    //if (typeof manager === 'boolean') {\n    //  console.warn('THREE.JSONLoader: showStatus parameter has been removed from constructor.');\n    //  manager = undefined;\n    //}\n    this.manager = manager;\n  }\n  load(url: string, onLoad: (geometry: Geometry, materials: Material[]) => void, onProgress?: (event: ProgressEvent) => void, onError?: (event: ErrorEvent) => void): void {\n    const scope: JSONLoader = this;\n    const texturePath: string = this.texturePath && (typeof this.texturePath === \"string\") ? this.texturePath : Loader.prototype.extractUrlBase(url);\n    const loader: XHRLoader = new XHRLoader(this.manager);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(url, function(text: string): void {\n      const json = JSON.parse(text);\n      const metadata = json.metadata;\n      if (metadata !== undefined) {\n        const type = metadata.type;\n        if (type !== undefined) {\n          if (type.toLowerCase() === 'object') {\n            console.error('THREE.JSONLoader: ' + url + ' should be loaded with THREE.ObjectLoader instead.');\n            return;\n          }\n          if (type.toLowerCase() === 'scene') {\n            console.error('THREE.JSONLoader: ' + url + ' should be loaded with THREE.SceneLoader instead.');\n            return;\n          }\n        }\n      }\n      const object: any = scope.parse(json, texturePath);\n      onLoad(object.geometry, object.materials);\n    }, onProgress, onError);\n  }\n  setTexturePath(value: string): void {\n    this.texturePath = value;\n  }\n  parse(json: any, texturePath: string): { geometry: Geometry, materials?: Material[] } {\n    const geometry: Geometry = new Geometry();\n    const scale: number = (json.scale !== undefined) ? 1.0 / json.scale : 1.0;\n    parseModel(scale);\n    parseSkin();\n    parseMorphing(scale);\n    parseAnimations();\n    geometry.computeFaceNormals();\n    geometry.computeBoundingSphere();\n    function parseModel(scale: number) {\n      function isBitSet(value: number, position: number): number {\n        return value & (1 << position);\n      }\n      let i, j, fi,\n      offset, zLength,\n      colorIndex, normalIndex, uvIndex, materialIndex,\n      type,\n      isQuad,\n      hasMaterial,\n      hasFaceVertexUv,\n      hasFaceNormal, hasFaceVertexNormal,\n      hasFaceColor, hasFaceVertexColor,\n      vertex, face, faceA, faceB, hex, normal,\n      uvLayer, uv, u, v,\n      faces = json.faces,\n      vertices = json.vertices,\n      normals = json.normals,\n      colors = json.colors,\n      nUvLayers = 0;\n      if (json.uvs !== undefined) {\n        // disregard empty arrays\n        for (i = 0; i < json.uvs.length; i ++) {\n          if (json.uvs[i].length) nUvLayers ++;\n        }\n        for (i = 0; i < nUvLayers; i ++) {\n          geometry.faceVertexUvs[i] = [];\n        }\n      }\n      offset = 0;\n      zLength = vertices.length;\n      while (offset < zLength) {\n        vertex = new Vector3();\n        vertex.x = vertices[offset ++] * scale;\n        vertex.y = vertices[offset ++] * scale;\n        vertex.z = vertices[offset ++] * scale;\n        geometry.vertices.push(vertex);\n      }\n      offset = 0;\n      zLength = faces.length;\n      while (offset < zLength) {\n        type = faces[offset ++];\n        isQuad              = isBitSet(type, 0);\n        hasMaterial         = isBitSet(type, 1);\n        hasFaceVertexUv     = isBitSet(type, 3);\n        hasFaceNormal       = isBitSet(type, 4);\n        hasFaceVertexNormal = isBitSet(type, 5);\n        hasFaceColor        = isBitSet(type, 6);\n        hasFaceVertexColor  = isBitSet(type, 7);\n        // console.log(\"type\", type, \"bits\", isQuad, hasMaterial, hasFaceVertexUv, hasFaceNormal, hasFaceVertexNormal, hasFaceColor, hasFaceVertexColor);\n        if (isQuad) {\n          faceA = new Face3();\n          faceA.a = faces[offset];\n          faceA.b = faces[offset + 1];\n          faceA.c = faces[offset + 3];\n          faceB = new Face3();\n          faceB.a = faces[offset + 1];\n          faceB.b = faces[offset + 2];\n          faceB.c = faces[offset + 3];\n          offset += 4;\n          if (hasMaterial) {\n            materialIndex = faces[offset ++];\n            faceA.materialIndex = materialIndex;\n            faceB.materialIndex = materialIndex;\n          }\n          // to get face <=> uv index correspondence\n          fi = geometry.faces.length;\n          if (hasFaceVertexUv) {\n            for (i = 0; i < nUvLayers; i ++) {\n              uvLayer = json.uvs[i];\n              geometry.faceVertexUvs[i][fi] = [];\n              geometry.faceVertexUvs[i][fi + 1] = [];\n              for (j = 0; j < 4; j ++) {\n                uvIndex = faces[offset ++];\n                u = uvLayer[uvIndex * 2];\n                v = uvLayer[uvIndex * 2 + 1];\n                uv = new Vector2(u, v);\n                if (j !== 2) geometry.faceVertexUvs[i][fi].push(uv);\n                if (j !== 0) geometry.faceVertexUvs[i][fi + 1].push(uv);\n              }\n            }\n          }\n          if (hasFaceNormal) {\n            normalIndex = faces[offset ++] * 3;\n            faceA.normal.set(\n              normals[normalIndex ++],\n              normals[normalIndex ++],\n              normals[normalIndex]\n            );\n            faceB.normal.copy(faceA.normal);\n          }\n          if (hasFaceVertexNormal) {\n            for (i = 0; i < 4; i ++) {\n              normalIndex = faces[offset ++] * 3;\n              normal = new Vector3(\n                normals[normalIndex ++],\n                normals[normalIndex ++],\n                normals[normalIndex]\n              );\n              if (i !== 2) faceA.vertexNormals.push(normal);\n              if (i !== 0) faceB.vertexNormals.push(normal);\n            }\n          }\n          if (hasFaceColor) {\n            colorIndex = faces[offset ++];\n            hex = colors[colorIndex];\n            faceA.color.setHex(hex);\n            faceB.color.setHex(hex);\n          }\n          if (hasFaceVertexColor) {\n            for (i = 0; i < 4; i ++) {\n              colorIndex = faces[offset ++];\n              hex = colors[colorIndex];\n              if (i !== 2) faceA.vertexColors.push(new Color(hex));\n              if (i !== 0) faceB.vertexColors.push(new Color(hex));\n            }\n          }\n          geometry.faces.push(faceA);\n          geometry.faces.push(faceB);\n        } else {\n          face = new Face3();\n          face.a = faces[offset ++];\n          face.b = faces[offset ++];\n          face.c = faces[offset ++];\n          if (hasMaterial) {\n            materialIndex = faces[offset ++];\n            face.materialIndex = materialIndex;\n          }\n          // to get face <=> uv index correspondence\n          fi = geometry.faces.length;\n          if (hasFaceVertexUv) {\n            for (i = 0; i < nUvLayers; i ++) {\n              uvLayer = json.uvs[i];\n              geometry.faceVertexUvs[i][fi] = [];\n              for (j = 0; j < 3; j ++) {\n                uvIndex = faces[offset ++];\n                u = uvLayer[uvIndex * 2];\n                v = uvLayer[uvIndex * 2 + 1];\n                uv = new Vector2(u, v);\n                geometry.faceVertexUvs[i][fi].push(uv);\n              }\n            }\n          }\n          if (hasFaceNormal) {\n            normalIndex = faces[offset ++] * 3;\n            face.normal.set(\n              normals[normalIndex ++],\n              normals[normalIndex ++],\n              normals[normalIndex]\n            );\n          }\n          if (hasFaceVertexNormal) {\n            for (i = 0; i < 3; i ++) {\n              normalIndex = faces[offset ++] * 3;\n              normal = new Vector3(\n                normals[normalIndex ++],\n                normals[normalIndex ++],\n                normals[normalIndex]\n              );\n              face.vertexNormals.push(normal);\n            }\n          }\n          if (hasFaceColor) {\n            colorIndex = faces[offset ++];\n            face.color.setHex(colors[colorIndex]);\n          }\n          if (hasFaceVertexColor) {\n            for (i = 0; i < 3; i ++) {\n              colorIndex = faces[offset ++];\n              face.vertexColors.push(new Color(colors[colorIndex]));\n            }\n          }\n          geometry.faces.push(face);\n        }\n      }\n    }\n    function parseSkin(): void {\n      const influencesPerVertex: number = (json.influencesPerVertex !== undefined) ? json.influencesPerVertex : 2;\n      if (json.skinWeights) {\n        for (let i = 0, l = json.skinWeights.length; i < l; i += influencesPerVertex) {\n          let x =                             json.skinWeights[i];\n          let y = (influencesPerVertex > 1) ? json.skinWeights[i + 1] : 0;\n          let z = (influencesPerVertex > 2) ? json.skinWeights[i + 2] : 0;\n          let w = (influencesPerVertex > 3) ? json.skinWeights[i + 3] : 0;\n          geometry.skinWeights.push(new Vector4(x, y, z, w));\n        }\n      }\n      if (json.skinIndices) {\n        for (let i = 0, l = json.skinIndices.length; i < l; i += influencesPerVertex) {\n          let a =                             json.skinIndices[i];\n          let b = (influencesPerVertex > 1) ? json.skinIndices[i + 1] : 0;\n          let c = (influencesPerVertex > 2) ? json.skinIndices[i + 2] : 0;\n          let d = (influencesPerVertex > 3) ? json.skinIndices[i + 3] : 0;\n          geometry.skinIndices.push(new Vector4(a, b, c, d));\n        }\n      }\n      geometry.bones = json.bones;\n      if (geometry.bones && geometry.bones.length > 0 && (geometry.skinWeights.length !== geometry.skinIndices.length || geometry.skinIndices.length !== geometry.vertices.length)) {\n        console.warn('When skinning, number of vertices (' + geometry.vertices.length + '), skinIndices (' +\n          geometry.skinIndices.length + '), and skinWeights (' + geometry.skinWeights.length + ') should match.');\n      }\n    }\n    function parseMorphing(scale: number): void {\n      if (json.morphTargets !== undefined) {\n        for (let i = 0, l = json.morphTargets.length; i < l; i ++) {\n          geometry.morphTargets[i] = {};\n          geometry.morphTargets[i].name = json.morphTargets[i].name;\n          geometry.morphTargets[i].vertices = [];\n          let dstVertices = geometry.morphTargets[i].vertices;\n          let srcVertices = json.morphTargets[i].vertices;\n          for (let v = 0, vl = srcVertices.length; v < vl; v += 3) {\n            let vertex = new Vector3();\n            vertex.x = srcVertices[v] * scale;\n            vertex.y = srcVertices[v + 1] * scale;\n            vertex.z = srcVertices[v + 2] * scale;\n            dstVertices.push(vertex);\n          }\n        }\n      }\n      if (json.morphColors !== undefined && json.morphColors.length > 0) {\n        console.warn('THREE.JSONLoader: \"morphColors\" no longer supported. Using them as face colors.');\n        let faces = geometry.faces;\n        let morphColors = json.morphColors[0].colors;\n        for (let i = 0, l = faces.length; i < l; i ++) {\n          faces[i].color.fromArray(morphColors, i * 3);\n        }\n      }\n    }\n    function parseAnimations(): void {\n      let outputAnimations: AnimationClip[] = [];\n      // parse old style Bone/Hierarchy animations\n      let animations = [];\n      if (json.animation !== undefined) {\n        animations.push(json.animation);\n      }\n      if (json.animations !== undefined) {\n        if (json.animations.length) {\n          animations = animations.concat(json.animations);\n        } else {\n          animations.push(json.animations);\n        }\n      }\n      for (let i = 0; i < animations.length; i ++) {\n        const clip = AnimationClip.parseAnimation(animations[i], geometry.bones);\n        if (clip) outputAnimations.push(clip);\n      }\n      // parse implicit morph animations\n      if (geometry.morphTargets) {\n        // TODO: Figure out what an appropraite FPS is for morph target animations -- defaulting to 10, but really it is completely arbitrary.\n        const morphAnimationClips = AnimationClip.CreateClipsFromMorphTargetSequences(geometry.morphTargets, 10);\n        outputAnimations = outputAnimations.concat(morphAnimationClips);\n      }\n      if (outputAnimations.length > 0) geometry.animations = outputAnimations;\n    }\n    if (json.materials === undefined || json.materials.length === 0) {\n      return { geometry: geometry };\n    } else {\n      let materials = Loader.prototype.initMaterials(json.materials, texturePath, this.crossOrigin);\n      return { geometry: geometry, materials: materials };\n    }\n  }\n}\n","import { TextureMapping, TextureWrapping, TextureFilter } from \"../constants\";\nimport { Color } from \"../math/Color\";\nimport { Matrix4 } from \"../math/Matrix4\";\nimport { Object3D } from \"../core/Object3D\";\nimport { Group } from \"../objects/Group\";\nimport { Sprite } from \"../objects/Sprite\";\nimport { Points } from \"../objects/Points\";\nimport { Line } from \"../objects/Line\";\nimport { LineSegments } from \"../objects/LineSegments\";\nimport { LOD } from \"../objects/LOD\";\nimport { Mesh } from \"../objects/Mesh\";\nimport { SkinnedMesh } from \"../objects/SkinnedMesh\";\nimport { Fog } from \"../scenes/Fog\";\nimport { FogExp2 } from \"../scenes/FogExp2\";\nimport { HemisphereLight } from \"../lights/HemisphereLight\";\nimport { SpotLight } from \"../lights/SpotLight\";\nimport { PointLight } from \"../lights/PointLight\";\nimport { DirectionalLight } from \"../lights/DirectionalLight\";\nimport { AmbientLight } from \"../lights/AmbientLight\";\nimport { OrthographicCamera } from \"../cameras/OrthographicCamera\";\nimport { PerspectiveCamera } from \"../cameras/PerspectiveCamera\";\nimport { Scene } from \"../scenes/Scene\";\nimport { Texture } from \"../textures/Texture\";\nimport { ImageLoader } from \"./ImageLoader\";\nimport { LoadingManager, DefaultLoadingManager } from \"./LoadingManager\";\nimport { AnimationClip } from \"../animation/AnimationClip\";\nimport { MaterialLoader } from \"./MaterialLoader\";\nimport { BufferGeometryLoader } from \"./BufferGeometryLoader\";\nimport { JSONLoader } from \"./JSONLoader\";\nimport { XHRLoader } from \"./XHRLoader\";\nimport { Geometry } from \"../core/Geometry\";\nimport { BufferGeometry } from \"../core/BufferGeometry\";\nimport * as Geometries from \"../geometries/Geometries\";\nimport { Material } from \"../materials/Material\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class ObjectLoader {\n  manager: LoadingManager;\n  texturePath: string = '';\n  crossOrigin: string;\n  constructor(manager: LoadingManager = DefaultLoadingManager) {\n    this.manager = manager;\n  }\n  load(url: string, onLoad: (object: Object3D) => void, onProgress?: (event: ProgressEvent) => void, onError?: (event: ErrorEvent) => void): void {\n    if (this.texturePath === '') {\n      this.texturePath = url.substring(0, url.lastIndexOf('/') + 1);\n    }\n    const scope: ObjectLoader = this;\n    const loader: XHRLoader = new XHRLoader(scope.manager);\n    loader.load(url, function(text: string): void {\n      scope.parse(JSON.parse(text), onLoad);\n    }, onProgress, onError);\n  }\n  setTexturePath(value: string): void {\n    this.texturePath = value;\n  }\n  setCrossOrigin(value: string): void {\n    this.crossOrigin = value;\n  }\n  parse(json: any, onLoad: (object: Object3D) => void): Object3D {\n    const geometries = this.parseGeometries(json.geometries);\n    const images = this.parseImages(json.images, function(): void {\n      if (onLoad !== undefined) onLoad(object);\n    });\n    const textures  = this.parseTextures(json.textures, images);\n    const materials = this.parseMaterials(json.materials, textures);\n    const object = this.parseObject(json.object, geometries, materials);\n    if (json.animations) {\n      object.animations = this.parseAnimations(json.animations);\n    }\n    if (json.images === undefined || json.images.length === 0) {\n      if (onLoad !== undefined) onLoad(object);\n    }\n    return object;\n  }\n  parseGeometries(json: any[]): Map<string, Geometry | BufferGeometry> {\n    const geometries = new Map<string, Geometry | BufferGeometry>();\n    if (json !== undefined) {\n      const geometryLoader = new JSONLoader();\n      const bufferGeometryLoader = new BufferGeometryLoader();\n      for (let i = 0, l = json.length; i < l; i ++) {\n        let geometry: Geometry | BufferGeometry;\n        const data: any = json[i];\n        switch (data.type) {\n          case 'PlaneGeometry':\n          case 'PlaneBufferGeometry':\n            geometry = new Geometries[data.type](\n              data.width,\n              data.height,\n              data.widthSegments,\n              data.heightSegments\n            );\n            break;\n          case 'BoxGeometry':\n          case 'BoxBufferGeometry':\n          case 'CubeGeometry': // backwards compatible\n            geometry = new Geometries[data.type](\n              data.width,\n              data.height,\n              data.depth,\n              data.widthSegments,\n              data.heightSegments,\n              data.depthSegments\n            );\n            break;\n          case 'CircleGeometry':\n          case 'CircleBufferGeometry':\n            geometry = new Geometries[data.type](\n              data.radius,\n              data.segments,\n              data.thetaStart,\n              data.thetaLength\n            );\n            break;\n          case 'CylinderGeometry':\n          case 'CylinderBufferGeometry':\n            geometry = new Geometries[data.type](\n              data.radiusTop,\n              data.radiusBottom,\n              data.height,\n              data.radialSegments,\n              data.heightSegments,\n              data.openEnded,\n              data.thetaStart,\n              data.thetaLength\n            );\n            break;\n          case 'ConeGeometry':\n          case 'ConeBufferGeometry':\n            geometry = new Geometries[data.type](\n              data.radius,\n              data.height,\n              data.radialSegments,\n              data.heightSegments,\n              data.openEnded,\n              data.thetaStart,\n              data.thetaLength\n            );\n            break;\n          case 'SphereGeometry':\n          case 'SphereBufferGeometry':\n            geometry = new Geometries[data.type](\n              data.radius,\n              data.widthSegments,\n              data.heightSegments,\n              data.phiStart,\n              data.phiLength,\n              data.thetaStart,\n              data.thetaLength\n            );\n            break;\n          case 'DodecahedronGeometry':\n          case 'IcosahedronGeometry':\n          case 'OctahedronGeometry':\n          case 'TetrahedronGeometry':\n            geometry = new Geometries[data.type](\n              data.radius,\n              data.detail\n            );\n            break;\n          case 'RingGeometry':\n          case 'RingBufferGeometry':\n            geometry = new Geometries[data.type](\n              data.innerRadius,\n              data.outerRadius,\n              data.thetaSegments,\n              data.phiSegments,\n              data.thetaStart,\n              data.thetaLength\n            );\n            break;\n          case 'TorusGeometry':\n          case 'TorusBufferGeometry':\n            geometry = new Geometries[data.type](\n              data.radius,\n              data.tube,\n              data.radialSegments,\n              data.tubularSegments,\n              data.arc\n            );\n            break;\n          case 'TorusKnotGeometry':\n          case 'TorusKnotBufferGeometry':\n            geometry = new Geometries[data.type](\n              data.radius,\n              data.tube,\n              data.tubularSegments,\n              data.radialSegments,\n              data.p,\n              data.q\n            );\n            break;\n          case 'LatheGeometry':\n          case 'LatheBufferGeometry':\n            geometry = new Geometries[data.type](\n              data.points,\n              data.segments,\n              data.phiStart,\n              data.phiLength\n            );\n            break;\n          case 'BufferGeometry':\n            geometry = bufferGeometryLoader.parse(data);\n            break;\n          case 'Geometry':\n            geometry = geometryLoader.parse(data.data, this.texturePath).geometry;\n            break;\n          default:\n            console.warn('THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"');\n            continue;\n        }\n        geometry.uuid = data.uuid;\n        if (data.name !== undefined) geometry.name = data.name;\n        geometries[data.uuid] = geometry;\n      }\n    }\n    return geometries;\n  }\n  parseMaterials(json: any[], textures: Map<string, Texture>): Map<string, Material> {\n    const materials = new Map<string, Material>();\n    if (json !== undefined) {\n      const loader = new MaterialLoader();\n      loader.setTextures(textures);\n      for (let i = 0, l = json.length; i < l; i ++) {\n        const material = loader.parse(json[i]);\n        materials[material.uuid] = material;\n      }\n    }\n    return materials;\n  }\n  parseAnimations(json: any[]): any[] {\n    const animations = [];\n    for (let i = 0; i < json.length; i ++) {\n      const clip = AnimationClip.parse(json[i]);\n      animations.push(clip);\n    }\n    return animations;\n  }\n  parseImages(json: any[], onLoad: any): Map<string, HTMLImageElement> {\n    const scope: ObjectLoader = this;\n    const images = new Map<string, HTMLImageElement>();\n    let loader: ImageLoader;\n    function loadImage(url: string): HTMLImageElement {\n      scope.manager.itemStart(url);\n      return loader.load(url, function(): void {\n        scope.manager.itemEnd(url);\n      }, undefined, function(): void {\n        scope.manager.itemError(url);\n      });\n    }\n    if (json !== undefined && json.length > 0) {\n      const manager = new LoadingManager(onLoad);\n      loader = new ImageLoader(manager);\n      loader.setCrossOrigin(this.crossOrigin);\n      for (let i = 0, l = json.length; i < l; i ++) {\n        const image = json[i];\n        const path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(image.url) ? image.url : scope.texturePath + image.url;\n        images[image.uuid] = loadImage(path);\n      }\n    }\n    return images;\n  }\n  parseTextures(json: any[], images: any): Map<string, Texture> {\n    function parseConstant(value: any, type: any) {\n      if (typeof(value) === 'number') return value;\n      console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value);\n      return type[value];\n    }\n    const textures = new Map<string, Texture>();\n    if (json !== undefined) {\n      for (let i = 0, l = json.length; i < l; i ++) {\n        const data = json[i];\n        if (data.image === undefined) {\n          console.warn('THREE.ObjectLoader: No \"image\" specified for', data.uuid);\n        }\n        if (images[data.image] === undefined) {\n          console.warn('THREE.ObjectLoader: Undefined image', data.image);\n        }\n        const texture = new Texture(images[data.image]);\n        texture.needsUpdate = true;\n        texture.uuid = data.uuid;\n        if (data.name !== undefined) texture.name = data.name;\n        if (data.mapping !== undefined) texture.mapping = parseConstant(data.mapping, TextureMapping);\n        if (data.offset !== undefined) texture.offset.fromArray(data.offset);\n        if (data.repeat !== undefined) texture.repeat.fromArray(data.repeat);\n        if (data.wrap !== undefined) {\n          texture.wrapS = parseConstant(data.wrap[0], TextureWrapping);\n          texture.wrapT = parseConstant(data.wrap[1], TextureWrapping);\n        }\n        if (data.minFilter !== undefined) texture.minFilter = parseConstant(data.minFilter, TextureFilter);\n        if (data.magFilter !== undefined) texture.magFilter = parseConstant(data.magFilter, TextureFilter);\n        if (data.anisotropy !== undefined) texture.anisotropy = data.anisotropy;\n        if (data.flipY !== undefined) texture.flipY = data.flipY;\n        textures[data.uuid] = texture;\n      }\n    }\n    return textures;\n  }\n  parseObject(data: any, geometries?: Map<string, Geometry | BufferGeometry>, materials?: Map<string, Material>): Object3D {\n    const matrix = new Matrix4();\n    //return function parseObject(data, geometries, materials) {\n      let object: Object3D;\n      function getGeometry(name: string): Geometry | BufferGeometry {\n        if (geometries[name] === undefined) {\n          console.warn('THREE.ObjectLoader: Undefined geometry', name);\n        }\n        return geometries[name];\n      }\n      function getMaterial(name: string): Material {\n        if (name === undefined) return undefined;\n        if (materials[name] === undefined) {\n          console.warn('THREE.ObjectLoader: Undefined material', name);\n        }\n        return materials[name];\n      }\n      switch (data.type) {\n        case 'Scene':\n          object = new Scene();\n          if (data.background !== undefined) {\n            if (Number.isInteger(data.background)) {\n              (object as Scene).background = new Color(data.background);\n            }\n          }\n          if (data.fog !== undefined) {\n            if (data.fog.type === 'Fog') {\n              (object as Scene).fog = new Fog(data.fog.color, data.fog.near, data.fog.far);\n            } else if (data.fog.type === 'FogExp2') {\n              (object as Scene).fog = new FogExp2(data.fog.color, data.fog.density);\n            }\n          }\n          break;\n        case 'PerspectiveCamera':\n          object = new PerspectiveCamera(data.fov, data.aspect, data.near, data.far);\n          if (data.focus !== undefined) (object as PerspectiveCamera).focus = data.focus;\n          if (data.zoom !== undefined) (object as PerspectiveCamera).zoom = data.zoom;\n          if (data.filmGauge !== undefined) (object as PerspectiveCamera).filmGauge = data.filmGauge;\n          if (data.filmOffset !== undefined) (object as PerspectiveCamera).filmOffset = data.filmOffset;\n          if (data.view !== undefined) (object as PerspectiveCamera).view = Object.assign({}, data.view);\n          break;\n        case 'OrthographicCamera':\n          object = new OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);\n          break;\n        case 'AmbientLight':\n          object = new AmbientLight(data.color, data.intensity);\n          break;\n        case 'DirectionalLight':\n          object = new DirectionalLight(data.color, data.intensity);\n          break;\n        case 'PointLight':\n          object = new PointLight(data.color, data.intensity, data.distance, data.decay);\n          break;\n        case 'SpotLight':\n          object = new SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);\n          break;\n        case 'HemisphereLight':\n          object = new HemisphereLight(data.color, data.groundColor, data.intensity);\n          break;\n        case 'Mesh':\n          const geometry = getGeometry(data.geometry);\n          const material = getMaterial(data.material);\n          if (geometry.bones && geometry.bones.length > 0) {\n            object = new SkinnedMesh(geometry, material);\n          } else {\n            object = new Mesh(geometry, material);\n          }\n          break;\n        case 'LOD':\n          object = new LOD();\n          break;\n        case 'Line':\n          object = new Line(getGeometry(data.geometry), getMaterial(data.material), data.mode);\n          break;\n        case 'LineSegments':\n          object = new LineSegments(getGeometry(data.geometry), getMaterial(data.material));\n          break;\n        case 'PointCloud':\n        case 'Points':\n          object = new Points(getGeometry(data.geometry), getMaterial(data.material));\n          break;\n        case 'Sprite':\n          object = new Sprite(getMaterial(data.material));\n          break;\n        case 'Group':\n          object = new Group();\n          break;\n        default:\n          object = new Object3D();\n      }\n      object.uuid = data.uuid;\n      if (data.name !== undefined) object.name = data.name;\n      if (data.matrix !== undefined) {\n        matrix.fromArray(data.matrix);\n        matrix.decompose(object.position, object.quaternion, object.scale);\n      } else {\n        if (data.position !== undefined) object.position.fromArray(data.position);\n        if (data.rotation !== undefined) object.rotation.fromArray(data.rotation);\n        if (data.quaternion !== undefined) object.quaternion.fromArray(data.quaternion);\n        if (data.scale !== undefined) object.scale.fromArray(data.scale);\n      }\n      if (data.castShadow !== undefined) object.castShadow = data.castShadow;\n      if (data.receiveShadow !== undefined) object.receiveShadow = data.receiveShadow;\n      if (data.shadow) {\n        if (data.shadow.bias !== undefined) object.shadow.bias = data.shadow.bias;\n        if (data.shadow.radius !== undefined) object.shadow.radius = data.shadow.radius;\n        if (data.shadow.mapSize !== undefined) object.shadow.mapSize.fromArray(data.shadow.mapSize);\n        if (data.shadow.camera !== undefined) object.shadow.camera = this.parseObject(data.shadow.camera);\n      }\n      if (data.visible !== undefined) object.visible = data.visible;\n      if (data.userData !== undefined) object.userData = data.userData;\n      if (data.children !== undefined) {\n        for (const child in data.children) {\n          object.add(this.parseObject(data.children[child], geometries, materials));\n        }\n      }\n      if (data.type === 'LOD') {\n        const levels = data.levels;\n        for (let l = 0; l < levels.length; l ++) {\n          const level = levels[l];\n          const child = object.getObjectByProperty('uuid', level.object);\n          if (child !== undefined) {\n            (object as LOD).addLevel(child, level.distance);\n          }\n        }\n      }\n      return object;\n    //};\n  }\n}\n","import { Font } from \"../extras/core/Font\";\nimport { XHRLoader } from \"./XHRLoader\";\nimport { LoadingManager, DefaultLoadingManager } from \"./LoadingManager\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class FontLoader {\n  manager: LoadingManager;\n  constructor(manager: LoadingManager = DefaultLoadingManager) {\n    this.manager = manager;\n  }\n  load(url: string, onLoad: (font: Font) => void, onProgress?: (event: ProgressEvent) => void, onError?: (event: ErrorEvent) => void) {\n    const scope: FontLoader = this;\n    const loader: XHRLoader = new XHRLoader(this.manager);\n    loader.load(url, function(text: string): void {\n      let json: any;\n      try {\n        json = JSON.parse(text);\n      } catch (e) {\n        console.warn('THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.');\n        json = JSON.parse(text.substring(65, text.length - 2));\n      }\n      const font: Font = scope.parse(json);\n      if (onLoad) onLoad(font);\n    }, onProgress, onError);\n  }\n  parse(json: any): Font {\n    return new Font(json);\n  }\n}\n","let context: AudioContext;\nexport function getAudioContext(): AudioContext {\n  if (context === undefined) {\n    // !!!TODO: context = new (window.AudioContext || window.webkitAudioContext)();\n    context = new AudioContext();\n  }\n  return context;\n}\n","import { getAudioContext } from \"../audio/AudioContext\";\nimport { XHRLoader } from \"./XHRLoader\";\nimport { LoadingManager, DefaultLoadingManager } from \"./LoadingManager\";\n/**\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\nexport class AudioLoader {\n  manager: LoadingManager;\n  constructor(manager: LoadingManager = DefaultLoadingManager) {\n    this.manager = manager;\n  }\n  load(url: string, onLoad: (audioBuffer: AudioBuffer) => void, onProgress?: (event: ProgressEvent) => void, onError?: (event: ErrorEvent) => void): void {\n    const loader: XHRLoader = new XHRLoader(this.manager);\n    loader.setResponseType('arraybuffer');\n    loader.load(url, function(buffer: ArrayBuffer): void {\n      const context: AudioContext = getAudioContext();\n      context.decodeAudioData(buffer, function(audioBuffer: AudioBuffer): void {\n        onLoad(audioBuffer);\n      });\n    }, onProgress, onError);\n  }\n}\n","import { Matrix4 } from \"../math/Matrix4\";\nimport { _Math } from \"../math/Math\";\nimport { PerspectiveCamera } from \"./PerspectiveCamera\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class StereoCamera {\n  type: string = 'StereoCamera';\n  aspect: number = 1;\n  eyeSep: number = 0.064;\n  cameraL: PerspectiveCamera;\n  cameraR: PerspectiveCamera;\n  constructor() {\n    this.cameraL = new PerspectiveCamera();\n    this.cameraL.layers.enable(1);\n    this.cameraL.matrixAutoUpdate = false;\n    this.cameraR = new PerspectiveCamera();\n    this.cameraR.layers.enable(2);\n    this.cameraR.matrixAutoUpdate = false;\n  }\n  update(camera: PerspectiveCamera): void {\n    let instance, focus, fov, aspect, near, far, zoom;\n    const eyeRight = new Matrix4();\n    const eyeLeft = new Matrix4();\n    //return function update(camera) {\n      const needsUpdate = instance !== this || focus !== camera.focus || fov !== camera.fov ||\n                        aspect !== camera.aspect * this.aspect || near !== camera.near ||\n                        far !== camera.far || zoom !== camera.zoom;\n      if (needsUpdate) {\n        instance = this;\n        focus = camera.focus;\n        fov = camera.fov;\n        aspect = camera.aspect * this.aspect;\n        near = camera.near;\n        far = camera.far;\n        zoom = camera.zoom;\n        // Off-axis stereoscopic effect based on\n        // http://paulbourke.net/stereographics/stereorender/\n        const projectionMatrix = camera.projectionMatrix.clone();\n        const eyeSep = this.eyeSep / 2;\n        const eyeSepOnProjection = eyeSep * near / focus;\n        const ymax = (near * Math.tan(_Math.DEG2RAD * fov * 0.5)) / zoom;\n        let xmin, xmax;\n        // translate xOffset\n        eyeLeft.elements[12] = - eyeSep;\n        eyeRight.elements[12] = eyeSep;\n        // for left eye\n        xmin = - ymax * aspect + eyeSepOnProjection;\n        xmax = ymax * aspect + eyeSepOnProjection;\n        projectionMatrix.elements[0] = 2 * near / (xmax - xmin);\n        projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n        this.cameraL.projectionMatrix.copy(projectionMatrix);\n        // for right eye\n        xmin = - ymax * aspect - eyeSepOnProjection;\n        xmax = ymax * aspect - eyeSepOnProjection;\n        projectionMatrix.elements[0] = 2 * near / (xmax - xmin);\n        projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n        this.cameraR.projectionMatrix.copy(projectionMatrix);\n      }\n      this.cameraL.matrixWorld.copy(camera.matrixWorld).multiply(eyeLeft);\n      this.cameraR.matrixWorld.copy(camera.matrixWorld).multiply(eyeRight);\n    //};\n  }\n}\n","import { Object3D } from \"../core/Object3D\";\nimport { WebGLRenderTargetCube } from \"../renderers/WebGLRenderTargetCube\";\nimport { TextureFilter, TextureFormat } from \"../constants\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { PerspectiveCamera } from \"./PerspectiveCamera\";\nimport { Scene } from \"../scenes/Scene\";\n/**\n * Camera for rendering cube maps\n *  - renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */\nexport class CubeCamera extends Object3D {\n  cameraPX: PerspectiveCamera;\n  cameraNX: PerspectiveCamera;\n  cameraPY: PerspectiveCamera;\n  cameraNY: PerspectiveCamera;\n  cameraPZ: PerspectiveCamera;\n  cameraNZ: PerspectiveCamera;\n  renderTarget: WebGLRenderTargetCube;\n  constructor(near: number, far: number, cubeResolution: number) {\n    super();\n    this.type = 'CubeCamera';\n    const fov = 90, aspect = 1;\n    this.cameraPX = new PerspectiveCamera(fov, aspect, near, far);\n    this.cameraPX.up.set(0, - 1, 0);\n    this.cameraPX.lookAt(new Vector3(1, 0, 0));\n    this.add(this.cameraPX);\n    this.cameraNX = new PerspectiveCamera(fov, aspect, near, far);\n    this.cameraNX.up.set(0, - 1, 0);\n    this.cameraNX.lookAt(new Vector3(- 1, 0, 0));\n    this.add(this.cameraNX);\n    this.cameraPY = new PerspectiveCamera(fov, aspect, near, far);\n    this.cameraPY.up.set(0, 0, 1);\n    this.cameraPY.lookAt(new Vector3(0, 1, 0));\n    this.add(this.cameraPY);\n    this.cameraNY = new PerspectiveCamera(fov, aspect, near, far);\n    this.cameraNY.up.set(0, 0, - 1);\n    this.cameraNY.lookAt(new Vector3(0, - 1, 0));\n    this.add(this.cameraNY);\n    this.cameraPZ = new PerspectiveCamera(fov, aspect, near, far);\n    this.cameraPZ.up.set(0, - 1, 0);\n    this.cameraPZ.lookAt(new Vector3(0, 0, 1));\n    this.add(this.cameraPZ);\n    this.cameraNZ = new PerspectiveCamera(fov, aspect, near, far);\n    this.cameraNZ.up.set(0, - 1, 0);\n    this.cameraNZ.lookAt(new Vector3(0, 0, - 1));\n    this.add(this.cameraNZ);\n    const options = { format: TextureFormat.RGB, magFilter: TextureFilter.Linear, minFilter: TextureFilter.Linear };\n    this.renderTarget = new WebGLRenderTargetCube(cubeResolution, cubeResolution, options);\n  }\n  updateCubeMap(renderer: any, scene: Scene): void {\n    if (this.parent === null) this.updateMatrixWorld();\n    const renderTarget = this.renderTarget;\n    const generateMipmaps = renderTarget.texture.generateMipmaps;\n    renderTarget.texture.generateMipmaps = false;\n    renderTarget.activeCubeFace = 0;\n    renderer.render(scene, this.cameraPX, renderTarget);\n    renderTarget.activeCubeFace = 1;\n    renderer.render(scene, this.cameraNX, renderTarget);\n    renderTarget.activeCubeFace = 2;\n    renderer.render(scene, this.cameraPY, renderTarget);\n    renderTarget.activeCubeFace = 3;\n    renderer.render(scene, this.cameraNY, renderTarget);\n    renderTarget.activeCubeFace = 4;\n    renderer.render(scene, this.cameraPZ, renderTarget);\n    renderTarget.texture.generateMipmaps = generateMipmaps;\n    renderTarget.activeCubeFace = 5;\n    renderer.render(scene, this.cameraNZ, renderTarget);\n    renderer.setRenderTarget(null);\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nimport { Vector3 } from \"../math/Vector3\";\nimport { Quaternion } from \"../math/Quaternion\";\nimport { Object3D } from \"../core/Object3D\";\nimport { getAudioContext } from \"./AudioContext\";\nexport class AudioListener extends Object3D {\n  context: AudioContext;\n  gain: GainNode;\n  filter: AudioNode;\n  constructor() {\n    super();\n    this.type = 'AudioListener';\n    this.context = getAudioContext();\n    this.gain = this.context.createGain();\n    this.gain.connect(this.context.destination);\n    this.filter = null;\n  }\n  getInput(): GainNode {\n    return this.gain;\n  }\n  removeFilter(): void {\n    if (this.filter !== null) {\n      this.gain.disconnect(this.filter);\n      this.filter.disconnect(this.context.destination);\n      this.gain.connect(this.context.destination);\n      this.filter = null;\n    }\n  }\n  getFilter(): AudioNode {\n    return this.filter;\n  }\n  setFilter(value: AudioNode): void {\n    if (this.filter !== null) {\n      this.gain.disconnect(this.filter);\n      this.filter.disconnect(this.context.destination);\n    } else {\n      this.gain.disconnect(this.context.destination);\n    }\n    this.filter = value;\n    this.gain.connect(this.filter);\n    this.filter.connect(this.context.destination);\n  }\n  getMasterVolume(): number {\n    return this.gain.gain.value;\n  }\n  setMasterVolume(value: number): void {\n    this.gain.gain.value = value;\n  }\n  updateMatrixWorld(force: boolean): void {\n    const position = new Vector3();\n    const quaternion = new Quaternion();\n    const scale = new Vector3();\n    const orientation = new Vector3();\n    //return function updateMatrixWorld(force) {\n      super.updateMatrixWorld(force);\n      const listener = this.context.listener;\n      const up = this.up;\n      this.matrixWorld.decompose(position, quaternion, scale);\n      orientation.set(0, 0, - 1).applyQuaternion(quaternion);\n      listener.setPosition(position.x, position.y, position.z);\n      listener.setOrientation(orientation.x, orientation.y, orientation.z, up.x, up.y, up.z);\n    //};\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\nimport { Object3D } from \"../core/Object3D\";\nimport { AudioListener } from \"./AudioListener\";\nimport { AudioLoader } from \"../loaders/AudioLoader\";\nexport class Audio extends Object3D {\n  context: AudioContext;\n  source: AudioBufferSourceNode;\n  gain: GainNode;\n  autoplay: boolean = false;\n  startTime: number = 0;\n  playbackRate: number = 1;\n  isPlaying: boolean = false;\n  hasPlaybackControl: boolean = true;\n  sourceType: string = 'empty';\n  filters: AudioNode[] = [];\n  constructor(listener: AudioListener) {\n    super();\n    this.type = 'Audio';\n    this.context = listener.context;\n    this.source = this.context.createBufferSource();\n    this.source.onended = this.onEnded.bind(this);\n    this.gain = this.context.createGain();\n    this.gain.connect(listener.getInput());\n  }\n  getOutput(): AudioNode {\n    return this.gain;\n  }\n  setNodeSource(audioNode: AudioBufferSourceNode): Audio {\n    this.hasPlaybackControl = false;\n    this.sourceType = 'audioNode';\n    this.source = audioNode;\n    this.connect();\n    return this;\n  }\n  setBuffer(audioBuffer: AudioBuffer): Audio {\n    this.source.buffer = audioBuffer;\n    this.sourceType = 'buffer';\n    if (this.autoplay) this.play();\n    return this;\n  }\n  play(): Audio {\n    if (this.isPlaying === true) {\n      console.warn('THREE.Audio: Audio is already playing.');\n      return this;\n    }\n    if (this.hasPlaybackControl === false) {\n      console.warn('THREE.Audio: this Audio has no playback control.');\n      return this;\n    }\n    const source = this.context.createBufferSource();\n    source.buffer = this.source.buffer;\n    source.loop = this.source.loop;\n    source.onended = this.source.onended;\n    source.start(0, this.startTime);\n    source.playbackRate.value = this.playbackRate;\n    this.isPlaying = true;\n    this.source = source;\n    return this.connect();\n  }\n  pause(): Audio {\n    if (this.hasPlaybackControl === false) {\n      console.warn('THREE.Audio: this Audio has no playback control.');\n      return this;\n    }\n    this.source.stop();\n    this.startTime = this.context.currentTime;\n    this.isPlaying = false;\n    return this;\n  }\n  stop(): Audio {\n    if (this.hasPlaybackControl === false) {\n      console.warn('THREE.Audio: this Audio has no playback control.');\n      return this;\n    }\n    this.source.stop();\n    this.startTime = 0;\n    this.isPlaying = false;\n    return this;\n  }\n  connect(): Audio {\n    if (this.filters.length > 0) {\n      this.source.connect(this.filters[0]);\n      for (let i = 1, l = this.filters.length; i < l; i ++) {\n        this.filters[i - 1].connect(this.filters[i]);\n      }\n      this.filters[this.filters.length - 1].connect(this.getOutput());\n    } else {\n      this.source.connect(this.getOutput());\n    }\n    return this;\n  }\n  disconnect(): Audio {\n    if (this.filters.length > 0) {\n      this.source.disconnect(this.filters[0]);\n      for (let i = 1, l = this.filters.length; i < l; i ++) {\n        this.filters[i - 1].disconnect(this.filters[i]);\n      }\n      this.filters[this.filters.length - 1].disconnect(this.getOutput());\n    } else {\n      this.source.disconnect(this.getOutput());\n    }\n    return this;\n  }\n  getFilters(): AudioNode[] {\n    return this.filters;\n  }\n  setFilters(value: AudioNode[] = []): Audio {\n    if (this.isPlaying === true) {\n      this.disconnect();\n      this.filters = value;\n      this.connect();\n    } else {\n      this.filters = value;\n    }\n    return this;\n  }\n  getFilter(): AudioNode {\n    return this.getFilters()[0];\n  }\n  setFilter(filter: AudioNode): Audio {\n    return this.setFilters(filter ? [ filter ] : []);\n  }\n  setPlaybackRate(value: number): Audio {\n    if (this.hasPlaybackControl === false) {\n      console.warn('THREE.Audio: this Audio has no playback control.');\n      return this;\n    }\n    this.playbackRate = value;\n    if (this.isPlaying === true) {\n      this.source.playbackRate.value = this.playbackRate;\n    }\n    return this;\n  }\n  getPlaybackRate(): number {\n    return this.playbackRate;\n  }\n  onEnded(): void {\n    this.isPlaying = false;\n  }\n  getLoop(): boolean {\n    if (this.hasPlaybackControl === false) {\n      console.warn('THREE.Audio: this Audio has no playback control.');\n      return false;\n    }\n    return this.source.loop;\n  }\n  setLoop(value: boolean): void {\n    if (this.hasPlaybackControl === false) {\n      console.warn('THREE.Audio: this Audio has no playback control.');\n      return;\n    }\n    this.source.loop = value;\n  }\n  getVolume(): number {\n    return this.gain.gain.value;\n  }\n  setVolume(value: number): Audio {\n    this.gain.gain.value = value;\n    return this;\n  }\n  load(file: string): Audio {\n    console.warn(\"THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.\");\n    const scope: Audio = this;\n    const audioLoader: AudioLoader = new AudioLoader();\n    audioLoader.load(file, function(buffer: AudioBuffer): void {\n      scope.setBuffer(buffer);\n    });\n    return this;\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nimport { Vector3 } from \"../math/Vector3\";\nimport { Audio } from \"./Audio\";\nimport { AudioListener } from \"./AudioListener\";\nexport class PositionalAudio extends Audio {\n  panner: PannerNode;\n  constructor(listener: AudioListener) {\n    super(listener);\n    this.panner = this.context.createPanner();\n    this.panner.connect(this.gain);\n  }\n  getOutput(): AudioNode {\n    return this.panner;\n  }\n  getRefDistance(): number {\n    return this.panner.refDistance;\n  }\n  setRefDistance(value: number): void {\n    this.panner.refDistance = value;\n  }\n  getRolloffFactor(): number {\n    return this.panner.rolloffFactor;\n  }\n  setRolloffFactor(value: number): void {\n    this.panner.rolloffFactor = value;\n  }\n  getDistanceModel(): string {\n    return this.panner.distanceModel;\n  }\n  setDistanceModel(value: string): void {\n    this.panner.distanceModel = value as DistanceModelType;\n  }\n  getMaxDistance(): number {\n    return this.panner.maxDistance;\n  }\n  setMaxDistance(value: number): void {\n    this.panner.maxDistance = value;\n  }\n  updateMatrixWorld(force: boolean): void {\n    const position = new Vector3();\n    //return function updateMatrixWorld(force) {\n      super.updateMatrixWorld(force);\n      position.setFromMatrixPosition(this.matrixWorld);\n      this.panner.setPosition(position.x, position.y, position.z);\n    //};\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nimport { Audio } from \"./Audio\";\nexport class AudioAnalyser {\n  analyser: AnalyserNode;\n  data: Uint8Array;\n  constructor(audio: Audio, fftSize: number = 2048) {\n    this.analyser = audio.context.createAnalyser();\n    this.analyser.fftSize = fftSize;\n    this.data = new Uint8Array(this.analyser.frequencyBinCount);\n    audio.getOutput().connect(this.analyser);\n  }\n  getFrequencyData(): Uint8Array {\n    this.analyser.getByteFrequencyData(this.data);\n    return this.data;\n  }\n  getAverageFrequency(): number {\n    let value = 0;\n    const data = this.getFrequencyData();\n    for (let i = 0; i < data.length; i ++) {\n      value += data[i];\n    }\n    return value / data.length;\n  }\n  getData(file: string): Uint8Array {\n    console.warn(\"THREE.AudioAnalyser: .getData() is now .getFrequencyData().\");\n    return this.getFrequencyData();\n  }\n}\n","import { Quaternion } from \"../math/Quaternion\";\n/**\n *\n * Buffered scene graph property that allows weighted accumulation.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\nexport class PropertyMixer {\n  binding: any;\n  valueSize: number;\n  buffer: Float64Array | any[];\n  _mixBufferRegion: (buffer: any, dstOffset: any, srcOffset: any, t: any, stride: any) => void;\n  cumulativeWeight: number;\n  useCount: number;\n  referenceCount: number;\n  constructor(binding: any, typeName: any, valueSize: any) {\n    this.binding = binding;\n    this.valueSize = valueSize;\n    let bufferType: Float64ArrayConstructor | ArrayConstructor = Float64Array,\n      mixFunction;\n    switch (typeName) {\n      case 'quaternion':      mixFunction = this._slerp;    break;\n      case 'string':\n      case 'bool':\n        bufferType = Array,    mixFunction = this._select;    break;\n      default:          mixFunction = this._lerp;\n    }\n    this.buffer = new bufferType(valueSize * 4);\n    // layout: [ incoming | accu0 | accu1 | orig ]\n    //\n    // interpolators can use .buffer as their .result\n    // the data then goes to 'incoming'\n    //\n    // 'accu0' and 'accu1' are used frame-interleaved for\n    // the cumulative result and are compared to detect\n    // changes\n    //\n    // 'orig' stores the original state of the property\n    this._mixBufferRegion = mixFunction;\n    this.cumulativeWeight = 0;\n    this.useCount = 0;\n    this.referenceCount = 0;\n  }\n  // accumulate data in the 'incoming' region into 'accu<i>'\n  accumulate(accuIndex: any, weight: any) {\n    // note: happily accumulating nothing when weight = 0, the caller knows\n    // the weight and shouldn't have made the call in the first place\n    const buffer = this.buffer,\n      stride = this.valueSize,\n      offset = accuIndex * stride + stride;\n    let currentWeight = this.cumulativeWeight;\n    if (currentWeight === 0) {\n      // accuN := incoming * weight\n      for (let i = 0; i !== stride; ++ i) {\n        buffer[ offset + i ] = buffer[ i ];\n      }\n      currentWeight = weight;\n    } else {\n      // accuN := accuN + incoming * weight\n      currentWeight += weight;\n      const mix = weight / currentWeight;\n      this._mixBufferRegion(buffer, offset, 0, mix, stride);\n    }\n    this.cumulativeWeight = currentWeight;\n  }\n  // apply the state of 'accu<i>' to the binding when accus differ\n  apply(accuIndex: any) {\n    const stride = this.valueSize,\n      buffer = this.buffer,\n      offset = accuIndex * stride + stride,\n      weight = this.cumulativeWeight,\n      binding = this.binding;\n    this.cumulativeWeight = 0;\n    if (weight < 1) {\n      // accuN := accuN + original * (1 - cumulativeWeight)\n      const originalValueOffset = stride * 3;\n      this._mixBufferRegion(\n          buffer, offset, originalValueOffset, 1 - weight, stride);\n    }\n    for (let i = stride, e = stride + stride; i !== e; ++ i) {\n      if (buffer[ i ] !== buffer[ i + stride ]) {\n        // value has changed -> update scene graph\n        binding.setValue(buffer, offset);\n        break;\n      }\n    }\n  }\n  // remember the state of the bound property and copy it to both accus\n  saveOriginalState() {\n    const binding = this.binding;\n    const buffer = this.buffer,\n      stride = this.valueSize,\n      originalValueOffset = stride * 3;\n    binding.getValue(buffer, originalValueOffset);\n    // accu[0..1] := orig -- initially detect changes against the original\n    for (let i = stride, e = originalValueOffset; i !== e; ++ i) {\n      buffer[ i ] = buffer[ originalValueOffset + (i % stride) ];\n    }\n    this.cumulativeWeight = 0;\n  }\n  // apply the state previously taken via 'saveOriginalState' to the binding\n  restoreOriginalState() {\n    const originalValueOffset = this.valueSize * 3;\n    this.binding.setValue(this.buffer, originalValueOffset);\n  }\n  // mix functions\n  _select(buffer: any, dstOffset: any, srcOffset: any, t: any, stride: any) {\n    if (t >= 0.5) {\n      for (let i = 0; i !== stride; ++ i) {\n        buffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n      }\n    }\n  }\n  _slerp(buffer: any, dstOffset: any, srcOffset: any, t: any, stride: any) {\n    Quaternion.slerpFlat(buffer, dstOffset,\n        buffer, dstOffset, buffer, srcOffset, t);\n  }\n  _lerp(buffer: any, dstOffset: any, srcOffset: any, t: any, stride: any) {\n    const s = 1 - t;\n    for (let i = 0; i !== stride; ++ i) {\n      const j = dstOffset + i;\n      buffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n    }\n  }\n}\n","import { PropertyBinding } from \"./PropertyBinding\";\nimport { _Math } from \"../math/Math\";\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *   -  Add objects you would otherwise pass as 'root' to the\n *     constructor or the .clipAction method of AnimationMixer.\n *\n *   -  Instead pass this object as 'root'.\n *\n *   -  You can also add and remove objects later when the mixer\n *     is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *   -   The animated properties must be compatible among the\n *     all objects in the group.\n *\n *  -  A single property can either be controlled through a\n *    target group or directly, but not both.\n *\n * @author tschw\n */\nexport class AnimationObjectGroup {\n  uuid: any;\n  _objects: any;\n  nCachedObjects_: any;\n  _indicesByUUID: any;\n  _paths: any;\n  _parsedPaths: any;\n  _bindings: any;\n  _bindingsIndicesByPath: any;\n  stats: any;\n  static isAnimationObjectGroup: boolean = true;\n  constructor(var_args: any) {\n    this.uuid = _Math.generateUUID();\n    // cached objects followed by the active ones\n    this._objects = Array.prototype.slice.call(arguments);\n    this.nCachedObjects_ = 0;      // threshold\n    // note: read by PropertyBinding.Composite\n    let indices = {};\n    this._indicesByUUID = indices;    // for bookkeeping\n    for (let i = 0, n = arguments.length; i !== n; ++ i) {\n      indices[ arguments[ i ].uuid ] = i;\n    }\n    this._paths = [];          // inside: string\n    this._parsedPaths = [];        // inside: { we don't care, here }\n    this._bindings = [];         // inside: Array< PropertyBinding >\n    this._bindingsIndicesByPath = {};   // inside: indices in these arrays\n    let scope = this;\n    this.stats = {\n      objects: {\n        get total() { return scope._objects.length; },\n        get inUse() { return scope._objects.length - scope.nCachedObjects_; }\n      },\n      get bindingsPerObject() { return scope._bindings.length; }\n    };\n  }\n  add(var_args: any) {\n    let objects = this._objects,\n      nObjects = objects.length,\n      nCachedObjects = this.nCachedObjects_,\n      indicesByUUID = this._indicesByUUID,\n      paths = this._paths,\n      parsedPaths = this._parsedPaths,\n      bindings = this._bindings,\n      nBindings = bindings.length,\n      knownObject;\n    for (let i = 0, n = arguments.length; i !== n; ++ i) {\n      let object = arguments[ i ],\n        uuid = object.uuid,\n        index = indicesByUUID[ uuid ];\n      if (index === undefined) {\n        // unknown object -> add it to the ACTIVE region\n        index = nObjects ++;\n        indicesByUUID[ uuid ] = index;\n        objects.push(object);\n        // accounting is done, now do the same for all bindings\n        for (let j = 0, m = nBindings; j !== m; ++ j) {\n          bindings[ j ].push(\n              new PropertyBinding(\n                object, paths[ j ], parsedPaths[ j ]));\n        }\n      } else if (index < nCachedObjects) {\n        knownObject = objects[ index ];\n        // move existing object to the ACTIVE region\n        let firstActiveIndex = -- nCachedObjects,\n          lastCachedObject = objects[ firstActiveIndex ];\n        indicesByUUID[ lastCachedObject.uuid ] = index;\n        objects[ index ] = lastCachedObject;\n        indicesByUUID[ uuid ] = firstActiveIndex;\n        objects[ firstActiveIndex ] = object;\n        // accounting is done, now do the same for all bindings\n        for (let j = 0, m = nBindings; j !== m; ++ j) {\n          let bindingsForPath = bindings[ j ],\n            lastCached = bindingsForPath[ firstActiveIndex ],\n            binding = bindingsForPath[ index ];\n          bindingsForPath[ index ] = lastCached;\n          if (binding === undefined) {\n            // since we do not bother to create new bindings\n            // for objects that are cached, the binding may\n            // or may not exist\n            binding = new PropertyBinding(\n                object, paths[ j ], parsedPaths[ j ]);\n          }\n          bindingsForPath[ firstActiveIndex ] = binding;\n        }\n      } else if (objects[ index ] !== knownObject) {\n        console.error(\"Different objects with the same UUID \" +\n            \"detected. Clean the caches or recreate your \" +\n            \"infrastructure when reloading scenes...\");\n      } // else the object is already where we want it to be\n    } // for arguments\n    this.nCachedObjects_ = nCachedObjects;\n  }\n  remove(var_args: any) {\n    let objects = this._objects,\n      nCachedObjects = this.nCachedObjects_,\n      indicesByUUID = this._indicesByUUID,\n      bindings = this._bindings,\n      nBindings = bindings.length;\n    for (let i = 0, n = arguments.length; i !== n; ++ i) {\n      let object = arguments[ i ],\n        uuid = object.uuid,\n        index = indicesByUUID[ uuid ];\n      if (index !== undefined && index >= nCachedObjects) {\n        // move existing object into the CACHED region\n        let lastCachedIndex = nCachedObjects ++,\n          firstActiveObject = objects[ lastCachedIndex ];\n        indicesByUUID[ firstActiveObject.uuid ] = index;\n        objects[ index ] = firstActiveObject;\n        indicesByUUID[ uuid ] = lastCachedIndex;\n        objects[ lastCachedIndex ] = object;\n        // accounting is done, now do the same for all bindings\n        for (let j = 0, m = nBindings; j !== m; ++ j) {\n          let bindingsForPath = bindings[ j ],\n            firstActive = bindingsForPath[ lastCachedIndex ],\n            binding = bindingsForPath[ index ];\n          bindingsForPath[ index ] = firstActive;\n          bindingsForPath[ lastCachedIndex ] = binding;\n        }\n      }\n    } // for arguments\n    this.nCachedObjects_ = nCachedObjects;\n  }\n  // remove & forget\n  uncache(var_args: any) {\n    let objects = this._objects,\n      nObjects = objects.length,\n      nCachedObjects = this.nCachedObjects_,\n      indicesByUUID = this._indicesByUUID,\n      bindings = this._bindings,\n      nBindings = bindings.length;\n    for (let i = 0, n = arguments.length; i !== n; ++ i) {\n      let object = arguments[ i ],\n        uuid = object.uuid,\n        index = indicesByUUID[ uuid ];\n      if (index !== undefined) {\n        delete indicesByUUID[ uuid ];\n        if (index < nCachedObjects) {\n          // object is cached, shrink the CACHED region\n          let firstActiveIndex = -- nCachedObjects,\n            lastCachedObject = objects[ firstActiveIndex ],\n            lastIndex = -- nObjects,\n            lastObject = objects[ lastIndex ];\n          // last cached object takes this object's place\n          indicesByUUID[ lastCachedObject.uuid ] = index;\n          objects[ index ] = lastCachedObject;\n          // last object goes to the activated slot and pop\n          indicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n          objects[ firstActiveIndex ] = lastObject;\n          objects.pop();\n          // accounting is done, now do the same for all bindings\n          for (let j = 0, m = nBindings; j !== m; ++ j) {\n            let bindingsForPath = bindings[ j ],\n              lastCached = bindingsForPath[ firstActiveIndex ],\n              last = bindingsForPath[ lastIndex ];\n            bindingsForPath[ index ] = lastCached;\n            bindingsForPath[ firstActiveIndex ] = last;\n            bindingsForPath.pop();\n          }\n        } else {\n          // object is active, just swap with the last and pop\n          let lastIndex = -- nObjects,\n            lastObject = objects[ lastIndex ];\n          indicesByUUID[ lastObject.uuid ] = index;\n          objects[ index ] = lastObject;\n          objects.pop();\n          // accounting is done, now do the same for all bindings\n          for (let j = 0, m = nBindings; j !== m; ++ j) {\n            let bindingsForPath = bindings[ j ];\n            bindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n            bindingsForPath.pop();\n          }\n        } // cached or active\n      } // if object is known\n    } // for arguments\n    this.nCachedObjects_ = nCachedObjects;\n  }\n  // Internal interface used by befriended PropertyBinding.Composite:\n  subscribe_(path: any, parsedPath: any) {\n    // returns an array of bindings for the given path that is changed\n    // according to the contained objects in the group\n    let indicesByPath = this._bindingsIndicesByPath,\n      index = indicesByPath[ path ],\n      bindings = this._bindings;\n    if (index !== undefined) return bindings[ index ];\n    let paths = this._paths,\n      parsedPaths = this._parsedPaths,\n      objects = this._objects,\n      nObjects = objects.length,\n      nCachedObjects = this.nCachedObjects_,\n      bindingsForPath = new Array(nObjects);\n    index = bindings.length;\n    indicesByPath[ path ] = index;\n    paths.push(path);\n    parsedPaths.push(parsedPath);\n    bindings.push(bindingsForPath);\n    for (let i = nCachedObjects,\n        n = objects.length; i !== n; ++ i) {\n      let object = objects[ i ];\n      bindingsForPath[ i ] =\n          new PropertyBinding(object, path, parsedPath);\n    }\n    return bindingsForPath;\n  }\n  unsubscribe_(path: any) {\n    // tells the group to forget about a property path and no longer\n    // update the array previously obtained with 'subscribe_'\n    let indicesByPath = this._bindingsIndicesByPath,\n      index = indicesByPath[ path ];\n    if (index !== undefined) {\n      let paths = this._paths,\n        parsedPaths = this._parsedPaths,\n        bindings = this._bindings,\n        lastBindingsIndex = bindings.length - 1,\n        lastBindings = bindings[ lastBindingsIndex ],\n        lastBindingsPath = path[ lastBindingsIndex ];\n      indicesByPath[ lastBindingsPath ] = index;\n      bindings[ index ] = lastBindings;\n      bindings.pop();\n      parsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n      parsedPaths.pop();\n      paths[ index ] = paths[ lastBindingsIndex ];\n      paths.pop();\n    }\n  }\n}\n","/**\n *\n * A reference to a real property in the scene graph.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\nimport { AnimationObjectGroup } from \"./AnimationObjectGroup\";\ntype PropertyGetter = (targetArray: any, offset: number) => void;\ntype PropertySetter = (targetArray: any, offset: number) => void;\nexport class PropertyBinding {\n  path: any;\n  parsedPath: any;\n  node: any;\n  rootNode: any;\n  targetObject: any;\n  resolvedProperty: any;\n  propertyIndex: any;\n  propertyName: any;\n  // initial state of these methods that calls 'bind'\n  getValue: PropertyGetter = this._getValue_unbound;\n  setValue: PropertySetter = this._setValue_unbound;\n  constructor(rootNode: any, path: string, parsedPath?: string) {\n    this.path = path;\n    this.parsedPath = parsedPath || PropertyBinding.parseTrackName(path);\n    this.node = PropertyBinding.findNode(rootNode, this.parsedPath.nodeName) || rootNode;\n    this.rootNode = rootNode;\n  }\n  private _getValue_unbound(targetArray: any, offset: number): void {\n    this.bind();\n    this.getValue(targetArray, offset);\n    // Note: This class uses a State pattern on a per-method basis:\n    // 'bind' sets 'this.getValue' / 'setValue' and shadows the\n    // prototype version of these methods with one that represents\n    // the bound state. When the property is not found, the methods\n    // become no-ops.\n  }\n  private _setValue_unbound(sourceArray: any, offset: number): void {\n    this.bind();\n    this.setValue(sourceArray, offset);\n  }\n  // create getter / setter pair for a property in the scene graph\n  bind(): void {\n    let targetObject = this.node;\n    const parsedPath = this.parsedPath;\n    const objectName = parsedPath.objectName;\n    const propertyName = parsedPath.propertyName;\n    let propertyIndex = parsedPath.propertyIndex;\n    if (! targetObject) {\n      targetObject = PropertyBinding.findNode(\n          this.rootNode, parsedPath.nodeName) || this.rootNode;\n      this.node = targetObject;\n    }\n    // set fail state so we can just 'return' on error\n    this.getValue = this._getValue_unavailable;\n    this.setValue = this._setValue_unavailable;\n     // ensure there is a value node\n    if (! targetObject) {\n      console.error(\"  trying to update node for track: \" + this.path + \" but it wasn't found.\");\n      return;\n    }\n    if (objectName) {\n      let objectIndex = parsedPath.objectIndex;\n      // special cases were we need to reach deeper into the hierarchy to get the face materials....\n      switch (objectName) {\n        case 'materials':\n          if (! targetObject.material) {\n            console.error('  can not bind to material as node does not have a material', this);\n            return;\n          }\n          if (! targetObject.material.materials) {\n            console.error('  can not bind to material.materials as node.material does not have a materials array', this);\n            return;\n          }\n          targetObject = targetObject.material.materials;\n          break;\n        case 'bones':\n          if (! targetObject.skeleton) {\n            console.error('  can not bind to bones as node does not have a skeleton', this);\n            return;\n          }\n          // potential future optimization: skip this if propertyIndex is already an integer\n          // and convert the integer string to a true integer.\n          targetObject = targetObject.skeleton.bones;\n          // support resolving morphTarget names into indices.\n          for (let i = 0; i < targetObject.length; i ++) {\n            if (targetObject[ i ].name === objectIndex) {\n              objectIndex = i;\n              break;\n            }\n          }\n          break;\n        default:\n          if (targetObject[ objectName ] === undefined) {\n            console.error('  can not bind to objectName of node, undefined', this);\n            return;\n          }\n          targetObject = targetObject[ objectName ];\n      }\n      if (objectIndex !== undefined) {\n        if (targetObject[ objectIndex ] === undefined) {\n          console.error(\"  trying to bind to objectIndex of objectName, but is undefined:\", this, targetObject);\n          return;\n        }\n        targetObject = targetObject[ objectIndex ];\n      }\n    }\n    // resolve property\n    const nodeProperty = targetObject[ propertyName ];\n    if (nodeProperty === undefined) {\n      const nodeName = parsedPath.nodeName;\n      console.error(\"  trying to update property for track: \" + nodeName +\n          '.' + propertyName + \" but it wasn't found.\", targetObject);\n      return;\n    }\n    // determine versioning scheme\n    let versioning = this.Versioning.None;\n    if (targetObject.needsUpdate !== undefined) { // material\n      versioning = this.Versioning.NeedsUpdate;\n      this.targetObject = targetObject;\n    } else if (targetObject.matrixWorldNeedsUpdate !== undefined) { // node transform\n      versioning = this.Versioning.MatrixWorldNeedsUpdate;\n      this.targetObject = targetObject;\n    }\n    // determine how the property gets bound\n    let bindingType = this.BindingType.Direct;\n    if (propertyIndex !== undefined) {\n      // access a sub element of the property array (only primitives are supported right now)\n      if (propertyName === \"morphTargetInfluences\") {\n        // potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n        // support resolving morphTarget names into indices.\n        if (! targetObject.geometry) {\n          console.error('  can not bind to morphTargetInfluences becasuse node does not have a geometry', this);\n          return;\n        }\n        if (! targetObject.geometry.morphTargets) {\n          console.error('  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets', this);\n          return;\n        }\n        for (let i = 0; i < this.node.geometry.morphTargets.length; i ++) {\n          if (targetObject.geometry.morphTargets[ i ].name === propertyIndex) {\n            propertyIndex = i;\n            break;\n          }\n        }\n      }\n      bindingType = this.BindingType.ArrayElement;\n      this.resolvedProperty = nodeProperty;\n      this.propertyIndex = propertyIndex;\n    } else if (nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined) {\n      // must use copy for Object3D.Euler/Quaternion\n      bindingType = this.BindingType.HasFromToArray;\n      this.resolvedProperty = nodeProperty;\n    } else if (nodeProperty.length !== undefined) {\n      bindingType = this.BindingType.EntireArray;\n      this.resolvedProperty = nodeProperty;\n    } else {\n      this.propertyName = propertyName;\n    }\n    // select getter / setter\n    this.getValue = this.GetterByBindingType[ bindingType ];\n    this.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n  }\n  unbind(): void {\n    this.node = null;\n    // back to the prototype version of getValue / setValue\n    // note: avoiding to mutate the shape of 'this' via 'delete'\n    this.getValue = this._getValue_unbound;\n    this.setValue = this._setValue_unbound;\n  }\n  static Composite = class {\n    _targetGroup: any;\n    _bindings: any;\n    constructor(targetGroup: any, path: string, optionalParsedPath: string) {\n      const parsedPath = optionalParsedPath ||\n          PropertyBinding.parseTrackName(path);\n      this._targetGroup = targetGroup;\n      this._bindings = targetGroup.subscribe_(path, parsedPath);\n    }\n    getValue(array: any, offset: number): void {\n      this.bind(); // bind all binding\n      const firstValidIndex = this._targetGroup.nCachedObjects_,\n        binding = this._bindings[ firstValidIndex ];\n      // and only call .getValue on the first\n      if (binding !== undefined) binding.getValue(array, offset);\n    }\n    setValue(array: any, offset: number): void {\n      const bindings = this._bindings;\n      for (let i = this._targetGroup.nCachedObjects_,\n          n = bindings.length; i !== n; ++ i) {\n        bindings[ i ].setValue(array, offset);\n      }\n    }\n    bind(): void {\n      const bindings = this._bindings;\n      for (let i = this._targetGroup.nCachedObjects_,\n          n = bindings.length; i !== n; ++ i) {\n        bindings[ i ].bind();\n      }\n    }\n    unbind(): void {\n      const bindings = this._bindings;\n      for (let i = this._targetGroup.nCachedObjects_,\n          n = bindings.length; i !== n; ++ i) {\n        bindings[ i ].unbind();\n      }\n    }\n  };\n  // these are used to \"bind\" a nonexistent property\n  private _getValue_unavailable(targetArray: any, offset: number): void {}\n  private _setValue_unavailable(targetArray: any, offset: number): void {}\n  BindingType = {\n    Direct: 0,\n    EntireArray: 1,\n    ArrayElement: 2,\n    HasFromToArray: 3\n  };\n  Versioning = {\n    None: 0,\n    NeedsUpdate: 1,\n    MatrixWorldNeedsUpdate: 2\n  };\n  GetterByBindingType: PropertyGetter[] = [\n    this.getValue_direct,\n    this.getValue_array,\n    this.getValue_arrayElement,\n    this.getValue_toArray\n  ];\n  private getValue_direct(buffer: any, offset: number): void {\n    buffer[ offset ] = this.node[ this.propertyName ];\n  }\n  private getValue_array(buffer: any, offset: number): void {\n    const source = this.resolvedProperty;\n    for (let i = 0, n = source.length; i !== n; ++ i) {\n      buffer[ offset ++ ] = source[ i ];\n    }\n  }\n  private getValue_arrayElement(buffer: any, offset: number): void {\n    buffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n  }\n  private getValue_toArray(buffer: any, offset: number): void {\n    this.resolvedProperty.toArray(buffer, offset);\n  }\n  SetterByBindingTypeAndVersioning: PropertySetter[][] = [\n    [\n      // Direct\n      this.setValue_direct,\n      this.setValue_direct_setNeedsUpdate,\n      this.setValue_direct_setMatrixWorldNeedsUpdate\n    ], [\n      // EntireArray\n      this.setValue_array,\n      this.setValue_array_setNeedsUpdate,\n      this.setValue_array_setMatrixWorldNeedsUpdate\n    ], [\n      // ArrayElement\n      this.setValue_arrayElement,\n      this.setValue_arrayElement_setNeedsUpdate,\n      this.setValue_arrayElement_setMatrixWorldNeedsUpdate\n    ], [\n      // HasToFromArray\n      this.setValue_fromArray,\n      this.setValue_fromArray_setNeedsUpdate,\n      this.setValue_fromArray_setMatrixWorldNeedsUpdate\n    ]\n  ];\n  // Direct\n  private setValue_direct(buffer: any, offset: number): void {\n    this.node[ this.propertyName ] = buffer[ offset ];\n  }\n  private setValue_direct_setNeedsUpdate(buffer: any, offset: number): void {\n    this.node[ this.propertyName ] = buffer[ offset ];\n    this.targetObject.needsUpdate = true;\n  }\n  private setValue_direct_setMatrixWorldNeedsUpdate(buffer: any, offset: number): void {\n    this.node[ this.propertyName ] = buffer[ offset ];\n    this.targetObject.matrixWorldNeedsUpdate = true;\n  }\n  // EntireArray\n  private setValue_array(buffer: any, offset: number): void {\n    const dest = this.resolvedProperty;\n    for (let i = 0, n = dest.length; i !== n; ++ i) {\n      dest[ i ] = buffer[ offset ++ ];\n    }\n  }\n  private setValue_array_setNeedsUpdate(buffer: any, offset: number): void {\n    const dest = this.resolvedProperty;\n    for (let i = 0, n = dest.length; i !== n; ++ i) {\n      dest[ i ] = buffer[ offset ++ ];\n    }\n    this.targetObject.needsUpdate = true;\n  }\n  private setValue_array_setMatrixWorldNeedsUpdate(buffer: any, offset: number): void {\n    const dest = this.resolvedProperty;\n    for (let i = 0, n = dest.length; i !== n; ++ i) {\n      dest[ i ] = buffer[ offset ++ ];\n    }\n    this.targetObject.matrixWorldNeedsUpdate = true;\n  }\n  // ArrayElement\n  private setValue_arrayElement(buffer: any, offset: number): void {\n    this.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n  }\n  private setValue_arrayElement_setNeedsUpdate(buffer: any, offset: number): void {\n    this.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n    this.targetObject.needsUpdate = true;\n  }\n  private setValue_arrayElement_setMatrixWorldNeedsUpdate(buffer: any, offset: number) {\n    this.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n    this.targetObject.matrixWorldNeedsUpdate = true;\n  }\n  // HasToFromArray\n  private setValue_fromArray(buffer: any, offset: number): void {\n    this.resolvedProperty.fromArray(buffer, offset);\n  }\n  private setValue_fromArray_setNeedsUpdate(buffer: any, offset: number): void {\n    this.resolvedProperty.fromArray(buffer, offset);\n    this.targetObject.needsUpdate = true;\n  }\n  private setValue_fromArray_setMatrixWorldNeedsUpdate(buffer: any, offset: number): void {\n    this.resolvedProperty.fromArray(buffer, offset);\n    this.targetObject.matrixWorldNeedsUpdate = true;\n  }\n  static create(root: any, path: any, parsedPath: any): any {\n    if (! ((root && root instanceof AnimationObjectGroup))) {\n      return new PropertyBinding(root, path, parsedPath);\n    } else {\n      return new PropertyBinding.Composite(root, path, parsedPath);\n    }\n  }\n  static parseTrackName(trackName: string): any {\n    // matches strings in the form of:\n    //    nodeName.property\n    //    nodeName.property[accessor]\n    //    nodeName.material.property[accessor]\n    //    uuid.property[accessor]\n    //    uuid.objectName[objectIndex].propertyName[propertyIndex]\n    //    parentName/nodeName.property\n    //    parentName/parentName/nodeName.property[index]\n    //    .bone[Armature.DEF_cog].position\n    //    scene:helium_balloon_model:helium_balloon_model.position\n    // created and tested via https://regex101.com/#javascript\n    const re: RegExp = /^((?:\\w+[\\/:])*)(\\w+)?(?:\\.(\\w+)(?:\\[(.+)\\])?)?\\.(\\w+)(?:\\[(.+)\\])?$/;\n    const matches = re.exec(trackName);\n    if (! matches) {\n      throw new Error(\"cannot parse trackName at all: \" + trackName);\n    }\n    const results = {\n      // directoryName: matches[ 1 ], // (tschw) currently unused\n      nodeName: matches[ 2 ],   // allowed to be null, specified root node.\n      objectName: matches[ 3 ],\n      objectIndex: matches[ 4 ],\n      propertyName: matches[ 5 ],\n      propertyIndex: matches[ 6 ]  // allowed to be null, specifies that the whole property is set.\n    };\n    if (results.propertyName === null || results.propertyName.length === 0) {\n      throw new Error(\"can not parse propertyName from trackName: \" + trackName);\n    }\n    return results;\n  }\n  static findNode(root: any, nodeName: string | number): any {\n    if (! nodeName || nodeName === \"\" || nodeName === \"root\" || nodeName === \".\" || nodeName === -1 || nodeName === root.name || nodeName === root.uuid) {\n      return root;\n    }\n    // search into skeleton bones.\n    if (root.skeleton) {\n      const searchSkeleton = function(skeleton: any) {\n        for (let i = 0; i < skeleton.bones.length; i ++) {\n          const bone = skeleton.bones[ i ];\n          if (bone.name === nodeName) {\n            return bone;\n          }\n        }\n        return null;\n      };\n      const bone = searchSkeleton(root.skeleton);\n      if (bone) {\n        return bone;\n      }\n    }\n    // search into node subtree.\n    if (root.children) {\n      const searchNodeSubtree = function(children: any): any {\n        for (let i = 0; i < children.length; i ++) {\n          const childNode = children[ i ];\n          if (childNode.name === nodeName || childNode.uuid === nodeName) {\n            return childNode;\n          }\n          const result = searchNodeSubtree(childNode.children);\n          if (result) return result;\n        }\n        return null;\n      };\n      const subTreeNode = searchNodeSubtree(root.children);\n      if (subTreeNode) {\n        return subTreeNode;\n      }\n    }\n    return null;\n  }\n}\n","import { EndingMode, LoopMode } from \"../constants\";\n/**\n *\n * Action provided by AnimationMixer for scheduling clip playback on specific\n * objects.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n *\n */\nexport class AnimationAction {\n  private _mixer: any;\n  private _clip: any;\n  private _localRoot: any;\n  private _interpolantSettings: any;\n  private _interpolants: any;\n  private _propertyBindings: any;\n  private _cacheIndex: any;\n  private _byClipCacheIndex: any;\n  private _timeScaleInterpolant: any;\n  private _weightInterpolant: any;\n  loop: LoopMode;\n  private _loopCount: any;\n  private _startTime: any;\n  time: any;\n  timeScale: any;\n  private _effectiveTimeScale: any;\n  weight: any;\n  private _effectiveWeight: any;\n  repetitions: any;\n  paused: any;\n  enabled: any;\n  clampWhenFinished: any;\n  zeroSlopeAtStart: any;\n  zeroSlopeAtEnd: any;\n  loopCount: any;\n  constructor(mixer: any, clip: any, localRoot: any) {\n    this._mixer = mixer;\n    this._clip = clip;\n    this._localRoot = localRoot || null;\n    let tracks = clip.tracks,\n      nTracks = tracks.length,\n      interpolants = new Array(nTracks);\n    let interpolantSettings = {\n        endingStart:   EndingMode.ZeroCurvature,\n        endingEnd:    EndingMode.ZeroCurvature\n    };\n    for (let i = 0; i !== nTracks; ++ i) {\n      let interpolant = tracks[ i ].createInterpolant(null);\n      interpolants[ i ] = interpolant;\n      interpolant.settings = interpolantSettings;\n    }\n    this._interpolantSettings = interpolantSettings;\n    this._interpolants = interpolants;  // bound by the mixer\n    // inside: PropertyMixer (managed by the mixer)\n    this._propertyBindings = new Array(nTracks);\n    this._cacheIndex = null;      // for the memory manager\n    this._byClipCacheIndex = null;    // for the memory manager\n    this._timeScaleInterpolant = null;\n    this._weightInterpolant = null;\n    this.loop = LoopMode.Repeat;\n    this._loopCount = -1;\n    // global mixer time when the action is to be started\n    // it's set back to 'null' upon start of the action\n    this._startTime = null;\n    // scaled local time of the action\n    // gets clamped or wrapped to 0..clip.duration according to loop\n    this.time = 0;\n    this.timeScale = 1;\n    this._effectiveTimeScale = 1;\n    this.weight = 1;\n    this._effectiveWeight = 1;\n    this.repetitions = Infinity;     // no. of repetitions when looping\n    this.paused = false;        // false -> zero effective time scale\n    this.enabled = true;        // true -> zero effective weight\n    this.clampWhenFinished   = false;  // keep feeding the last frame?\n    this.zeroSlopeAtStart   = true;    // for smooth interpolation w/o separate\n    this.zeroSlopeAtEnd    = true;    // clips for start, loop and end\n  }\n  // State & Scheduling\n  play() {\n    this._mixer._activateAction(this);\n    return this;\n  }\n  stop() {\n    this._mixer._deactivateAction(this);\n    return this.reset();\n  }\n  reset() {\n    this.paused = false;\n    this.enabled = true;\n    this.time = 0;      // restart clip\n    this._loopCount = -1;  // forget previous loops\n    this._startTime = null;  // forget scheduling\n    return this.stopFading().stopWarping();\n  }\n  isRunning() {\n    return this.enabled && ! this.paused && this.timeScale !== 0 &&\n        this._startTime === null && this._mixer._isActiveAction(this);\n  }\n  // return true when play has been called\n  isScheduled() {\n    return this._mixer._isActiveAction(this);\n  }\n  startAt(time: number): AnimationAction {\n    this._startTime = time;\n    return this;\n  }\n  setLoop(mode: any, repetitions: number): AnimationAction {\n    this.loop = mode;\n    this.repetitions = repetitions;\n    return this;\n  }\n  // Weight\n  // set the weight stopping any scheduled fading\n  // although .enabled = false yields an effective weight of zero, this\n  // method does *not* change .enabled, because it would be confusing\n  setEffectiveWeight(weight: number): AnimationAction {\n    this.weight = weight;\n    // note: same logic as when updated at runtime\n    this._effectiveWeight = this.enabled ? weight : 0;\n    return this.stopFading();\n  }\n  // return the weight considering fading and .enabled\n  getEffectiveWeight(): number {\n    return this._effectiveWeight;\n  }\n  fadeIn(duration: number): AnimationAction {\n    return this._scheduleFading(duration, 0, 1);\n  }\n  fadeOut(duration: number): AnimationAction {\n    return this._scheduleFading(duration, 1, 0);\n  }\n  crossFadeFrom(fadeOutAction: any, duration: number, warp: boolean): AnimationAction {\n    fadeOutAction.fadeOut(duration);\n    this.fadeIn(duration);\n    if (warp) {\n      let fadeInDuration = this._clip.duration,\n        fadeOutDuration = fadeOutAction._clip.duration,\n        startEndRatio = fadeOutDuration / fadeInDuration,\n        endStartRatio = fadeInDuration / fadeOutDuration;\n      fadeOutAction.warp(1.0, startEndRatio, duration);\n      this.warp(endStartRatio, 1.0, duration);\n    }\n    return this;\n  }\n  crossFadeTo(fadeInAction: any, duration: number, warp: boolean): AnimationAction {\n    return fadeInAction.crossFadeFrom(this, duration, warp);\n  }\n  stopFading(): AnimationAction {\n    let weightInterpolant = this._weightInterpolant;\n    if (weightInterpolant !== null) {\n      this._weightInterpolant = null;\n      this._mixer._takeBackControlInterpolant(weightInterpolant);\n    }\n    return this;\n  }\n  // Time Scale Control\n  // set the weight stopping any scheduled warping\n  // although .paused = true yields an effective time scale of zero, this\n  // method does *not* change .paused, because it would be confusing\n  setEffectiveTimeScale(timeScale: number): AnimationAction {\n    this.timeScale = timeScale;\n    this._effectiveTimeScale = this.paused ? 0 : timeScale;\n    return this.stopWarping();\n  }\n  // return the time scale considering warping and .paused\n  getEffectiveTimeScale(): number {\n    return this._effectiveTimeScale;\n  }\n  setDuration(duration: number): AnimationAction {\n    this.timeScale = this._clip.duration / duration;\n    return this.stopWarping();\n  }\n  syncWith(action: any): AnimationAction {\n    this.time = action.time;\n    this.timeScale = action.timeScale;\n    return this.stopWarping();\n  }\n  halt(duration: number): AnimationAction {\n    return this.warp(this._effectiveTimeScale, 0, duration);\n  }\n  warp(startTimeScale: number, endTimeScale: number, duration: number): AnimationAction {\n    let mixer = this._mixer, now = mixer.time,\n      interpolant = this._timeScaleInterpolant,\n      timeScale = this.timeScale;\n    if (interpolant === null) {\n      interpolant = mixer._lendControlInterpolant(),\n      this._timeScaleInterpolant = interpolant;\n    }\n    let times = interpolant.parameterPositions,\n      values = interpolant.sampleValues;\n    times[ 0 ] = now;\n    times[ 1 ] = now + duration;\n    values[ 0 ] = startTimeScale / timeScale;\n    values[ 1 ] = endTimeScale / timeScale;\n    return this;\n  }\n  stopWarping(): AnimationAction {\n    let timeScaleInterpolant = this._timeScaleInterpolant;\n    if (timeScaleInterpolant !== null) {\n      this._timeScaleInterpolant = null;\n      this._mixer._takeBackControlInterpolant(timeScaleInterpolant);\n    }\n    return this;\n  }\n  // Object Accessors\n  getMixer() {\n    return this._mixer;\n  }\n  getClip() {\n    return this._clip;\n  }\n  getRoot() {\n    return this._localRoot || this._mixer._root;\n  }\n  // Interna\n  _update(time: number, deltaTime: number, timeDirection: number, accuIndex: number) {\n    // called by the mixer\n    let startTime = this._startTime;\n    if (startTime !== null) {\n      // check for scheduled start of action\n      let timeRunning = (time - startTime) * timeDirection;\n      if (timeRunning < 0 || timeDirection === 0) {\n        return; // yet to come / don't decide when delta = 0\n      }\n      // start\n      this._startTime = null; // unschedule\n      deltaTime = timeDirection * timeRunning;\n    }\n    // apply time scale and advance time\n    deltaTime *= this._updateTimeScale(time);\n    let clipTime = this._updateTime(deltaTime);\n    // note: _updateTime may disable the action resulting in\n    // an effective weight of 0\n    let weight = this._updateWeight(time);\n    if (weight > 0) {\n      let interpolants = this._interpolants;\n      let propertyMixers = this._propertyBindings;\n      for (let j = 0, m = interpolants.length; j !== m; ++ j) {\n        interpolants[ j ].evaluate(clipTime);\n        propertyMixers[ j ].accumulate(accuIndex, weight);\n      }\n    }\n  }\n  private _updateWeight(time: number) {\n    let weight = 0;\n    if (this.enabled) {\n      weight = this.weight;\n      let interpolant = this._weightInterpolant;\n      if (interpolant !== null) {\n        let interpolantValue = interpolant.evaluate(time)[ 0 ];\n        weight *= interpolantValue;\n        if (time > interpolant.parameterPositions[ 1 ]) {\n          this.stopFading();\n          if (interpolantValue === 0) {\n            // faded out, disable\n            this.enabled = false;\n          }\n        }\n      }\n    }\n    this._effectiveWeight = weight;\n    return weight;\n  }\n  private _updateTimeScale(time: number) {\n    let timeScale = 0;\n    if (! this.paused) {\n      timeScale = this.timeScale;\n      let interpolant = this._timeScaleInterpolant;\n      if (interpolant !== null) {\n        let interpolantValue = interpolant.evaluate(time)[ 0 ];\n        timeScale *= interpolantValue;\n        if (time > interpolant.parameterPositions[ 1 ]) {\n          this.stopWarping();\n          if (timeScale === 0) {\n            // motion has halted, pause\n            this.paused = true;\n          } else {\n            // warp done - apply final time scale\n            this.timeScale = timeScale;\n          }\n        }\n      }\n    }\n    this._effectiveTimeScale = timeScale;\n    return timeScale;\n  }\n  private _updateTime(deltaTime: number) {\n    let time = this.time + deltaTime;\n    if (deltaTime === 0) return time;\n    let duration = this._clip.duration,\n      loop = this.loop,\n      loopCount = this._loopCount;\n    if (loop === LoopMode.Once) {\n      if (loopCount === -1) {\n        // just started\n        this.loopCount = 0;\n        this._setEndings(true, true, false);\n      }\n      handle_stop: {\n        if (time >= duration) {\n          time = duration;\n        } else if (time < 0) {\n          time = 0;\n        } else break handle_stop;\n        if (this.clampWhenFinished) this.paused = true;\n        else this.enabled = false;\n        this._mixer.dispatchEvent({\n          type: 'finished', action: this,\n          direction: deltaTime < 0 ? -1 : 1\n        });\n      }\n    } else { // repetitive Repeat or PingPong\n      let pingPong = (loop === LoopMode.PingPong);\n      if (loopCount === -1) {\n        // just started\n        if (deltaTime >= 0) {\n          loopCount = 0;\n          this._setEndings(\n              true, this.repetitions === 0, pingPong);\n        } else {\n          // when looping in reverse direction, the initial\n          // transition through zero counts as a repetition,\n          // so leave loopCount at -1\n          this._setEndings(\n              this.repetitions === 0, true, pingPong);\n        }\n      }\n      if (time >= duration || time < 0) {\n        // wrap around\n        let loopDelta = Math.floor(time / duration); // signed\n        time -= duration * loopDelta;\n        loopCount += Math.abs(loopDelta);\n        let pending = this.repetitions - loopCount;\n        if (pending < 0) {\n          // have to stop (switch state, clamp time, fire event)\n          if (this.clampWhenFinished) this.paused = true;\n          else this.enabled = false;\n          time = deltaTime > 0 ? duration : 0;\n          this._mixer.dispatchEvent({\n            type: 'finished', action: this,\n            direction: deltaTime > 0 ? 1 : -1\n          });\n        } else {\n          // keep running\n          if (pending === 0) {\n            // entering the last round\n            let atStart = deltaTime < 0;\n            this._setEndings(atStart, ! atStart, pingPong);\n          } else {\n            this._setEndings(false, false, pingPong);\n          }\n          this._loopCount = loopCount;\n          this._mixer.dispatchEvent({\n            type: 'loop', action: this, loopDelta: loopDelta\n          });\n        }\n      }\n      if (pingPong && (loopCount & 1) === 1) {\n        // invert time for the \"pong round\"\n        this.time = time;\n        return duration - time;\n      }\n    }\n    this.time = time;\n    return time;\n  }\n  private _setEndings(atStart: boolean, atEnd: boolean, pingPong: boolean) {\n    let settings = this._interpolantSettings;\n    if (pingPong) {\n      settings.endingStart   = EndingMode.ZeroSlope;\n      settings.endingEnd    = EndingMode.ZeroSlope;\n    } else {\n      // assuming for LoopMode.Once atStart == atEnd == true\n      if (atStart) {\n        settings.endingStart = this.zeroSlopeAtStart ?\n            EndingMode.ZeroSlope : EndingMode.ZeroCurvature;\n      } else {\n        settings.endingStart = EndingMode.WrapAround;\n      }\n      if (atEnd) {\n        settings.endingEnd = this.zeroSlopeAtEnd ?\n            EndingMode.ZeroSlope : EndingMode.ZeroCurvature;\n      } else {\n        settings.endingEnd    = EndingMode.WrapAround;\n      }\n    }\n  }\n  private _scheduleFading(duration: number, weightNow: number, weightThen: number) {\n    let mixer = this._mixer, now = mixer.time,\n      interpolant = this._weightInterpolant;\n    if (interpolant === null) {\n      interpolant = mixer._lendControlInterpolant(),\n      this._weightInterpolant = interpolant;\n    }\n    let times = interpolant.parameterPositions,\n      values = interpolant.sampleValues;\n    times[ 0 ] = now;         values[ 0 ] = weightNow;\n    times[ 1 ] = now + duration;  values[ 1 ] = weightThen;\n    return this;\n  }\n}\n","import { AnimationAction } from \"./AnimationAction\";\nimport { EventDispatcher } from \"../core/EventDispatcher\";\nimport { LinearInterpolant } from \"../math/interpolants/LinearInterpolant\";\nimport { PropertyBinding } from \"./PropertyBinding\";\nimport { PropertyMixer } from \"./PropertyMixer\";\nimport { AnimationClip } from \"./AnimationClip\";\n/**\n *\n * Player for AnimationClips.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\nexport class AnimationMixer extends EventDispatcher {\n  time: any;\n  timeScale: any;\n  stats: any;\n  _root: any;\n  _accuIndex: any;\n  _actions: any;\n  _nActiveActions: any;\n  _bindings: any;\n  _nActiveBindings: any;\n  _controlInterpolants: any;\n  _nActiveControlInterpolants: any;\n  _actionsByClip: any;\n  _bindingsByRootAndName: any;\n  constructor(root: any) {\n    super();\n    this._root = root;\n    this._initMemoryManager();\n    this._accuIndex = 0;\n    this.time = 0;\n    this.timeScale = 1.0;\n  }\n  // return an action for a clip optionally using a custom root target\n  // object (this method allocates a lot of dynamic memory in case a\n  // previously unknown clip/root combination is specified)\n  clipAction(clip: any, optionalRoot: any) {\n    let root = optionalRoot || this._root,\n      rootUuid = root.uuid,\n      clipObject = typeof clip === 'string' ?\n          AnimationClip.findByName(root, clip) : clip,\n      clipUuid = clipObject !== null ? clipObject.uuid : clip,\n      actionsForClip = this._actionsByClip[ clipUuid ],\n      prototypeAction = null;\n    if (actionsForClip !== undefined) {\n      let existingAction =\n          actionsForClip.actionByRoot[ rootUuid ];\n      if (existingAction !== undefined) {\n        return existingAction;\n      }\n      // we know the clip, so we don't have to parse all\n      // the bindings again but can just copy\n      prototypeAction = actionsForClip.knownActions[ 0 ];\n      // also, take the clip from the prototype action\n      if (clipObject === null)\n        clipObject = prototypeAction._clip;\n    }\n    // clip must be known when specified via string\n    if (clipObject === null) return null;\n    // allocate all resources required to run it\n    let newAction = new AnimationAction(this, clipObject, optionalRoot);\n    this._bindAction(newAction, prototypeAction);\n    // and make the action known to the memory manager\n    this._addInactiveAction(newAction, clipUuid, rootUuid);\n    return newAction;\n  }\n  // get an existing action\n  existingAction(clip: any, optionalRoot: any) {\n    let root = optionalRoot || this._root,\n      rootUuid = root.uuid,\n      clipObject = typeof clip === 'string' ?\n          AnimationClip.findByName(root, clip) : clip,\n      clipUuid = clipObject ? clipObject.uuid : clip,\n      actionsForClip = this._actionsByClip[ clipUuid ];\n    if (actionsForClip !== undefined) {\n      return actionsForClip.actionByRoot[ rootUuid ] || null;\n    }\n    return null;\n  }\n  // deactivates all previously scheduled actions\n  stopAllAction() {\n    let actions = this._actions,\n      nActions = this._nActiveActions,\n      bindings = this._bindings,\n      nBindings = this._nActiveBindings;\n    this._nActiveActions = 0;\n    this._nActiveBindings = 0;\n    for (let i = 0; i !== nActions; ++ i) {\n      actions[ i ].reset();\n    }\n    for (let i = 0; i !== nBindings; ++ i) {\n      bindings[ i ].useCount = 0;\n    }\n    return this;\n  }\n  // advance the time and update apply the animation\n  update(deltaTime: any) {\n    deltaTime *= this.timeScale;\n    let actions = this._actions,\n      nActions = this._nActiveActions,\n      time = this.time += deltaTime,\n      timeDirection = Math.sign(deltaTime),\n      accuIndex = this._accuIndex ^= 1;\n    // run active actions\n    for (let i = 0; i !== nActions; ++ i) {\n      let action = actions[ i ];\n      if (action.enabled) {\n        action._update(time, deltaTime, timeDirection, accuIndex);\n      }\n    }\n    // update scene graph\n    let bindings = this._bindings,\n      nBindings = this._nActiveBindings;\n    for (let i = 0; i !== nBindings; ++ i) {\n      bindings[ i ].apply(accuIndex);\n    }\n    return this;\n  }\n  // return this mixer's root target object\n  getRoot() {\n    return this._root;\n  }\n  // free all resources specific to a particular clip\n  uncacheClip(clip: any) {\n    let actions = this._actions,\n      clipUuid = clip.uuid,\n      actionsByClip = this._actionsByClip,\n      actionsForClip = actionsByClip[ clipUuid ];\n    if (actionsForClip !== undefined) {\n      // note: just calling _removeInactiveAction would mess up the\n      // iteration state and also require updating the state we can\n      // just throw away\n      let actionsToRemove = actionsForClip.knownActions;\n      for (let i = 0, n = actionsToRemove.length; i !== n; ++ i) {\n        let action = actionsToRemove[ i ];\n        this._deactivateAction(action);\n        let cacheIndex = action._cacheIndex,\n          lastInactiveAction = actions[ actions.length - 1 ];\n        action._cacheIndex = null;\n        action._byClipCacheIndex = null;\n        lastInactiveAction._cacheIndex = cacheIndex;\n        actions[ cacheIndex ] = lastInactiveAction;\n        actions.pop();\n        this._removeInactiveBindingsForAction(action);\n      }\n      delete actionsByClip[ clipUuid ];\n    }\n  }\n  // free all resources specific to a particular root target object\n  uncacheRoot(root: any) {\n    let rootUuid = root.uuid,\n      actionsByClip = this._actionsByClip;\n    for (let clipUuid in actionsByClip) {\n      let actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n        action = actionByRoot[ rootUuid ];\n      if (action !== undefined) {\n        this._deactivateAction(action);\n        this._removeInactiveAction(action);\n      }\n    }\n    let bindingsByRoot = this._bindingsByRootAndName,\n      bindingByName = bindingsByRoot[ rootUuid ];\n    if (bindingByName !== undefined) {\n      for (let trackName in bindingByName) {\n        let binding = bindingByName[ trackName ];\n        binding.restoreOriginalState();\n        this._removeInactiveBinding(binding);\n      }\n    }\n  }\n  // remove a targeted clip from the cache\n  uncacheAction(clip: any, optionalRoot: any) {\n    let action = this.existingAction(clip, optionalRoot);\n    if (action !== null) {\n      this._deactivateAction(action);\n      this._removeInactiveAction(action);\n    }\n  }\n  // Implementation details:\n  _bindAction(action: any, prototypeAction: any) {\n    let root = action._localRoot || this._root,\n      tracks = action._clip.tracks,\n      nTracks = tracks.length,\n      bindings = action._propertyBindings,\n      interpolants = action._interpolants,\n      rootUuid = root.uuid,\n      bindingsByRoot = this._bindingsByRootAndName,\n      bindingsByName = bindingsByRoot[ rootUuid ];\n    if (bindingsByName === undefined) {\n      bindingsByName = {};\n      bindingsByRoot[ rootUuid ] = bindingsByName;\n    }\n    for (let i = 0; i !== nTracks; ++ i) {\n      let track = tracks[ i ],\n        trackName = track.name,\n        binding = bindingsByName[ trackName ];\n      if (binding !== undefined) {\n        bindings[ i ] = binding;\n      } else {\n        binding = bindings[ i ];\n        if (binding !== undefined) {\n          // existing binding, make sure the cache knows\n          if (binding._cacheIndex === null) {\n            ++ binding.referenceCount;\n            this._addInactiveBinding(binding, rootUuid, trackName);\n          }\n          continue;\n        }\n        let path = prototypeAction && prototypeAction.\n            _propertyBindings[ i ].binding.parsedPath;\n        binding = new PropertyMixer(\n            PropertyBinding.create(root, trackName, path),\n            track.ValueTypeName, track.getValueSize());\n        ++ binding.referenceCount;\n        this._addInactiveBinding(binding, rootUuid, trackName);\n        bindings[ i ] = binding;\n      }\n      interpolants[ i ].resultBuffer = binding.buffer;\n    }\n  }\n  _activateAction(action: any) {\n    if (! this._isActiveAction(action)) {\n      if (action._cacheIndex === null) {\n        // this action has been forgotten by the cache, but the user\n        // appears to be still using it -> rebind\n        let rootUuid = (action._localRoot || this._root).uuid,\n          clipUuid = action._clip.uuid,\n          actionsForClip = this._actionsByClip[ clipUuid ];\n        this._bindAction(action,\n            actionsForClip && actionsForClip.knownActions[ 0 ]);\n        this._addInactiveAction(action, clipUuid, rootUuid);\n      }\n      let bindings = action._propertyBindings;\n      // increment reference counts / sort out state\n      for (let i = 0, n = bindings.length; i !== n; ++ i) {\n        let binding = bindings[ i ];\n        if (binding.useCount ++ === 0) {\n          this._lendBinding(binding);\n          binding.saveOriginalState();\n        }\n      }\n      this._lendAction(action);\n    }\n  }\n  _deactivateAction(action: any) {\n    if (this._isActiveAction(action)) {\n      let bindings = action._propertyBindings;\n      // decrement reference counts / sort out state\n      for (let i = 0, n = bindings.length; i !== n; ++ i) {\n        let binding = bindings[ i ];\n        if (-- binding.useCount === 0) {\n          binding.restoreOriginalState();\n          this._takeBackBinding(binding);\n        }\n      }\n      this._takeBackAction(action);\n    }\n  }\n  // Memory manager\n  _initMemoryManager() {\n    this._actions = []; // 'nActiveActions' followed by inactive ones\n    this._nActiveActions = 0;\n    this._actionsByClip = {};\n    // inside:\n    // {\n    //     knownActions: Array< AnimationAction >  - used as prototypes\n    //     actionByRoot: AnimationAction      - lookup\n    // }\n    this._bindings = []; // 'nActiveBindings' followed by inactive ones\n    this._nActiveBindings = 0;\n    this._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n    this._controlInterpolants = []; // same game as above\n    this._nActiveControlInterpolants = 0;\n    let scope = this;\n    this.stats = {\n      actions: {\n        get total() { return scope._actions.length; },\n        get inUse() { return scope._nActiveActions; }\n      },\n      bindings: {\n        get total() { return scope._bindings.length; },\n        get inUse() { return scope._nActiveBindings; }\n      },\n      controlInterpolants: {\n        get total() { return scope._controlInterpolants.length; },\n        get inUse() { return scope._nActiveControlInterpolants; }\n      }\n    };\n  }\n  // Memory management for AnimationAction objects\n  _isActiveAction(action: any) {\n    let index = action._cacheIndex;\n    return index !== null && index < this._nActiveActions;\n  }\n  _addInactiveAction(action: any, clipUuid: any, rootUuid: any) {\n    let actions = this._actions,\n      actionsByClip = this._actionsByClip,\n      actionsForClip = actionsByClip[ clipUuid ];\n    if (actionsForClip === undefined) {\n      actionsForClip = {\n        knownActions: [ action ],\n        actionByRoot: {}\n      };\n      action._byClipCacheIndex = 0;\n      actionsByClip[ clipUuid ] = actionsForClip;\n    } else {\n      let knownActions = actionsForClip.knownActions;\n      action._byClipCacheIndex = knownActions.length;\n      knownActions.push(action);\n    }\n    action._cacheIndex = actions.length;\n    actions.push(action);\n    actionsForClip.actionByRoot[ rootUuid ] = action;\n  }\n  _removeInactiveAction(action: any) {\n    let actions = this._actions,\n      lastInactiveAction = actions[ actions.length - 1 ],\n      cacheIndex = action._cacheIndex;\n    lastInactiveAction._cacheIndex = cacheIndex;\n    actions[ cacheIndex ] = lastInactiveAction;\n    actions.pop();\n    action._cacheIndex = null;\n    let clipUuid = action._clip.uuid,\n      actionsByClip = this._actionsByClip,\n      actionsForClip = actionsByClip[ clipUuid ],\n      knownActionsForClip = actionsForClip.knownActions,\n      lastKnownAction =\n        knownActionsForClip[ knownActionsForClip.length - 1 ],\n      byClipCacheIndex = action._byClipCacheIndex;\n    lastKnownAction._byClipCacheIndex = byClipCacheIndex;\n    knownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n    knownActionsForClip.pop();\n    action._byClipCacheIndex = null;\n    let actionByRoot = actionsForClip.actionByRoot,\n      rootUuid = (actions._localRoot || this._root).uuid;\n    delete actionByRoot[ rootUuid ];\n    if (knownActionsForClip.length === 0) {\n      delete actionsByClip[ clipUuid ];\n    }\n    this._removeInactiveBindingsForAction(action);\n  }\n  _removeInactiveBindingsForAction(action: any) {\n    let bindings = action._propertyBindings;\n    for (let i = 0, n = bindings.length; i !== n; ++ i) {\n      let binding = bindings[ i ];\n      if (-- binding.referenceCount === 0) {\n        this._removeInactiveBinding(binding);\n      }\n    }\n  }\n  _lendAction(action: any) {\n    // [ active actions |  inactive actions  ]\n    // [  active actions >| inactive actions ]\n    //                 s        a\n    //                  <-swap->\n    //                 a        s\n    let actions = this._actions,\n      prevIndex = action._cacheIndex,\n      lastActiveIndex = this._nActiveActions ++,\n      firstInactiveAction = actions[ lastActiveIndex ];\n    action._cacheIndex = lastActiveIndex;\n    actions[ lastActiveIndex ] = action;\n    firstInactiveAction._cacheIndex = prevIndex;\n    actions[ prevIndex ] = firstInactiveAction;\n  }\n  _takeBackAction(action: any) {\n    // [  active actions  | inactive actions ]\n    // [ active actions |< inactive actions  ]\n    //        a        s\n    //         <-swap->\n    //        s        a\n    let actions = this._actions,\n      prevIndex = action._cacheIndex,\n      firstInactiveIndex = -- this._nActiveActions,\n      lastActiveAction = actions[ firstInactiveIndex ];\n    action._cacheIndex = firstInactiveIndex;\n    actions[ firstInactiveIndex ] = action;\n    lastActiveAction._cacheIndex = prevIndex;\n    actions[ prevIndex ] = lastActiveAction;\n  }\n  // Memory management for PropertyMixer objects\n  _addInactiveBinding(binding: any, rootUuid: any, trackName: any) {\n    let bindingsByRoot = this._bindingsByRootAndName,\n      bindingByName = bindingsByRoot[ rootUuid ],\n      bindings = this._bindings;\n    if (bindingByName === undefined) {\n      bindingByName = {};\n      bindingsByRoot[ rootUuid ] = bindingByName;\n    }\n    bindingByName[ trackName ] = binding;\n    binding._cacheIndex = bindings.length;\n    bindings.push(binding);\n  }\n  _removeInactiveBinding(binding: any) {\n    let bindings = this._bindings,\n      propBinding = binding.binding,\n      rootUuid = propBinding.rootNode.uuid,\n      trackName = propBinding.path,\n      bindingsByRoot = this._bindingsByRootAndName,\n      bindingByName = bindingsByRoot[ rootUuid ],\n      lastInactiveBinding = bindings[ bindings.length - 1 ],\n      cacheIndex = binding._cacheIndex;\n    lastInactiveBinding._cacheIndex = cacheIndex;\n    bindings[ cacheIndex ] = lastInactiveBinding;\n    bindings.pop();\n    delete bindingByName[ trackName ];\n    remove_empty_map: {\n      for (let _ in bindingByName) break remove_empty_map;\n      delete bindingsByRoot[ rootUuid ];\n    }\n  }\n  _lendBinding(binding: any) {\n    let bindings = this._bindings,\n      prevIndex = binding._cacheIndex,\n      lastActiveIndex = this._nActiveBindings ++,\n      firstInactiveBinding = bindings[ lastActiveIndex ];\n    binding._cacheIndex = lastActiveIndex;\n    bindings[ lastActiveIndex ] = binding;\n    firstInactiveBinding._cacheIndex = prevIndex;\n    bindings[ prevIndex ] = firstInactiveBinding;\n  }\n  _takeBackBinding(binding: any) {\n    let bindings = this._bindings,\n      prevIndex = binding._cacheIndex,\n      firstInactiveIndex = -- this._nActiveBindings,\n      lastActiveBinding = bindings[ firstInactiveIndex ];\n    binding._cacheIndex = firstInactiveIndex;\n    bindings[ firstInactiveIndex ] = binding;\n    lastActiveBinding._cacheIndex = prevIndex;\n    bindings[ prevIndex ] = lastActiveBinding;\n  }\n  // Memory management of Interpolants for weight and time scale\n  _lendControlInterpolant() {\n    let interpolants = this._controlInterpolants,\n      lastActiveIndex = this._nActiveControlInterpolants ++,\n      interpolant = interpolants[ lastActiveIndex ];\n    if (interpolant === undefined) {\n      interpolant = new LinearInterpolant(\n          new Float32Array(2), new Float32Array(2),\n            1, this._controlInterpolantsResultBuffer);\n      interpolant.__cacheIndex = lastActiveIndex;\n      interpolants[ lastActiveIndex ] = interpolant;\n    }\n    return interpolant;\n  }\n  _takeBackControlInterpolant(interpolant: any) {\n    let interpolants = this._controlInterpolants,\n      prevIndex = interpolant.__cacheIndex,\n      firstInactiveIndex = -- this._nActiveControlInterpolants,\n      lastActiveInterpolant = interpolants[ firstInactiveIndex ];\n    interpolant.__cacheIndex = firstInactiveIndex;\n    interpolants[ firstInactiveIndex ] = interpolant;\n    lastActiveInterpolant.__cacheIndex = prevIndex;\n    interpolants[ prevIndex ] = lastActiveInterpolant;\n  }\n  _controlInterpolantsResultBuffer = new Float32Array(1);\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class Uniform {\n  value: any;\n  constructor(value: any) {\n    if (typeof value === 'string') {\n      console.warn('THREE.Uniform: Type parameter is no longer needed.');\n      value = arguments[1];\n    }\n    this.value = value;\n  }\n  set dynamic(value) {\n    console.warn('THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.');\n  }\n  onUpdate(callback: () => void): Uniform {\n    console.warn('THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.');\n    return this;\n  }\n}\n","import { Vector2 } from \"../math/Vector2\";\nimport { Vector3 } from \"../math/Vector3\";\nimport { Ray } from \"../math/Ray\";\nimport { Face3 } from \"./Face3\";\nimport { Object3D } from \"./Object3D\";\nimport { Camera } from \"../cameras/Camera\";\nimport { OrthographicCamera } from \"../cameras/OrthographicCamera\";\nimport { PerspectiveCamera } from \"../cameras/PerspectiveCamera\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */\nexport class Intersect {\n  distance?: number;\n  distanceToRay?: number;\n  point?: Vector3;\n  index?: number;\n  face?: Face3;\n  faceIndex?: number;\n  uv?: Vector2;\n  object?: Object3D;\n}\nexport class Raycaster {\n  ray: Ray;\n  near: number;\n  far: number;\n  params: any;\n  linePrecision: number = 1;\n  constructor(origin?: Vector3, direction?: Vector3, near?: number, far?: number) {\n    this.ray = new Ray(origin, direction);\n    // direction is assumed to be normalized (for accurate distance calculations)\n    this.near = near || 0;\n    this.far = far || Infinity;\n    this.params = {\n      Mesh: {},\n      Line: {},\n      LOD: {},\n      Points: { threshold: 1 },\n      Sprite: {}\n    };\n    //Object.defineProperties(this.params, {\n    //  PointCloud: {\n    //    get: function () {\n    //      console.warn('THREE.Raycaster: params.PointCloud has been renamed to params.Points.');\n    //      return this.Points;\n    //    }\n    //  }\n    //});\n  }\n  set(origin: Vector3, direction: Vector3): void {\n    // direction is assumed to be normalized (for accurate distance calculations)\n    this.ray.set(origin, direction);\n  }\n  setFromCamera(coords: Vector2, camera: Camera): void {\n    if ((camera && camera instanceof PerspectiveCamera)) {\n      this.ray.origin.setFromMatrixPosition(camera.matrixWorld);\n      this.ray.direction.set(coords.x, coords.y, 0.5).unproject(camera).sub(this.ray.origin).normalize();\n    } else if ((camera && camera instanceof OrthographicCamera)) {\n      this.ray.origin.set(coords.x, coords.y, (camera.near + camera.far) / (camera.near - camera.far)).unproject(camera); // set origin in plane of camera\n      this.ray.direction.set(0, 0, - 1).transformDirection(camera.matrixWorld);\n    } else {\n      console.error('THREE.Raycaster: Unsupported camera type.');\n    }\n  }\n  intersectObject(object: Object3D, recursive: boolean): Intersect[] {\n    const intersects: Intersect[] = [];\n    intersectObject(object, this, intersects, recursive);\n    intersects.sort(ascSort);\n    return intersects;\n  }\n  intersectObjects(objects: Object3D[], recursive?: boolean): any[] {\n    const intersects: Intersect[] = [];\n    if (Array.isArray(objects) === false) {\n      console.warn('THREE.Raycaster.intersectObjects: objects is not an Array.');\n      return intersects;\n    }\n    for (let i = 0, l = objects.length; i < l; i ++) {\n      intersectObject(objects[i], this, intersects, recursive);\n    }\n    intersects.sort(ascSort);\n    return intersects;\n  }\n}\nfunction ascSort(a: Intersect, b: Intersect): number {\n  return a.distance - b.distance;\n}\nfunction intersectObject(object: Object3D, raycaster: Raycaster, intersects: Intersect[], recursive: boolean): void {\n  if (object.visible === false) return;\n  object.raycast(raycaster, intersects);\n  if (recursive === true) {\n    const children = object.children;\n    for (let i = 0, l = children.length; i < l; i ++) {\n      intersectObject(children[i], raycaster, intersects, true);\n    }\n  }\n}\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\nexport class Clock {\n  autoStart: boolean;\n  startTime: number = 0;\n  oldTime: number = 0;\n  elapsedTime: number = 0;\n  running: boolean = false;\n  constructor(autoStart: boolean = true) {\n    this.autoStart = autoStart;\n  }\n  start(): void {\n    this.startTime = (performance || Date).now();\n    this.oldTime = this.startTime;\n    this.elapsedTime = 0;\n    this.running = true;\n  }\n  stop(): void {\n    this.getElapsedTime();\n    this.running = false;\n  }\n  getElapsedTime(): number {\n    this.getDelta();\n    return this.elapsedTime;\n  }\n  getDelta(): number {\n    let diff: number = 0;\n    if (this.autoStart && ! this.running) {\n      this.start();\n    }\n    if (this.running) {\n      const newTime: number = (performance || Date).now();\n      diff = (newTime - this.oldTime) / 1000;\n      this.oldTime = newTime;\n      this.elapsedTime += diff;\n    }\n    return diff;\n  }\n}\n","import { Vector3 } from \"./Vector3\";\n/**\n * Spline from Tween.js, slightly optimized (and trashed)\n * http://sole.github.com/tween.js/examples/05_spline.html\n *\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\nexport class Spline {\n  points: any[];\n  constructor(points: any[]) {\n    this.points = points;\n  }\n  initFromArray(a: any[]): void {\n    this.points = [];\n    for (let i = 0; i < a.length; i ++) {\n      this.points[i] = { x: a[i][0], y: a[i][1], z: a[i][2] };\n    }\n  }\n  getPoint(k: number): any {\n    const c = [], v3 = { x: 0, y: 0, z: 0 };\n    let point, intPoint, weight, w2, w3,\n    pa, pb, pc, pd;\n    point = (this.points.length - 1) * k;\n    intPoint = Math.floor(point);\n    weight = point - intPoint;\n    c[0] = intPoint === 0 ? intPoint : intPoint - 1;\n    c[1] = intPoint;\n    c[2] = intPoint  > this.points.length - 2 ? this.points.length - 1 : intPoint + 1;\n    c[3] = intPoint  > this.points.length - 3 ? this.points.length - 1 : intPoint + 2;\n    pa = this.points[c[0]];\n    pb = this.points[c[1]];\n    pc = this.points[c[2]];\n    pd = this.points[c[3]];\n    w2 = weight * weight;\n    w3 = weight * w2;\n    v3.x = Spline.interpolate(pa.x, pb.x, pc.x, pd.x, weight, w2, w3);\n    v3.y = Spline.interpolate(pa.y, pb.y, pc.y, pd.y, weight, w2, w3);\n    v3.z = Spline.interpolate(pa.z, pb.z, pc.z, pd.z, weight, w2, w3);\n    return v3;\n  }\n  getControlPointsArray(): any[] {\n    const l = this.points.length,\n      coords = [];\n    for (let i = 0; i < l; i ++) {\n      const p = this.points[i];\n      coords[i] = [ p.x, p.y, p.z ];\n    }\n    return coords;\n  }\n  // approximate length by summing linear segments\n  getLength(nSubDivisions: number = 100): any {\n    let oldIntPoint = 0;\n    const oldPosition = new Vector3();\n    const tmpVec = new Vector3();\n    const chunkLengths = [];\n    let totalLength = 0;\n    // first point has 0 length\n    chunkLengths[0] = 0;\n    const nSamples = this.points.length * nSubDivisions;\n    oldPosition.copy(this.points[0]);\n    for (let i = 1; i < nSamples; i ++) {\n      const index = i / nSamples;\n      const position = this.getPoint(index);\n      tmpVec.copy(position);\n      totalLength += tmpVec.distanceTo(oldPosition);\n      oldPosition.copy(position);\n      const point = (this.points.length - 1) * index;\n      const intPoint = Math.floor(point);\n      if (intPoint !== oldIntPoint) {\n        chunkLengths[intPoint] = totalLength;\n        oldIntPoint = intPoint;\n      }\n    }\n    // last point ends with total length\n    chunkLengths[chunkLengths.length] = totalLength;\n    return { chunks: chunkLengths, total: totalLength };\n  }\n  reparametrizeByArcLength(samplingCoef: number): void {\n    const newpoints = [];\n    const tmpVec = new Vector3();\n    const sl = this.getLength();\n    newpoints.push(tmpVec.copy(this.points[0]).clone());\n    for (let i = 1; i < this.points.length; i ++) {\n      //tmpVec.copy(this.points[i - 1]);\n      //linearDistance = tmpVec.distanceTo(this.points[i]);\n      const realDistance = sl.chunks[i] - sl.chunks[i - 1];\n      const sampling = Math.ceil(samplingCoef * realDistance / sl.total);\n      const indexCurrent = (i - 1) / (this.points.length - 1);\n      const indexNext = i / (this.points.length - 1);\n      for (let j = 1; j < sampling - 1; j ++) {\n        const index = indexCurrent + j * (1 / sampling) * (indexNext - indexCurrent);\n        const position = this.getPoint(index);\n        newpoints.push(tmpVec.copy(position).clone());\n      }\n      newpoints.push(tmpVec.copy(this.points[i]).clone());\n    }\n    this.points = newpoints;\n  }\n  // Catmull-Rom\n  static interpolate(p0: number, p1: number, p2: number, p3: number, t: number, t2: number, t3: number): number {\n    const v0 = (p2 - p0) * 0.5;\n    const v1 = (p3 - p1) * 0.5;\n    return (2 * (p1 - p2) + v0 + v1) * t3 + (- 3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n  }\n}\n","import { _Math } from \"./Math\";\nimport { Vector3 } from \"./Vector3\";\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The poles (phi) are at the positive and negative y axis.\n * The equator starts at positive z.\n */\nexport class Spherical {\n  radius: number;\n  phi: number;\n  theta: number;\n  constructor(radius: number = 1.0, phi: number = 0, theta: number = 0) {\n    this.radius = radius;\n    this.phi = phi; // up / down towards top and bottom pole\n    this.theta = theta; // around the equator of the sphere\n  }\n  set(radius: number, phi: number, theta: number): Spherical {\n    this.radius = radius;\n    this.phi = phi;\n    this.theta = theta;\n    return this;\n  }\n  clone(): Spherical {\n    return new (this.constructor as any)().copy(this);\n  }\n  copy(other: Spherical): Spherical {\n    this.radius = other.radius;\n    this.phi = other.phi;\n    this.theta = other.theta;\n    return this;\n  }\n  // restrict phi to be betwee EPS and PI-EPS\n  makeSafe(): Spherical {\n    const EPS = 0.000001;\n    this.phi = Math.max(EPS, Math.min(Math.PI - EPS, this.phi));\n    return this;\n  }\n  setFromVector3(vec3: Vector3): Spherical {\n    this.radius = vec3.length();\n    if (this.radius === 0) {\n      this.theta = 0;\n      this.phi = 0;\n    } else {\n      this.theta = Math.atan2(vec3.x, vec3.z); // equator angle around y-up axis\n      this.phi = Math.acos(_Math.clamp(vec3.y / this.radius, - 1, 1)); // polar angle\n    }\n    return this;\n  }\n}\n","import { Mesh } from \"../../objects/Mesh\";\r\nimport { _Math } from \"../../math/Math\";\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\nexport class MorphBlendMesh extends Mesh {\r\n  firstAnimation: any;\r\n  animationsMap: any;\r\n  animationsList: any;\r\n  constructor(geometry: any, material: any) {\r\n    super(geometry, material);\r\n    this.animationsMap = {};\r\n    this.animationsList = [];\r\n    // prepare default animation\r\n    // (all frames played together in 1 second)\r\n    let numFrames = this.geometry.morphTargets.length;\r\n    let name = \"__default\";\r\n    let startFrame = 0;\r\n    let endFrame = numFrames - 1;\r\n    let fps = numFrames / 1;\r\n    this.createAnimation(name, startFrame, endFrame, fps);\r\n    this.setAnimationWeight(name, 1);\r\n  }\r\n  createAnimation(name: string, start: number, end: number, fps: number): any {\r\n    let animation = {\r\n      start: start,\r\n      end: end,\r\n      length: end - start + 1,\r\n      fps: fps,\r\n      duration: (end - start) / fps,\r\n      lastFrame: 0,\r\n      currentFrame: 0,\r\n      active: false,\r\n      time: 0,\r\n      direction: 1,\r\n      weight: 1,\r\n      directionBackwards: false,\r\n      mirroredLoop: false\r\n    };\r\n    this.animationsMap[name] = animation;\r\n    this.animationsList.push(animation);\r\n  };\r\n  autoCreateAnimations(fps: number) {\r\n    let pattern = /([a-z]+)_?(\\d+)/i;\r\n    let firstAnimation, frameRanges = {};\r\n    let geometry = this.geometry;\r\n    for (let i = 0, il = geometry.morphTargets.length; i < il; i ++) {\r\n      let morph = geometry.morphTargets[i];\r\n      let chunks = morph.name.match(pattern);\r\n      if (chunks && chunks.length > 1) {\r\n        let name = chunks[1];\r\n        if (! frameRanges[name]) frameRanges[name] = { start: Infinity, end: - Infinity };\r\n        let range = frameRanges[name];\r\n        if (i < range.start) range.start = i;\r\n        if (i > range.end) range.end = i;\r\n        if (! firstAnimation) firstAnimation = name;\r\n      }\r\n    }\r\n    for (let name in frameRanges) {\r\n      let range = frameRanges[name];\r\n      this.createAnimation(name, range.start, range.end, fps);\r\n    }\r\n    this.firstAnimation = firstAnimation;\r\n  }\r\n  setAnimationDirectionForward(name: string) {\r\n    let animation = this.animationsMap[name];\r\n    if (animation) {\r\n      animation.direction = 1;\r\n      animation.directionBackwards = false;\r\n    }\r\n  }\r\n  setAnimationDirectionBackward(name: string) {\r\n    let animation = this.animationsMap[name];\r\n    if (animation) {\r\n      animation.direction = - 1;\r\n      animation.directionBackwards = true;\r\n    }\r\n  }\r\n  setAnimationFPS(name: string, fps: number) {\r\n    let animation = this.animationsMap[name];\r\n    if (animation) {\r\n      animation.fps = fps;\r\n      animation.duration = (animation.end - animation.start) / animation.fps;\r\n    }\r\n  }\r\n  setAnimationDuration(name: string, duration: number) {\r\n    let animation = this.animationsMap[name];\r\n    if (animation) {\r\n      animation.duration = duration;\r\n      animation.fps = (animation.end - animation.start) / animation.duration;\r\n    }\r\n  }\r\n  setAnimationWeight(name: string, weight: number) {\r\n    let animation = this.animationsMap[name];\r\n    if (animation) {\r\n      animation.weight = weight;\r\n    }\r\n  }\r\n  setAnimationTime(name: string, time: number) {\r\n    let animation = this.animationsMap[name];\r\n    if (animation) {\r\n      animation.time = time;\r\n    }\r\n  };\r\n  getAnimationTime(name: string): number {\r\n    let time = 0;\r\n    let animation = this.animationsMap[name];\r\n    if (animation) {\r\n      time = animation.time;\r\n    }\r\n    return time;\r\n  }\r\n  getAnimationDuration(name: string): number {\r\n    let duration = - 1;\r\n    let animation = this.animationsMap[name];\r\n    if (animation) {\r\n      duration = animation.duration;\r\n    }\r\n    return duration;\r\n  }\r\n  playAnimation(name: string): void {\r\n    let animation = this.animationsMap[name];\r\n    if (animation) {\r\n      animation.time = 0;\r\n      animation.active = true;\r\n    } else {\r\n      console.warn(\"THREE.MorphBlendMesh: animation[\" + name + \"] undefined in .playAnimation()\");\r\n    }\r\n  }\r\n  stopAnimation(name: string): void {\r\n    let animation = this.animationsMap[name];\r\n    if (animation) {\r\n      animation.active = false;\r\n    }\r\n  }\r\n  update(delta: number): void {\r\n    for (let i = 0, il = this.animationsList.length; i < il; i ++) {\r\n      let animation = this.animationsList[i];\r\n      if (! animation.active) continue;\r\n      let frameTime = animation.duration / animation.length;\r\n      animation.time += animation.direction * delta;\r\n      if (animation.mirroredLoop) {\r\n        if (animation.time > animation.duration || animation.time < 0) {\r\n          animation.direction *= - 1;\r\n          if (animation.time > animation.duration) {\r\n            animation.time = animation.duration;\r\n            animation.directionBackwards = true;\r\n          }\r\n          if (animation.time < 0) {\r\n            animation.time = 0;\r\n            animation.directionBackwards = false;\r\n          }\r\n        }\r\n      } else {\r\n        animation.time = animation.time % animation.duration;\r\n        if (animation.time < 0) animation.time += animation.duration;\r\n      }\r\n      let keyframe = animation.start + _Math.clamp(Math.floor(animation.time / frameTime), 0, animation.length - 1);\r\n      let weight = animation.weight;\r\n      if (keyframe !== animation.currentFrame) {\r\n        this.morphTargetInfluences[animation.lastFrame] = 0;\r\n        this.morphTargetInfluences[animation.currentFrame] = 1 * weight;\r\n        this.morphTargetInfluences[keyframe] = 0;\r\n        animation.lastFrame = animation.currentFrame;\r\n        animation.currentFrame = keyframe;\r\n      }\r\n      let mix = (animation.time % frameTime) / frameTime;\r\n      if (animation.directionBackwards) mix = 1 - mix;\r\n      if (animation.currentFrame !== animation.lastFrame) {\r\n        this.morphTargetInfluences[animation.currentFrame] = mix * weight;\r\n        this.morphTargetInfluences[animation.lastFrame] = (1 - mix) * weight;\r\n      } else {\r\n        this.morphTargetInfluences[animation.currentFrame] = weight;\r\n      }\r\n    }\r\n  };\r\n}\r\n","import { Matrix3 } from \"../../math/Matrix3\";\nimport { Vector3 } from \"../../math/Vector3\";\nimport { LineSegments } from \"../../objects/LineSegments\";\nimport { LineBasicMaterial } from \"../../materials/LineBasicMaterial\";\nimport { Float32Attribute } from \"../../core/BufferAttribute\";\nimport { Geometry } from \"../../core/Geometry\";\nimport { BufferGeometry } from \"../../core/BufferGeometry\";\nimport { Object3D } from \"../../core/Object3D\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n*/\nexport class VertexNormalsHelper extends LineSegments {\n  object: Object3D;\n  size: number;\n  constructor(object: Object3D, size = 1, color = 0xff0000, linewidth = 1) {\n    ///this.object = object;\n    ///this.size = size;\n    //\n    let nNormals = 0;\n    let objGeometry = object.geometry;\n    if ((objGeometry && objGeometry instanceof Geometry)) {\n      nNormals = objGeometry.faces.length * 3;\n    } else if ((objGeometry && objGeometry instanceof BufferGeometry)) {\n      nNormals = objGeometry.attributes.normal.count;\n    }\n    //\n    let geometry = new BufferGeometry();\n    let positions = Float32Attribute(nNormals * 2 * 3, 3);\n    geometry.addAttribute('position', positions);\n    super(geometry, new LineBasicMaterial({ color: color, linewidth: linewidth }));\n    //\n    this.object = object;\n    this.size = size;\n    this.matrixAutoUpdate = false;\n    this.update();\n  }\n  update() {\n    let v1 = new Vector3();\n    let v2 = new Vector3();\n    let normalMatrix = new Matrix3();\n    //return function update() {\n      let keys = ['a', 'b', 'c'];\n      this.object.updateMatrixWorld(true);\n      normalMatrix.getNormalMatrix(this.object.matrixWorld);\n      let matrixWorld = this.object.matrixWorld;\n      let position = (this.geometry as BufferGeometry).attributes.position;\n      //\n      let objGeometry = this.object.geometry;\n      if ((objGeometry && objGeometry instanceof Geometry)) {\n        let vertices = objGeometry.vertices;\n        let faces = objGeometry.faces;\n        let idx = 0;\n        for (let i = 0, l = faces.length; i < l; i ++) {\n          let face = faces[i];\n          for (let j = 0, jl = face.vertexNormals.length; j < jl; j ++) {\n            let vertex = vertices[face[keys[j]]];\n            let normal = face.vertexNormals[j];\n            v1.copy(vertex).applyMatrix4(matrixWorld);\n            v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);\n            position.setXYZ(idx, v1.x, v1.y, v1.z);\n            idx = idx + 1;\n            position.setXYZ(idx, v2.x, v2.y, v2.z);\n            idx = idx + 1;\n          }\n        }\n      } else if ((objGeometry && objGeometry instanceof BufferGeometry)) {\n        let objPos = objGeometry.attributes.position;\n        let objNorm = objGeometry.attributes.normal;\n        let idx = 0;\n        // for simplicity, ignore index and drawcalls, and render every normal\n        for (let j = 0, jl = objPos.count; j < jl; j ++) {\n          v1.set(objPos.getX(j), objPos.getY(j), objPos.getZ(j)).applyMatrix4(matrixWorld);\n          v2.set(objNorm.getX(j), objNorm.getY(j), objNorm.getZ(j));\n          v2.applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);\n          position.setXYZ(idx, v1.x, v1.y, v1.z);\n          idx = idx + 1;\n          position.setXYZ(idx, v2.x, v2.y, v2.z);\n          idx = idx + 1;\n        }\n      }\n      position.needsUpdate = true;\n      return this;\n    //};\n  }\n}\n","import { Vector3 } from \"../../math/Vector3\";\nimport { Object3D } from \"../../core/Object3D\";\nimport { LineSegments } from \"../../objects/LineSegments\";\nimport { LineBasicMaterial } from \"../../materials/LineBasicMaterial\";\nimport { Float32Attribute } from \"../../core/BufferAttribute\";\nimport { BufferGeometry } from \"../../core/BufferGeometry\";\nimport { SpotLight } from \"../../lights/SpotLight\";\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n*/\nexport class SpotLightHelper extends Object3D {\n  light: SpotLight;\n  cone: LineSegments;\n  constructor(light: SpotLight) {\n    super();\n    this.light = light;\n    this.light.updateMatrixWorld();\n    this.matrix = light.matrixWorld;\n    this.matrixAutoUpdate = false;\n    let geometry = new BufferGeometry();\n    let positions = [\n      0, 0, 0,   0,   0,   1,\n      0, 0, 0,   1,   0,   1,\n      0, 0, 0, - 1,   0,   1,\n      0, 0, 0,   0,   1,   1,\n      0, 0, 0,   0, - 1,   1\n    ];\n    for (let i = 0, j = 1, l = 32; i < l; i ++, j ++) {\n      let p1 = (i / l) * Math.PI * 2;\n      let p2 = (j / l) * Math.PI * 2;\n      positions.push(\n        Math.cos(p1), Math.sin(p1), 1,\n        Math.cos(p2), Math.sin(p2), 1\n      );\n    }\n    geometry.addAttribute('position', Float32Attribute(positions, 3));\n    let material = new LineBasicMaterial({ fog: false });\n    this.cone = new LineSegments(geometry, material);\n    this.add(this.cone);\n    this.update();\n  }\n  dispose() {\n    this.cone.geometry.dispose();\n    this.cone.material.dispose();\n  }\n  update() {\n    let vector = new Vector3();\n    let vector2 = new Vector3();\n    //return function update() {\n      let coneLength = this.light.distance ? this.light.distance : 1000;\n      let coneWidth = coneLength * Math.tan(this.light.angle);\n      this.cone.scale.set(coneWidth, coneWidth, coneLength);\n      vector.setFromMatrixPosition(this.light.matrixWorld);\n      vector2.setFromMatrixPosition(this.light.target.matrixWorld);\n      this.cone.lookAt(vector2.sub(vector));\n      this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);\n    //};\n  }\n}\n","import { LineSegments } from \"../../objects/LineSegments\";\nimport { Matrix4 } from \"../../math/Matrix4\";\nimport { ColorsMode } from \"../../constants\";\nimport { LineBasicMaterial } from \"../../materials/LineBasicMaterial\";\nimport { Color } from \"../../math/Color\";\nimport { Vector3 } from \"../../math/Vector3\";\nimport { Geometry } from \"../../core/Geometry\";\nimport { BufferGeometry } from \"../../core/BufferGeometry\";\nimport { Object3D } from \"../../core/Object3D\";\nimport { Bone } from \"../../objects/Bone\";\n/**\n * @author Sean Griffin / http://twitter.com/sgrif\n * @author Michael Guerrero / http://realitymeltdown.com\n * @author mrdoob / http://mrdoob.com/\n * @author ikerr / http://verold.com\n */\nexport class SkeletonHelper extends LineSegments {\n  bones: Bone[];\n  root: Object3D;\n  constructor(object: Object3D) {\n    const bones: Bone[] = SkeletonHelper.getBoneList(object);\n    const geometry: Geometry = new Geometry();\n    for (let i = 0; i < bones.length; i ++) {\n      const bone: Bone = bones[i];\n      if ((bone.parent && bone.parent instanceof Bone)) {\n        geometry.vertices.push(new Vector3());\n        geometry.vertices.push(new Vector3());\n        geometry.colors.push(new Color(0, 0, 1));\n        geometry.colors.push(new Color(0, 1, 0));\n      }\n    }\n    geometry.dynamic = true;\n    const material = new LineBasicMaterial({ vertexColors: ColorsMode.Vertex, depthTest: false, depthWrite: false, transparent: true });\n    super(geometry, material);\n    this.bones = bones;\n    this.root = object;\n    this.matrix = object.matrixWorld;\n    this.matrixAutoUpdate = false;\n    this.update();\n  }\n  static getBoneList(object: Object3D): Bone[] {\n    const boneList: Bone[] = [];\n    if ((object && object instanceof Bone)) {\n      boneList.push(object);\n    }\n    for (let i = 0; i < object.children.length; i ++) {\n      boneList.push.apply(boneList, SkeletonHelper.getBoneList(object.children[i]));\n    }\n    return boneList;\n  }\n  getBonesList(object: Object3D): Bone[] {\n    return SkeletonHelper.getBoneList(object);\n  }\n  update(): void {\n    const geometry: Geometry | BufferGeometry = this.geometry;\n    if (geometry instanceof Geometry) {\n      const matrixWorldInv = new Matrix4().getInverse(this.root.matrixWorld);\n      const boneMatrix = new Matrix4();\n      let j = 0;\n      for (let i = 0; i < this.bones.length; i ++) {\n        const bone: Bone = this.bones[i];\n        if ((bone.parent && bone.parent instanceof Bone)) {\n          boneMatrix.multiplyMatrices(matrixWorldInv, bone.matrixWorld);\n          geometry.vertices[j].setFromMatrixPosition(boneMatrix);\n          boneMatrix.multiplyMatrices(matrixWorldInv, bone.parent.matrixWorld);\n          geometry.vertices[j + 1].setFromMatrixPosition(boneMatrix);\n          j += 2;\n        }\n      }\n      geometry.verticesNeedUpdate = true;\n      geometry.computeBoundingSphere();\n    }\n  }\n}\n","import { Mesh } from \"../../objects/Mesh\";\nimport { MeshBasicMaterial } from \"../../materials/MeshBasicMaterial\";\nimport { SphereBufferGeometry } from \"../../geometries/SphereBufferGeometry\";\nimport { PointLight } from \"../../lights/PointLight\";\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\nexport class PointLightHelper extends Mesh {\n  light: PointLight;\n  constructor(light: PointLight, sphereSize: number) {\n    light.updateMatrixWorld();\n    let geometry = new SphereBufferGeometry(sphereSize, 4, 2);\n    let material = new MeshBasicMaterial({ wireframe: true, fog: false });\n    material.color.copy(light.color).multiplyScalar(light.intensity);\n    super(geometry, material);\n    this.light = light;\n    this.matrix = this.light.matrixWorld;\n    this.matrixAutoUpdate = false;\n    /*\n    let distanceGeometry = new THREE.IcosahedronGeometry(1, 2);\n    let distanceMaterial = new THREE.MeshBasicMaterial({ color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true });\n    this.lightSphere = new THREE.Mesh(bulbGeometry, bulbMaterial);\n    this.lightDistance = new THREE.Mesh(distanceGeometry, distanceMaterial);\n    let d = light.distance;\n    if (d === 0.0) {\n      this.lightDistance.visible = false;\n    } else {\n      this.lightDistance.scale.set(d, d, d);\n    }\n    this.add(this.lightDistance);\n    */\n  }\n  dispose(): void {\n    this.geometry.dispose();\n    this.material.dispose();\n  }\n  update(): void {\n    this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);\n    /*\n    let d = this.light.distance;\n    if (d === 0.0) {\n      this.lightDistance.visible = false;\n    } else {\n      this.lightDistance.visible = true;\n      this.lightDistance.scale.set(d, d, d);\n    }\n    */\n  }\n}\n","import { Vector3 } from \"../../math/Vector3\";\nimport { Object3D } from \"../../core/Object3D\";\nimport { Mesh } from \"../../objects/Mesh\";\nimport { ColorsMode } from \"../../constants\";\nimport { MeshBasicMaterial } from \"../../materials/MeshBasicMaterial\";\nimport { SphereGeometry } from \"../../geometries/SphereGeometry\";\nimport { Color } from \"../../math/Color\";\nimport { HemisphereLight } from \"../../lights/HemisphereLight\";\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\nexport class HemisphereLightHelper extends Object3D {\n  light: HemisphereLight;\n  colors: Color[];\n  lightSphere: Mesh;\n  constructor(light: any, sphereSize: number) {\n    super();\n    this.light = light;\n    this.light.updateMatrixWorld();\n    this.matrix = light.matrixWorld;\n    this.matrixAutoUpdate = false;\n    this.colors = [ new Color(), new Color() ];\n    let geometry = new SphereGeometry(sphereSize, 4, 2);\n    geometry.rotateX(- Math.PI / 2);\n    for (let i = 0, il = 8; i < il; i ++) {\n      geometry.faces[i].color = this.colors[i < 4 ? 0 : 1];\n    }\n    let material = new MeshBasicMaterial({ vertexColors: ColorsMode.Face, wireframe: true });\n    this.lightSphere = new Mesh(geometry, material);\n    this.add(this.lightSphere);\n    this.update();\n  }\n  dispose() {\n    this.lightSphere.geometry.dispose();\n    this.lightSphere.material.dispose();\n  }\n  update() {\n    let vector = new Vector3();\n    //return function update() {\n      this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);\n      this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);\n      this.lightSphere.lookAt(vector.setFromMatrixPosition(this.light.matrixWorld).negate());\n      (this.lightSphere.geometry as SphereGeometry).colorsNeedUpdate = true;\n    //};\n  }\n}\n","import { LineSegments } from \"../../objects/LineSegments\";\nimport { ColorsMode } from \"../../constants\";\nimport { LineBasicMaterial } from \"../../materials/LineBasicMaterial\";\nimport { Float32Attribute } from \"../../core/BufferAttribute\";\nimport { BufferGeometry } from \"../../core/BufferGeometry\";\nimport { Color } from \"../../math/Color\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class GridHelper extends LineSegments {\n  constructor(size: number, divisions = 1, color1 = 0x444444, color2 = 0x888888) {\n    const _color1 = new Color(color1);\n    const _color2 = new Color(color2);\n    let center = divisions / 2;\n    let step = (size * 2) / divisions;\n    let vertices = [], colors: number[] = [];\n    for (let i = 0, j = 0, k = - size; i <= divisions; i ++, k += step) {\n      vertices.push(- size, 0, k, size, 0, k);\n      vertices.push(k, 0, - size, k, 0, size);\n      let color = i === center ? _color1 : _color2;\n      color.toArray(colors, j); j += 3;\n      color.toArray(colors, j); j += 3;\n      color.toArray(colors, j); j += 3;\n      color.toArray(colors, j); j += 3;\n    }\n    let geometry = new BufferGeometry();\n    geometry.addAttribute('position', Float32Attribute(vertices, 3));\n    geometry.addAttribute('color', Float32Attribute(colors, 3));\n    let material = new LineBasicMaterial({ vertexColors: ColorsMode.Vertex });\n    super(geometry, material);\n  }\n  setColors() {\n    console.error('THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.');\n  }\n}\n","import { Matrix3 } from \"../../math/Matrix3\";\nimport { Vector3 } from \"../../math/Vector3\";\nimport { LineSegments } from \"../../objects/LineSegments\";\nimport { LineBasicMaterial } from \"../../materials/LineBasicMaterial\";\nimport { Float32Attribute } from \"../../core/BufferAttribute\";\nimport { Geometry } from \"../../core/Geometry\";\nimport { BufferGeometry } from \"../../core/BufferGeometry\";\nimport { Object3D } from \"../../core/Object3D\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n*/\nexport class FaceNormalsHelper extends LineSegments {\n  object: Object3D;\n  size: number;\n  constructor(object: Object3D, size: number = 1, color: number = 0xffff00, linewidth: number = 1) {\n    // FaceNormalsHelper only supports THREE.Geometry\n    ///this.object = object;\n    ///this.size = (size !== undefined) ? size : 1;\n    //\n    let nNormals = 0;\n    let objGeometry = object.geometry;\n    if ((objGeometry && objGeometry instanceof Geometry)) {\n      nNormals = objGeometry.faces.length;\n    } else {\n      console.warn('THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.');\n    }\n    //\n    let geometry = new BufferGeometry();\n    let positions = Float32Attribute(nNormals * 2 * 3, 3);\n    geometry.addAttribute('position', positions);\n    super(geometry, new LineBasicMaterial({ color: color, linewidth: linewidth }));\n    //\n    this.object = object;\n    this.size = size;\n    this.matrixAutoUpdate = false;\n    this.update();\n  }\n  update() {\n    let v1 = new Vector3();\n    let v2 = new Vector3();\n    let normalMatrix = new Matrix3();\n    //return function update() {\n      this.object.updateMatrixWorld(true);\n      normalMatrix.getNormalMatrix(this.object.matrixWorld);\n      let matrixWorld = this.object.matrixWorld;\n      let position = (this.geometry as BufferGeometry).attributes.position;\n      //\n      let objGeometry = this.object.geometry;\n      let vertices = (objGeometry as Geometry).vertices;\n      let faces = (objGeometry as Geometry).faces;\n      let idx = 0;\n      for (let i = 0, l = faces.length; i < l; i ++) {\n        let face = faces[i];\n        let normal = face.normal;\n        v1.copy(vertices[face.a])\n          .add(vertices[face.b])\n          .add(vertices[face.c])\n          .divideScalar(3)\n          .applyMatrix4(matrixWorld);\n        v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);\n        position.setXYZ(idx, v1.x, v1.y, v1.z);\n        idx = idx + 1;\n        position.setXYZ(idx, v2.x, v2.y, v2.z);\n        idx = idx + 1;\n      }\n      position.needsUpdate = true;\n      return this;\n    //};\n  }\n}\n","import { Vector3 } from \"../../math/Vector3\";\nimport { Object3D } from \"../../core/Object3D\";\nimport { Line } from \"../../objects/Line\";\nimport { Float32Attribute } from \"../../core/BufferAttribute\";\nimport { BufferGeometry } from \"../../core/BufferGeometry\";\nimport { LineBasicMaterial } from \"../../materials/LineBasicMaterial\";\nimport { Light } from \"../../lights/Light\";\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\nexport class DirectionalLightHelper extends Object3D {\n  light: Light;\n  constructor(light: Light, size: number = 1) {\n    super();\n    this.light = light;\n    this.light.updateMatrixWorld();\n    this.matrix = light.matrixWorld;\n    this.matrixAutoUpdate = false;\n    let geometry = new BufferGeometry();\n    geometry.addAttribute('position', Float32Attribute([\n      - size,   size, 0,\n        size,   size, 0,\n        size, - size, 0,\n      - size, - size, 0,\n      - size,   size, 0\n    ], 3));\n    let material = new LineBasicMaterial({ fog: false });\n    this.add(new Line(geometry, material));\n    geometry = new BufferGeometry();\n    geometry.addAttribute('position', Float32Attribute([0, 0, 0, 0, 0, 1], 3));\n    this.add(new Line(geometry, material));\n    this.update();\n  }\n  dispose(): void {\n    let lightPlane = this.children[0];\n    let targetLine = this.children[1];\n    lightPlane.geometry.dispose();\n    lightPlane.material.dispose();\n    targetLine.geometry.dispose();\n    targetLine.material.dispose();\n  }\n  update(): void {\n    let v1 = new Vector3();\n    let v2 = new Vector3();\n    let v3 = new Vector3();\n    //return function update() {\n      v1.setFromMatrixPosition(this.light.matrixWorld);\n      v2.setFromMatrixPosition(this.light.target.matrixWorld);\n      v3.subVectors(v2, v1);\n      let lightPlane = this.children[0];\n      let targetLine = this.children[1];\n      lightPlane.lookAt(v3);\n      lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);\n      targetLine.lookAt(v3);\n      targetLine.scale.z = v3.length();\n    //};\n  };\n}\n","import { Camera } from \"../../cameras/Camera\";\nimport { Vector3 } from \"../../math/Vector3\";\nimport { LineSegments } from \"../../objects/LineSegments\";\nimport { Color } from \"../../math/Color\";\nimport { ColorsMode } from \"../../constants\";\nimport { LineBasicMaterial } from \"../../materials/LineBasicMaterial\";\nimport { Geometry } from \"../../core/Geometry\";\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n *  - shows frustum, line of sight and up of the camera\n *  - suitable for fast updates\n *   - based on frustum visualization in lightgl.js shadowmap example\n *    http://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\nexport class CameraHelper extends LineSegments {\n  camera: Camera;\n  pointMap: any;\n  constructor(camera: Camera) {\n    let geometry = new Geometry();\n    let material = new LineBasicMaterial({ color: 0xffffff, vertexColors: ColorsMode.Face });\n    let pointMap = {};\n    // colors\n    let hexFrustum = 0xffaa00;\n    let hexCone = 0xff0000;\n    let hexUp = 0x00aaff;\n    let hexTarget = 0xffffff;\n    let hexCross = 0x333333;\n    // near\n    addLine(\"n1\", \"n2\", hexFrustum);\n    addLine(\"n2\", \"n4\", hexFrustum);\n    addLine(\"n4\", \"n3\", hexFrustum);\n    addLine(\"n3\", \"n1\", hexFrustum);\n    // far\n    addLine(\"f1\", \"f2\", hexFrustum);\n    addLine(\"f2\", \"f4\", hexFrustum);\n    addLine(\"f4\", \"f3\", hexFrustum);\n    addLine(\"f3\", \"f1\", hexFrustum);\n    // sides\n    addLine(\"n1\", \"f1\", hexFrustum);\n    addLine(\"n2\", \"f2\", hexFrustum);\n    addLine(\"n3\", \"f3\", hexFrustum);\n    addLine(\"n4\", \"f4\", hexFrustum);\n    // cone\n    addLine(\"p\", \"n1\", hexCone);\n    addLine(\"p\", \"n2\", hexCone);\n    addLine(\"p\", \"n3\", hexCone);\n    addLine(\"p\", \"n4\", hexCone);\n    // up\n    addLine(\"u1\", \"u2\", hexUp);\n    addLine(\"u2\", \"u3\", hexUp);\n    addLine(\"u3\", \"u1\", hexUp);\n    // target\n    addLine(\"c\", \"t\", hexTarget);\n    addLine(\"p\", \"c\", hexCross);\n    // cross\n    addLine(\"cn1\", \"cn2\", hexCross);\n    addLine(\"cn3\", \"cn4\", hexCross);\n    addLine(\"cf1\", \"cf2\", hexCross);\n    addLine(\"cf3\", \"cf4\", hexCross);\n    function addLine(a: string, b: string, hex: number): void {\n      addPoint(a, hex);\n      addPoint(b, hex);\n    }\n    function addPoint(id: string, hex: number): void {\n      geometry.vertices.push(new Vector3());\n      geometry.colors.push(new Color(hex));\n      if (pointMap[id] === undefined) {\n        pointMap[id] = [];\n      }\n      pointMap[id].push(geometry.vertices.length - 1);\n    }\n    super(geometry, material);\n    this.camera = camera;\n    this.camera.updateProjectionMatrix();\n    this.matrix = camera.matrixWorld;\n    this.matrixAutoUpdate = false;\n    this.pointMap = pointMap;\n    this.update();\n  }\n  update(): void {\n    let geometry: any, pointMap: any;\n    let vector = new Vector3();\n    let camera = new Camera();\n    function setPoint(point: string, x: number, y: number, z: number): void {\n      vector.set(x, y, z).unproject(camera);\n      let points = pointMap[point];\n      if (points !== undefined) {\n        for (let i = 0, il = points.length; i < il; i ++) {\n          geometry.vertices[points[i]].copy(vector);\n        }\n      }\n    }\n    //return function update() {\n      geometry = this.geometry;\n      pointMap = this.pointMap;\n      let w = 1, h = 1;\n      // we need just camera projection matrix\n      // world matrix must be identity\n      camera.projectionMatrix.copy(this.camera.projectionMatrix);\n      // center / target\n      setPoint(\"c\", 0, 0, - 1);\n      setPoint(\"t\", 0, 0,  1);\n      // near\n      setPoint(\"n1\", - w, - h, - 1);\n      setPoint(\"n2\",   w, - h, - 1);\n      setPoint(\"n3\", - w,   h, - 1);\n      setPoint(\"n4\",   w,   h, - 1);\n      // far\n      setPoint(\"f1\", - w, - h, 1);\n      setPoint(\"f2\",   w, - h, 1);\n      setPoint(\"f3\", - w,   h, 1);\n      setPoint(\"f4\",   w,   h, 1);\n      // up\n      setPoint(\"u1\",   w * 0.7, h * 1.1, - 1);\n      setPoint(\"u2\", - w * 0.7, h * 1.1, - 1);\n      setPoint(\"u3\",         0, h * 2,   - 1);\n      // cross\n      setPoint(\"cf1\", - w,   0, 1);\n      setPoint(\"cf2\",   w,   0, 1);\n      setPoint(\"cf3\",   0, - h, 1);\n      setPoint(\"cf4\",   0,   h, 1);\n      setPoint(\"cn1\", - w,   0, - 1);\n      setPoint(\"cn2\",   w,   0, - 1);\n      setPoint(\"cn3\",   0, - h, - 1);\n      setPoint(\"cn4\",   0,   h, - 1);\n      geometry.verticesNeedUpdate = true;\n    //};\n  }\n}\n","import { Mesh } from \"../../objects/Mesh\";\nimport { MeshBasicMaterial } from \"../../materials/MeshBasicMaterial\";\nimport { BoxGeometry } from \"../../geometries/BoxGeometry\";\nimport { Box3 } from \"../../math/Box3\";\nimport { Object3D } from \"../../core/Object3D\";\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n// a helper to show the world-axis-aligned bounding box for an object\nexport class BoundingBoxHelper extends Mesh {\n  object: Object3D;\n  box: Box3;\n  constructor(object: Object3D, color: number = 0x888888) {\n    super(new BoxGeometry(1, 1, 1), new MeshBasicMaterial({ color: color, wireframe: true }));\n    this.object = object;\n    this.box = new Box3();\n  }\n  update(): void {\n    this.box.setFromObject(this.object);\n    this.box.getSize(this.scale);\n    this.box.getCenter(this.position);\n  }\n}\n","import { Box3 } from \"../../math/Box3\";\nimport { LineSegments } from \"../../objects/LineSegments\";\nimport { LineBasicMaterial } from \"../../materials/LineBasicMaterial\";\nimport { BufferAttribute } from \"../../core/BufferAttribute\";\nimport { BufferGeometry } from \"../../core/BufferGeometry\";\nimport { Object3D } from \"../../core/Object3D\";\n/**\n * @author mrdoob / http://mrdoob.com/\n */\nexport class BoxHelper extends LineSegments {\n  constructor(object: Object3D, color: number = 0xffff00) {\n    const indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n    const positions = new Float32Array(8 * 3);\n    const geometry = new BufferGeometry();\n    geometry.setIndex(new BufferAttribute(indices, 1));\n    geometry.addAttribute('position', new BufferAttribute(positions, 3));\n    super(geometry, new LineBasicMaterial({ color: color }));\n    if (object !== undefined) {\n      this.update(object);\n    }\n  }\n  update(object: Object3D): void {\n    const box = new Box3();\n    //return function update(object) {\n      if ((object && object instanceof Box3)) {\n        box.copy(object);\n      } else {\n        box.setFromObject(object);\n      }\n      if (box.isEmpty()) return;\n      const min = box.min;\n      const max = box.max;\n      /*\n        5____4\n      1/___0/|\n      | 6__|_7\n      2/___3/\n      0: max.x, max.y, max.z\n      1: min.x, max.y, max.z\n      2: min.x, min.y, max.z\n      3: max.x, min.y, max.z\n      4: max.x, max.y, min.z\n      5: min.x, max.y, min.z\n      6: min.x, min.y, min.z\n      7: max.x, min.y, min.z\n      */\n      const position = (this.geometry as BufferGeometry).attributes.position;\n      const array = position.array;\n      array[0] = max.x; array[1] = max.y; array[2] = max.z;\n      array[3] = min.x; array[4] = max.y; array[5] = max.z;\n      array[6] = min.x; array[7] = min.y; array[8] = max.z;\n      array[9] = max.x; array[10] = min.y; array[11] = max.z;\n      array[12] = max.x; array[13] = max.y; array[14] = min.z;\n      array[15] = min.x; array[16] = max.y; array[17] = min.z;\n      array[18] = min.x; array[19] = min.y; array[20] = min.z;\n      array[21] = max.x; array[22] = min.y; array[23] = min.z;\n      position.needsUpdate = true;\n      this.geometry.computeBoundingSphere();\n    //};\n  }\n}\n","/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://clara.io\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  color - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */\nimport { Vector3 } from \"../../math/Vector3\";\nimport { Object3D } from \"../../core/Object3D\";\nimport { CylinderBufferGeometry } from \"../../geometries/CylinderBufferGeometry\";\nimport { Float32Attribute } from \"../../core/BufferAttribute\";\nimport { BufferGeometry } from \"../../core/BufferGeometry\";\nimport { MeshBasicMaterial } from \"../../materials/MeshBasicMaterial\";\nimport { Mesh } from \"../../objects/Mesh\";\nimport { LineBasicMaterial } from \"../../materials/LineBasicMaterial\";\nimport { Line } from \"../../objects/Line\";\nconst lineGeometry = new BufferGeometry();\nlineGeometry.addAttribute('position', Float32Attribute([ 0, 0, 0, 0, 1, 0 ], 3));\nconst coneGeometry = new CylinderBufferGeometry(0, 0.5, 1, 5, 1);\nconeGeometry.translate(0, - 0.5, 0);\nexport class ArrowHelper extends Object3D {\n  line: Line;\n  cone: Mesh;\n  constructor(dir: Vector3, origin: Vector3, length?: number, color?: number, headLength?: number, headWidth?: number) {\n    // dir is assumed to be normalized\n    super();\n    if (color === undefined) color = 0xffff00;\n    if (length === undefined) length = 1;\n    if (headLength === undefined) headLength = 0.2 * length;\n    if (headWidth === undefined) headWidth = 0.2 * headLength;\n    this.position.copy(origin);\n    this.line = new Line(lineGeometry, new LineBasicMaterial({ color: color }));\n    this.line.matrixAutoUpdate = false;\n    this.add(this.line);\n    this.cone = new Mesh(coneGeometry, new MeshBasicMaterial({ color: color }));\n    this.cone.matrixAutoUpdate = false;\n    this.add(this.cone);\n    this.setDirection(dir);\n    this.setLength(length, headLength, headWidth);\n  }\n  setDirection(dir: Vector3): void {\n    const axis = new Vector3();\n    //return function setDirection(dir) {\n      // dir is assumed to be normalized\n      if (dir.y > 0.99999) {\n        this.quaternion.set(0, 0, 0, 1);\n      } else if (dir.y < - 0.99999) {\n        this.quaternion.set(1, 0, 0, 0);\n      } else {\n        axis.set(dir.z, 0, - dir.x).normalize();\n        const radians = Math.acos(dir.y);\n        this.quaternion.setFromAxisAngle(axis, radians);\n      }\n    //};\n  }\n  setLength(length: number, headLength: number, headWidth: number): void {\n    if (headLength === undefined) headLength = 0.2 * length;\n    if (headWidth === undefined) headWidth = 0.2 * headLength;\n    this.line.scale.set(1, Math.max(0, length - headLength), 1);\n    this.line.updateMatrix();\n    this.cone.scale.set(headWidth, headLength, headWidth);\n    this.cone.position.y = length;\n    this.cone.updateMatrix();\n  }\n  setColor(color: number): void {\n    this.line.material.color.copy(color);\n    this.cone.material.color.copy(color);\n  }\n}\n","import { LineSegments } from \"../../objects/LineSegments\";\nimport { ColorsMode } from \"../../constants\";\nimport { LineBasicMaterial } from \"../../materials/LineBasicMaterial\";\nimport { BufferAttribute } from \"../../core/BufferAttribute\";\nimport { BufferGeometry } from \"../../core/BufferGeometry\";\n/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */\nexport class AxisHelper extends LineSegments {\n  constructor(size: number = 1) {\n    const vertices = new Float32Array([\n      0, 0, 0,  size, 0, 0,\n      0, 0, 0,  0, size, 0,\n      0, 0, 0,  0, 0, size\n    ]);\n    const colors = new Float32Array([\n      1, 0, 0,  1, 0.6, 0,\n      0, 1, 0,  0.6, 1, 0,\n      0, 0, 1,  0, 0.6, 1\n    ]);\n    const geometry = new BufferGeometry();\n    geometry.addAttribute('position', new BufferAttribute(vertices, 3));\n    geometry.addAttribute('color', new BufferAttribute(colors, 3));\n    const material = new LineBasicMaterial({ vertexColors: ColorsMode.Vertex });\n    super(geometry, material);\n  }\n}\n","import { Vector3 } from \"../../math/Vector3\";\nimport { Curve } from \"../core/Curve\";\n/**\n * @author zz85 https://github.com/zz85\n *\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\nexport class CatmullRomCurve3 extends Curve<Vector3> {\n  type: string;\n  points: Vector3[];\n  closed: boolean = false;\n  tension: number = 0.5;\n  constructor(p: Vector3[] = []) {\n    super();\n    this.points = p;\n    this.closed = false;\n  }\n  getPoint(t: number): Vector3 {\n    const tmp: Vector3 = new Vector3();\n    const px: CubicPoly = new CubicPoly();\n    const py: CubicPoly = new CubicPoly();\n    const pz: CubicPoly = new CubicPoly();\n    const points: Vector3[] = this.points;\n    const l: number = points.length;\n    if (l < 2) console.log('duh, you need at least 2 points');\n    const point: number = (l - (this.closed ? 0 : 1)) * t;\n    let intPoint: number = Math.floor(point);\n    let weight: number = point - intPoint;\n    if (this.closed) {\n      intPoint += intPoint > 0 ? 0 : (Math.floor(Math.abs(intPoint) / points.length) + 1) * points.length;\n    } else if (weight === 0 && intPoint === l - 1) {\n      intPoint = l - 2;\n      weight = 1;\n    }\n    let p0: Vector3, p1: Vector3, p2: Vector3, p3: Vector3; // 4 points\n    if (this.closed || intPoint > 0) {\n      p0 = points[(intPoint - 1) % l];\n    } else {\n      // extrapolate first point\n      tmp.subVectors(points[0], points[1]).add(points[0]);\n      p0 = tmp;\n    }\n    p1 = points[intPoint % l];\n    p2 = points[(intPoint + 1) % l];\n    if (this.closed || intPoint + 2 < l) {\n      p3 = points[(intPoint + 2) % l];\n    } else {\n      // extrapolate last point\n      tmp.subVectors(points[l - 1], points[l - 2]).add(points[l - 1]);\n      p3 = tmp;\n    }\n    if (this.type === undefined || this.type === 'centripetal' || this.type === 'chordal') {\n      // init Centripetal / Chordal Catmull-Rom\n      const pow: number = this.type === 'chordal' ? 0.5 : 0.25;\n      let dt0: number = Math.pow(p0.distanceToSquared(p1), pow);\n      let dt1: number = Math.pow(p1.distanceToSquared(p2), pow);\n      let dt2: number = Math.pow(p2.distanceToSquared(p3), pow);\n      // safety check for repeated points\n      if (dt1 < 1e-4) dt1 = 1.0;\n      if (dt0 < 1e-4) dt0 = dt1;\n      if (dt2 < 1e-4) dt2 = dt1;\n      px.initNonuniformCatmullRom(p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2);\n      py.initNonuniformCatmullRom(p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2);\n      pz.initNonuniformCatmullRom(p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2);\n    } else if (this.type === 'catmullrom') {\n      const tension: number = this.tension;\n      px.initCatmullRom(p0.x, p1.x, p2.x, p3.x, tension);\n      py.initCatmullRom(p0.y, p1.y, p2.y, p3.y, tension);\n      pz.initCatmullRom(p0.z, p1.z, p2.z, p3.z, tension);\n    }\n    const v: Vector3 = new Vector3(\n      px.calc(weight),\n      py.calc(weight),\n      pz.calc(weight)\n    );\n    return v;\n  }\n}\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\nclass CubicPoly {\n  c0: number;\n  c1: number;\n  c2: number;\n  c3: number;\n  /*\n   * Compute coefficients for a cubic polynomial\n   *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n   * such that\n   *   p(0) = x0, p(1) = x1\n   *  and\n   *   p'(0) = t0, p'(1) = t1.\n   */\n  init(x0: number, x1: number, t0: number, t1: number): void {\n    this.c0 = x0;\n    this.c1 = t0;\n    this.c2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n    this.c3 = 2 * x0 - 2 * x1 + t0 + t1;\n  }\n  initNonuniformCatmullRom(x0: number, x1: number, x2: number, x3: number, dt0: number, dt1: number, dt2: number): void {\n    // compute tangents when parameterized in [t1,t2]\n    let t1: number = (x1 - x0) / dt0 - (x2 - x0) / (dt0 + dt1) + (x2 - x1) / dt1;\n    let t2: number = (x2 - x1) / dt1 - (x3 - x1) / (dt1 + dt2) + (x3 - x2) / dt2;\n    // rescale tangents for parametrization in [0,1]\n    t1 *= dt1;\n    t2 *= dt1;\n    // initCubicPoly\n    this.init(x1, x2, t1, t2);\n  }\n  // standard Catmull-Rom spline: interpolate between x1 and x2 with previous/following points x1/x4\n  initCatmullRom(x0: number, x1: number, x2: number, x3: number, tension: number): void {\n    this.init(x1, x2, tension * (x2 - x0), tension * (x3 - x1));\n  }\n  calc(t: number): number {\n    const t2: number = t * t;\n    const t3: number = t2 * t;\n    return this.c0 + this.c1 * t + this.c2 * t2 + this.c3 * t3;\n  }\n}\n","import { CatmullRomCurve3 } from \"./CatmullRomCurve3\";\nimport { Vector3 } from \"../../math/Vector3\";\n/**************************************************************\n *  Closed Spline 3D curve\n **************************************************************/\nexport class ClosedSplineCurve3 extends CatmullRomCurve3 {\n  constructor(points: Vector3[]) {\n    console.warn('THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.');\n    super(points);\n    this.type = 'catmullrom';\n    this.closed = true;\n  }\n}\n","import { Vector3 } from \"../../math/Vector3\";\nimport { CurveUtils } from \"../CurveUtils\";\nimport { Curve } from \"../core/Curve\";\n/**************************************************************\n *  Spline 3D curve\n **************************************************************/\nexport class SplineCurve3 extends Curve<Vector3> {\n  points: Vector3[];\n  constructor(points: Vector3[] = [] /* array of Vector3 */) {\n    super();\n    console.warn('THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3');\n    this.points = points;\n  }\n  getPoint(t: number): Vector3 {\n    let points = this.points;\n    let point = (points.length - 1) * t;\n    let intPoint = Math.floor(point);\n    let weight = point - intPoint;\n    let point0 = points[intPoint === 0 ? intPoint : intPoint - 1];\n    let point1 = points[intPoint];\n    let point2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];\n    let point3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];\n    let interpolate = CurveUtils.interpolate;\n    return new Vector3(\n      interpolate(point0.x, point1.x, point2.x, point3.x, weight),\n      interpolate(point0.y, point1.y, point2.y, point3.y, weight),\n      interpolate(point0.z, point1.z, point2.z, point3.z, weight)\n    );\n  }\n}\n","import { Vector3 } from \"../../math/Vector3\";\nimport { ShapeUtils } from \"../ShapeUtils\";\nimport { Curve } from \"../core/Curve\";\n/**************************************************************\n *  Cubic Bezier 3D curve\n **************************************************************/\nexport class CubicBezierCurve3 extends Curve<Vector3> {\n  v0: Vector3;\n  v1: Vector3;\n  v2: Vector3;\n  v3: Vector3;\n  constructor(v0: Vector3, v1: Vector3, v2: Vector3, v3: Vector3) {\n    super();\n    this.v0 = v0;\n    this.v1 = v1;\n    this.v2 = v2;\n    this.v3 = v3;\n  }\n  getPoint(t: number): Vector3 {\n    let b3 = ShapeUtils.b3;\n    return new Vector3(\n      b3(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x),\n      b3(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y),\n      b3(t, this.v0.z, this.v1.z, this.v2.z, this.v3.z)\n    );\n  }\n}\n","import { Vector3 } from \"../../math/Vector3\";\nimport { ShapeUtils } from \"../ShapeUtils\";\nimport { Curve } from \"../core/Curve\";\n/**************************************************************\n *  Quadratic Bezier 3D curve\n **************************************************************/\nexport class QuadraticBezierCurve3 extends Curve<Vector3> {\n  v0: Vector3;\n  v1: Vector3;\n  v2: Vector3;\n  constructor(v0: Vector3, v1: Vector3, v2: Vector3) {\n    super();\n    this.v0 = v0;\n    this.v1 = v1;\n    this.v2 = v2;\n  }\n  getPoint(t: number): Vector3 {\n    let b2 = ShapeUtils.b2;\n    return new Vector3(\n      b2(t, this.v0.x, this.v1.x, this.v2.x),\n      b2(t, this.v0.y, this.v1.y, this.v2.y),\n      b2(t, this.v0.z, this.v1.z, this.v2.z)\n    );\n  }\n}\n","import { Vector3 } from \"../../math/Vector3\";\nimport { Curve } from \"../core/Curve\";\n/**************************************************************\n *  Line3D\n **************************************************************/\nexport class LineCurve3 extends Curve<Vector3> {\n  v1: Vector3;\n  v2: Vector3;\n  constructor(v1: Vector3, v2: Vector3) {\n    super();\n    this.v1 = v1;\n    this.v2 = v2;\n  }\n  getPoint(t: number): Vector3 {\n    if (t === 1) {\n      return this.v2.clone();\n    }\n    let vector = new Vector3();\n    vector.subVectors(this.v2, this.v1); // diff\n    vector.multiplyScalar(t);\n    vector.add(this.v1);\n    return vector;\n  }\n}\n","import { EllipseCurve } from \"./EllipseCurve\";\n/**************************************************************\n *  Arc curve\n **************************************************************/\nexport class ArcCurve extends EllipseCurve {\n  constructor(aX: number, aY: number, aRadius: number, aStartAngle: number, aEndAngle: number, aClockwise: boolean) {\n    super(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n  }\n}\n","import { Matrix4 } from \"../math/Matrix4\";\nimport { Mesh } from \"../objects/Mesh\";\nimport { Group } from \"../objects/Group\";\n/**\n * @author alteredq / http://alteredqualia.com/\n */\nexport class SceneUtils {\n  static createMultiMaterialObject(geometry: any, materials: any): any {\n    let group = new Group();\n    for (let i = 0, l = materials.length; i < l; i ++) {\n      group.add(new Mesh(geometry, materials[i]));\n    }\n    return group;\n  }\n  static detach(child: any, parent: any, scene: any): void {\n    child.applyMatrix(parent.matrixWorld);\n    parent.remove(child);\n    scene.add(child);\n  }\n  static attach(child: any, scene: any, parent: any): void {\n    let matrixWorldInverse = new Matrix4();\n    matrixWorldInverse.getInverse(parent.matrixWorld);\n    child.applyMatrix(matrixWorldInverse);\n    scene.remove(child);\n    parent.add(child);\n  }\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\nimport { Face3 } from \"./core/Face3\";\nimport { BoxGeometry } from \"./geometries/BoxGeometry\";\nimport { EdgesGeometry } from \"./geometries/EdgesGeometry\";\nimport { WireframeGeometry } from \"./geometries/WireframeGeometry\";\nimport { CubeTextureLoader } from \"./loaders/CubeTextureLoader\";\nimport { TextureLoader } from \"./loaders/TextureLoader\";\nimport { LineBasicMaterial } from \"./materials/LineBasicMaterial\";\nimport { MultiMaterial } from \"./materials/MultiMaterial\";\nimport { PointsMaterial } from \"./materials/PointsMaterial\";\nimport { Vector3 } from \"./math/Vector3\";\nimport { LineSegments } from \"./objects/LineSegments\";\nimport { Points } from \"./objects/Points\";\nimport { Sprite } from \"./objects/Sprite\";\nimport { Color } from \"./math/Color\";\nimport { Texture } from \"./textures/Texture\";\nimport { CubeTexture } from \"./textures/CubeTexture\";\nimport { Camera } from \"./cameras/Camera\";\nimport { Mesh } from \"./objects/Mesh\";\nexport { BoxGeometry as CubeGeometry };\nexport class Face4 extends Face3 {\n  constructor(a: number, b: number, c: number, d: number, normal: Vector3, color: Color, materialIndex: number) {\n    console.warn(\"THREE.Face4 has been removed. A THREE.Face3 will be created instead.\");\n    super(a, b, c, normal, color, materialIndex);\n  }\n}\nexport const LineStrip = 0;\nexport const LinePieces = 1;\nexport { MultiMaterial as MeshFaceMaterial };\nexport class PointCloud extends Points {\n  constructor(geometry: any, material: any) {\n    console.warn(\"THREE.PointCloud has been renamed to THREE.Points.\");\n    super(geometry, material);\n  }\n}\nexport { Sprite as Particle };\nexport class ParticleSystem extends Points {\n  constructor(geometry: any, material: any) {\n    console.warn(\"THREE.ParticleSystem has been renamed to THREE.Points.\");\n    super(geometry, material);\n  }\n}\nexport class PointCloudMaterial extends PointsMaterial {\n  constructor(parameters: any) {\n    console.warn(\"THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.\");\n    super(parameters);\n  }\n}\nexport class ParticleBasicMaterial extends PointsMaterial {\n  constructor(parameters: any) {\n    console.warn(\"THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.\");\n    super(parameters);\n  }\n}\nexport class ParticleSystemMaterial extends PointsMaterial {\n  constructor(parameters: any) {\n    console.warn(\"THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.\");\n    super(parameters);\n  }\n}\nexport class Vertex extends Vector3 {\n  constructor(x: number, y: number, z: number) {\n    console.warn(\"THREE.Vertex has been removed. Use THREE.Vector3 instead.\");\n    super(x, y, z);\n  }\n}\n//\nexport class EdgesHelper extends LineSegments {\n  constructor(object: any, hex: number = 0xffffff) {\n    console.warn(\"THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.\");\n    super(new EdgesGeometry(object.geometry), new LineBasicMaterial({ color: hex }));\n  }\n}\nexport class WireframeHelper extends LineSegments {\n  constructor(object: any, hex: number = 0xffffff) {\n    console.warn(\"THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.\");\n    super(new WireframeGeometry(object.geometry), new LineBasicMaterial({ color: hex }));\n  }\n}\n//\nexport class GeometryUtils {\n  static merge(geometry1: any, geometry2: any, materialIndexOffset: number) {\n    console.warn(\"THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge(geometry2, matrix, materialIndexOffset) instead.\");\n    let matrix;\n    if (geometry2 instanceof Mesh) {\n      geometry2.matrixAutoUpdate && geometry2.updateMatrix();\n      matrix = geometry2.matrix;\n      geometry2 = geometry2.geometry;\n    }\n    geometry1.merge(geometry2, matrix, materialIndexOffset);\n  }\n  static center(geometry: any): Vector3 {\n    console.warn(\"THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.\");\n    return geometry.center();\n  }\n}\nexport class ImageUtils {\n  static crossOrigin: string;\n  static loadTexture(url: string, mapping: number, onLoad: any, onError: any): Texture {\n    console.warn(\"THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.\");\n    const loader = new TextureLoader();\n    loader.setCrossOrigin(this.crossOrigin);\n    const texture = loader.load(url, onLoad, undefined, onError);\n    if (mapping) texture.mapping = mapping;\n    return texture;\n  }\n  loadTextureCube(urls: string[], mapping: number, onLoad: any, onError: any): CubeTexture {\n    console.warn(\"THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.\");\n    const loader = new CubeTextureLoader();\n    loader.setCrossOrigin(ImageUtils.crossOrigin);\n    const texture = loader.load(urls, onLoad, undefined, onError);\n    if (mapping) texture.mapping = mapping;\n    return texture;\n  }\n  loadCompressedTexture () {\n    console.error(\"THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.\");\n  }\n  loadCompressedTextureCube() {\n    console.error(\"THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.\");\n  }\n}\n//\nexport class Projector {\n  constructor() {\n    console.error(\"THREE.Projector has been moved to /examples/js/renderers/Projector.ts.\");\n  }\n  projectVector(vector: Vector3, camera: Camera) {\n    console.warn(\"THREE.Projector: .projectVector() is now vector.project().\");\n    vector.project(camera);\n  }\n  unprojectVector(vector: Vector3, camera: Camera) {\n    console.warn(\"THREE.Projector: .unprojectVector() is now vector.unproject().\");\n    vector.unproject(camera);\n  }\n  pickingRay(vector: Vector3, camera: Camera) {\n    console.error(\"THREE.Projector: .pickingRay() is now raycaster.setFromCamera().\");\n  };\n}\n//\nexport class CanvasRenderer {\n  domElement: HTMLCanvasElement;\n  constructor() {\n    console.error(\"THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.ts\");\n    this.domElement = <HTMLCanvasElement> document.createElementNS(\"http://www.w3.org/1999/xhtml\", \"canvas\");\n  }\n  clear() {}\n  render() {}\n  setClearColor() {}\n  setSize() {}\n}\n"],"names":["count","NumberKeyframeTrack","VectorKeyframeTrack","ColorKeyframeTrack","QuaternionKeyframeTrack","BooleanKeyframeTrack","StringKeyframeTrack"],"mappings":";;;;;;AAAA;AACA,IAAI,MAAM,CAAC,OAAO,KAAK,SAAS,EAAE;;IAEhC,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,SAAS,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAE,EAAE,CAAC,EAAE,CAAC,CAAC;CACxE;;AAED,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;;IAE3B,IAAI,CAAC,IAAI,GAAG,UAAS,CAAC;QACpB,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAE,CAAC,CAAC;KAC1C,CAAC;CACH;AACD,IAAI,QAAQ,CAAC,SAAS,CAAC,IAAI,KAAK,SAAS,EAAE;;;IAGzC,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,MAAM,EAAE;QAChD,GAAG,EAAE;YACH,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,CAAC;SAC9D;KACF,CAAC,CAAC;CACJ;AACD,IAAI,MAAM,CAAC,MAAM,KAAK,SAAS,EAAE;;;IAG/B,CAAC;QACC,MAAM,CAAC,MAAM,GAAG,UAAS,MAAM;YAE7B,IAAI,MAAM,KAAK,SAAS,IAAI,MAAM,KAAK,IAAI,EAAE;gBAC3C,MAAM,IAAI,SAAS,CAAC,4CAA4C,CAAC,CAAC;aACnE;YACD,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;YAC5B,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,SAAS,CAAC,MAAM,EAAE,KAAK,EAAG,EAAE;gBACtD,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;gBAC9B,IAAI,MAAM,KAAK,SAAS,IAAI,MAAM,KAAK,IAAI,EAAE;oBAC3C,KAAK,IAAI,OAAO,IAAI,MAAM,EAAE;wBAC1B,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,EAAE;4BACzD,MAAM,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;yBACnC;qBACF;iBACF;aACF;YACD,OAAO,MAAM,CAAC;SACf,CAAC;KACH,GAAG,CAAC;CACN;;AC5CD;;;AAGO;IAAA;KAoDN;IAlDC,0CAAgB,GAAhB,UAAiB,IAAY,EAAE,QAA8B;QAC3D,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS;YAAE,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACxD,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;QAClC,IAAI,SAAS,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE;YACjC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;SACtB;QACD,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAE,CAAC,EAAE;YAC7C,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAChC;KACF;IACD,0CAAgB,GAAhB,UAAiB,IAAY,EAAE,QAA8B;QAC3D,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS;YAAE,OAAO,KAAK,CAAC;QAChD,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;QAClC,IAAI,SAAS,CAAC,IAAI,CAAC,KAAK,SAAS,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAE,CAAC,EAAE;YAC9E,OAAO,IAAI,CAAC;SACb;QACD,OAAO,KAAK,CAAC;KACd;IACD,6CAAmB,GAAnB,UAAoB,IAAY,EAAE,QAA8B;QAC9D,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS;YAAE,OAAO;QAC1C,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;QAClC,IAAM,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,aAAa,KAAK,SAAS,EAAE;YAC/B,IAAM,KAAK,GAAG,aAAa,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YAC9C,IAAI,KAAK,KAAK,CAAE,CAAC,EAAE;gBACjB,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;aAChC;SACF;KACF;IACD,uCAAa,GAAb,UAAc,KAAU;QACtB,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS;YAAE,OAAO;QAC1C,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;QAClC,IAAM,aAAa,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,aAAa,KAAK,SAAS,EAAE;YAC/B,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;YACpB,IAAM,KAAK,GAAG,EAAE,CAAC;YACjB,IAAM,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC;YACpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAG,EAAE;gBAChC,KAAK,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;aAC7B;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAG,EAAE;gBAChC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;aAC5B;SACF;KACF;IACD,+BAAK,GAAL,UAAM,MAAW;QACf,OAAO,CAAC,IAAI,CAAC,+CAA+C;YACxD,wDAAwD,CAAC,CAAC;QAC9D,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;KAC7B;IACH,sBAAC;CAAA;;ICvDY,QAAQ,GAAG,IAAI,CAAC;;AAE7B,IAAY,KAAyC;AAArD,WAAY,KAAK;IAAG,iCAAQ,CAAA;IAAE,qCAAU,CAAA;IAAE,mCAAS,CAAA;CAAE,EAAzC,KAAK,KAAL,KAAK,QAAoC;;AAErD,IAAY,QAKX;AALD,WAAY,QAAQ;IAClB,uCAAQ,CAAA;IACR,uCAAQ,CAAA;IACR,yCAAS,CAAA;IACT,iDAAa,CAAA;CACd,EALW,QAAQ,KAAR,QAAQ,QAKnB;AACD,IAAa,YAAY,GAAG,QAAQ,CAAC,IAAI,CAAC;AAC1C,IAAa,YAAY,GAAG,QAAQ,CAAC,IAAI,CAAC;AAC1C,IAAa,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAC;AAC5C,IAAa,iBAAiB,GAAG,QAAQ,CAAC,SAAS,CAAC;;AAEpD,IAAY,kBAGX;AAHD,WAAY,kBAAkB;IAC5B,uDAAM,CAAA;IACN,yDAAO,CAAA;CACR,EAHW,kBAAkB,KAAlB,kBAAkB,QAG7B;AACD,IAAa,oBAAoB,GAAuB,kBAAkB,CAAC,EAAE,CAAC;AAC9E,IAAa,qBAAqB,GAAuB,kBAAkB,CAAC,GAAG,CAAC;;AAEhF,IAAY,SAIX;AAJD,WAAY,SAAS;IACnB,2CAAS,CAAA;IACT,uCAAO,CAAA;IACP,+CAAW,CAAA;CACZ,EAJW,SAAS,KAAT,SAAS,QAIpB;AACD,IAAa,cAAc,GAAc,SAAS,CAAC,KAAK,CAAC;AACzD,IAAa,YAAY,GAAc,SAAS,CAAC,GAAG,CAAC;AACrD,IAAa,gBAAgB,GAAc,SAAS,CAAC,OAAO,CAAC;;AAE7D,IAAY,QAIX;AAJD,WAAY,QAAQ;IAClB,yCAAS,CAAA;IACT,uCAAQ,CAAA;IACR,2CAAU,CAAA;CACX,EAJW,QAAQ,KAAR,QAAQ,QAInB;AACD,IAAa,SAAS,GAAa,QAAQ,CAAC,KAAK,CAAC;AAClD,IAAa,QAAQ,GAAa,QAAQ,CAAC,IAAI,CAAC;AAChD,IAAa,UAAU,GAAa,QAAQ,CAAC,MAAM,CAAC;;AAEpD,IAAY,WAGX;AAHD,WAAY,WAAW;IACrB,6CAAQ,CAAA;IACR,iDAAU,CAAA;CACX,EAHW,WAAW,KAAX,WAAW,QAGtB;AACD,IAAa,WAAW,GAAgB,WAAW,CAAC,IAAI,CAAC;AACzD,IAAa,aAAa,GAAgB,WAAW,CAAC,MAAM,CAAC;;AAE7D,IAAY,UAIX;AAJD,WAAY,UAAU;IACpB,2CAAQ,CAAA;IACR,2CAAQ,CAAA;IACR,+CAAU,CAAA;CACX,EAJW,UAAU,KAAV,UAAU,QAIrB;AACD,IAAa,QAAQ,GAAe,UAAU,CAAC,IAAI,CAAC;AACpD,IAAa,UAAU,GAAe,UAAU,CAAC,IAAI,CAAC;AACtD,IAAa,YAAY,GAAe,UAAU,CAAC,MAAM,CAAC;;AAE1D,IAAY,YAOX;AAPD,WAAY,YAAY;IACtB,+CAAQ,CAAA;IACR,mDAAU,CAAA;IACV,uDAAY,CAAA;IACZ,6DAAe,CAAA;IACf,uDAAY,CAAA;IACZ,mDAAU,CAAA;CACX,EAPW,YAAY,KAAZ,YAAY,QAOvB;AACD,IAAa,UAAU,GAAiB,YAAY,CAAC,IAAI,CAAC;AAC1D,IAAa,cAAc,GAAiB,YAAY,CAAC,MAAM,CAAC;AAChE,IAAa,gBAAgB,GAAiB,YAAY,CAAC,QAAQ,CAAC;AACpE,IAAa,mBAAmB,GAAiB,YAAY,CAAC,WAAW,CAAC;AAC1E,IAAa,gBAAgB,GAAiB,YAAY,CAAC,QAAQ,CAAC;AACpE,IAAa,cAAc,GAAiB,YAAY,CAAC,MAAM,CAAC;;AAEhE,IAAY,gBAMX;AAND,WAAY,gBAAgB;IAC1B,uDAAS,CAAA;IACT,iEAAc,CAAA;IACd,+EAAqB,CAAA;IACrB,uDAAS,CAAA;IACT,uDAAS,CAAA;CACV,EANW,gBAAgB,KAAhB,gBAAgB,QAM3B;AACD,IAAa,WAAW,GAAqB,gBAAgB,CAAC,GAAG,CAAC;AAClE,IAAa,gBAAgB,GAAqB,gBAAgB,CAAC,QAAQ,CAAC;AAC5E,IAAa,uBAAuB,GAAqB,gBAAgB,CAAC,eAAe,CAAC;AAC1F,IAAa,WAAW,GAAqB,gBAAgB,CAAC,GAAG,CAAC;AAClE,IAAa,WAAW,GAAqB,gBAAgB,CAAC,GAAG,CAAC;;AAElE,IAAY,cAYX;AAZD,WAAY,cAAc;IACxB,qDAAU,CAAA;IACV,mDAAS,CAAA;IACT,6DAAc,CAAA;IACd,6EAAsB,CAAA;IACtB,6DAAc,CAAA;IACd,6EAAsB,CAAA;IACtB,6DAAc,CAAA;IACd,6EAAsB,CAAA;IACtB,6DAAc,CAAA;IACd,6EAAsB,CAAA;IACtB,6EAAsB,CAAA;CACvB,EAZW,cAAc,KAAd,cAAc,QAYzB;AACD,IAAa,UAAU,GAAmB,cAAc,CAAC,IAAI,CAAC;AAC9D,IAAa,SAAS,GAAmB,cAAc,CAAC,GAAG,CAAC;AAC5D,IAAa,cAAc,GAAmB,cAAc,CAAC,QAAQ,CAAC;AACtE,IAAa,sBAAsB,GAAmB,cAAc,CAAC,gBAAgB,CAAC;AACtF,IAAa,cAAc,GAAmB,cAAc,CAAC,QAAQ,CAAC;AACtE,IAAa,sBAAsB,GAAmB,cAAc,CAAC,gBAAgB,CAAC;AACtF,IAAa,cAAc,GAAmB,cAAc,CAAC,QAAQ,CAAC;AACtE,IAAa,sBAAsB,GAAmB,cAAc,CAAC,gBAAgB,CAAC;AACtF,IAAa,cAAc,GAAmB,cAAc,CAAC,QAAQ,CAAC;AACtE,IAAa,sBAAsB,GAAmB,cAAc,CAAC,gBAAgB,CAAC;AACtF,IAAa,sBAAsB,GAAmB,cAAc,CAAC,gBAAgB,CAAC;;AAEtF,IAAY,aASX;AATD,WAAY,aAAa;IACvB,mDAAS,CAAA;IACT,qDAAU,CAAA;IACV,iDAAQ,CAAA;IACR,2DAAa,CAAA;IACb,mDAAS,CAAA;IACT,iEAAgB,CAAA;IAChB,uDAAW,CAAA;IACX,yDAAY,CAAA;CACb,EATW,aAAa,KAAb,aAAa,QASxB;AACD,IAAa,UAAU,GAAkB,aAAa,CAAC,KAAK,CAAC;AAC7D,IAAa,WAAW,GAAkB,aAAa,CAAC,MAAM,CAAC;AAC/D,IAAa,SAAS,GAAkB,aAAa,CAAC,IAAI,CAAC;AAC3D,IAAa,cAAc,GAAkB,aAAa,CAAC,SAAS,CAAC;AACrE,IAAa,UAAU,GAAkB,aAAa,CAAC,KAAK,CAAC;AAC7D,IAAa,iBAAiB,GAAkB,aAAa,CAAC,YAAY,CAAC;AAC3E,IAAa,YAAY,GAAkB,aAAa,CAAC,OAAO,CAAC;AACjE,IAAa,aAAa,GAAkB,aAAa,CAAC,QAAQ,CAAC;;AAEnE,IAAY,iBAIX;AAJD,WAAY,iBAAiB;IAC3B,iEAAY,CAAA;IACZ,uDAAO,CAAA;IACP,uDAAO,CAAA;CACR,EAJW,iBAAiB,KAAjB,iBAAiB,QAI5B;AACD,IAAa,iBAAiB,GAAsB,iBAAiB,CAAC,QAAQ,CAAC;AAC/E,IAAa,YAAY,GAAsB,iBAAiB,CAAC,GAAG,CAAC;AACrE,IAAa,YAAY,GAAsB,iBAAiB,CAAC,GAAG,CAAC;;AAErE,IAAY,WAMX;AAND,WAAY,WAAW;IACrB,6CAAQ,CAAA;IACR,iDAAU,CAAA;IACV,qDAAY,CAAA;IACZ,yDAAc,CAAA;IACd,iDAAU,CAAA;CACX,EANW,WAAW,KAAX,WAAW,QAMtB;AACD,IAAa,aAAa,GAAgB,WAAW,CAAC,IAAI,CAAC;AAC3D,IAAa,iBAAiB,GAAgB,WAAW,CAAC,MAAM,CAAC;AACjE,IAAa,mBAAmB,GAAgB,WAAW,CAAC,QAAQ,CAAC;AACrE,IAAa,qBAAqB,GAAgB,WAAW,CAAC,UAAU,CAAC;AACzE,IAAa,iBAAiB,GAAgB,WAAW,CAAC,MAAM,CAAC;;AAEjE,IAAY,cASX;AATD,WAAY,cAAc;IACxB,iDAAQ,CAAA;IACR,yEAAoB,CAAA;IACpB,yEAAoB,CAAA;IACpB,+FAA+B,CAAA;IAC/B,+FAA+B,CAAA;IAC/B,mFAAyB,CAAA;IACzB,6EAAsB,CAAA;IACtB,6EAAsB,CAAA;CACvB,EATW,cAAc,KAAd,cAAc,QASzB;AACD,IAAa,SAAS,GAAmB,cAAc,CAAC,EAAE,CAAC;AAC3D,IAAa,qBAAqB,GAAmB,cAAc,CAAC,cAAc,CAAC;AACnF,IAAa,qBAAqB,GAAmB,cAAc,CAAC,cAAc,CAAC;AACnF,IAAa,gCAAgC,GAAmB,cAAc,CAAC,yBAAyB,CAAC;AACzG,IAAa,gCAAgC,GAAmB,cAAc,CAAC,yBAAyB,CAAC;AACzG,IAAa,0BAA0B,GAAmB,cAAc,CAAC,mBAAmB,CAAC;AAC7F,IAAa,uBAAuB,GAAmB,cAAc,CAAC,gBAAgB,CAAC;AACvF,IAAa,uBAAuB,GAAmB,cAAc,CAAC,gBAAgB,CAAC;;AAEvF,IAAY,eAIX;AAJD,WAAY,eAAe;IACzB,4DAAa,CAAA;IACb,sEAAkB,CAAA;IAClB,4EAAqB,CAAA;CACtB,EAJW,eAAe,KAAf,eAAe,QAI1B;AACD,IAAa,cAAc,GAAoB,eAAe,CAAC,MAAM,CAAC;AACtE,IAAa,mBAAmB,GAAoB,eAAe,CAAC,WAAW,CAAC;AAChF,IAAa,sBAAsB,GAAoB,eAAe,CAAC,cAAc,CAAC;;AAEtF,IAAY,aAOX;AAPD,WAAY,aAAa;IACvB,0DAAc,CAAA;IACd,oFAA2B,CAAA;IAC3B,kFAA0B,CAAA;IAC1B,wDAAa,CAAA;IACb,kFAA0B,CAAA;IAC1B,gFAAyB,CAAA;CAC1B,EAPW,aAAa,KAAb,aAAa,QAOxB;AACD,IAAa,aAAa,GAAkB,aAAa,CAAC,OAAO,CAAC;AAClE,IAAa,0BAA0B,GAAkB,aAAa,CAAC,oBAAoB,CAAC;AAC5F,IAAa,yBAAyB,GAAkB,aAAa,CAAC,mBAAmB,CAAC;AAC1F,IAAa,YAAY,GAAkB,aAAa,CAAC,MAAM,CAAC;AAChE,IAAa,yBAAyB,GAAkB,aAAa,CAAC,mBAAmB,CAAC;AAC1F,IAAa,wBAAwB,GAAkB,aAAa,CAAC,kBAAkB,CAAC;;AAExF,IAAY,WAaX;AAbD,WAAY,WAAW;IACrB,gEAAmB,CAAA;IACnB,gDAAW,CAAA;IACX,kDAAY,CAAA;IACZ,kEAAoB,CAAA;IACpB,8CAAU,CAAA;IACV,8DAAkB,CAAA;IAClB,kDAAY,CAAA;IACZ,0DAAgB,CAAA;IAChB,0EAAwB,CAAA;IACxB,0EAAwB,CAAA;IACxB,wEAAuB,CAAA;IACvB,oEAAqB,CAAA;CACtB,EAbW,WAAW,KAAX,WAAW,QAatB;AACD,IAAa,gBAAgB,GAAgB,WAAW,CAAC,YAAY,CAAC;AACtE,IAAa,QAAQ,GAAgB,WAAW,CAAC,IAAI,CAAC;AACtD,IAAa,SAAS,GAAgB,WAAW,CAAC,KAAK,CAAC;AACxD,IAAa,iBAAiB,GAAgB,WAAW,CAAC,aAAa,CAAC;AACxE,IAAa,OAAO,GAAgB,WAAW,CAAC,GAAG,CAAC;AACpD,IAAa,eAAe,GAAgB,WAAW,CAAC,WAAW,CAAC;AACpE,IAAa,SAAS,GAAgB,WAAW,CAAC,KAAK,CAAC;AACxD,IAAa,aAAa,GAAgB,WAAW,CAAC,SAAS,CAAC;AAChE,IAAa,qBAAqB,GAAgB,WAAW,CAAC,iBAAiB,CAAC;AAChF,IAAa,qBAAqB,GAAgB,WAAW,CAAC,iBAAiB,CAAC;AAChF,IAAa,oBAAoB,GAAgB,WAAW,CAAC,gBAAgB,CAAC;AAC9E,IAAa,kBAAkB,GAAgB,WAAW,CAAC,cAAc,CAAC;;AAE1E,IAAY,aAkBX;AAlBD,WAAY,aAAa;IACvB,sDAAY,CAAA;IACZ,kDAAU,CAAA;IACV,oDAAW,CAAA;IACX,8DAAgB,CAAA;IAChB,wEAAqB,CAAA;IACrB,oDAAW,CAAA;IACX,sDAAY,CAAA;IACZ,oEAAmB,CAAA;IACnB,sEAAoB,CAAA;IACpB,wEAAqB,CAAA;IACrB,wEAAqB,CAAA;IACrB,wEAAqB,CAAA;IACrB,4EAAuB,CAAA;IACvB,4EAAuB,CAAA;IACvB,8EAAwB,CAAA;IACxB,8EAAwB,CAAA;IACxB,4DAAe,CAAA;CAChB,EAlBW,aAAa,KAAb,aAAa,QAkBxB;AACD,IAAa,WAAW,GAAkB,aAAa,CAAC,KAAK,CAAC;AAC9D,IAAa,SAAS,GAAkB,aAAa,CAAC,GAAG,CAAC;AAC1D,IAAa,UAAU,GAAkB,aAAa,CAAC,IAAI,CAAC;AAC5D,IAAa,eAAe,GAAkB,aAAa,CAAC,SAAS,CAAC;AACtE,IAAa,oBAAoB,GAAkB,aAAa,CAAC,cAAc,CAAC;AAChF,IAAa,UAAU,GAAkB,aAAa,CAAC,IAAI,CAAC;AAC5D,IAAa,WAAW,GAAkB,aAAa,CAAC,KAAK,CAAC;AAC9D,IAAa,kBAAkB,GAAkB,aAAa,CAAC,YAAY,CAAC;AAC5E,IAAa,oBAAoB,GAAkB,aAAa,CAAC,aAAa,CAAC;AAC/E,IAAa,qBAAqB,GAAkB,aAAa,CAAC,cAAc,CAAC;AACjF,IAAa,qBAAqB,GAAkB,aAAa,CAAC,cAAc,CAAC;AACjF,IAAa,qBAAqB,GAAkB,aAAa,CAAC,cAAc,CAAC;AACjF,IAAa,uBAAuB,GAAkB,aAAa,CAAC,gBAAgB,CAAC;AACrF,IAAa,uBAAuB,GAAkB,aAAa,CAAC,gBAAgB,CAAC;AACrF,IAAa,wBAAwB,GAAkB,aAAa,CAAC,iBAAiB,CAAC;AACvF,IAAa,wBAAwB,GAAkB,aAAa,CAAC,iBAAiB,CAAC;AACvF,IAAa,eAAe,GAAkB,aAAa,CAAC,QAAQ,CAAC;;AAErE,IAAY,QAIX;AAJD,WAAY,QAAQ;IAClB,0CAAW,CAAA;IACX,8CAAa,CAAA;IACb,kDAAe,CAAA;CAChB,EAJW,QAAQ,KAAR,QAAQ,QAInB;AACD,IAAa,QAAQ,GAAa,QAAQ,CAAC,IAAI,CAAC;AAChD,IAAa,UAAU,GAAa,QAAQ,CAAC,MAAM,CAAC;AACpD,IAAa,YAAY,GAAa,QAAQ,CAAC,QAAQ,CAAC;;AAExD,IAAY,eAIX;AAJD,WAAY,eAAe;IACzB,gEAAe,CAAA;IACf,4DAAa,CAAA;IACb,4DAAa,CAAA;CACd,EAJW,eAAe,KAAf,eAAe,QAI1B;AACD,IAAa,mBAAmB,GAAoB,eAAe,CAAC,QAAQ,CAAC;AAC7E,IAAa,iBAAiB,GAAoB,eAAe,CAAC,MAAM,CAAC;AACzE,IAAa,iBAAiB,GAAoB,eAAe,CAAC,MAAM,CAAC;;AAEzE,IAAY,UAIX;AAJD,WAAY,UAAU;IACpB,gEAAoB,CAAA;IACpB,wDAAgB,CAAA;IAChB,0DAAiB,CAAA;CAClB,EAJW,UAAU,KAAV,UAAU,QAIrB;AACD,IAAa,mBAAmB,GAAe,UAAU,CAAC,aAAa,CAAC;AACxE,IAAa,eAAe,GAAe,UAAU,CAAC,SAAS,CAAC;AAChE,IAAa,gBAAgB,GAAe,UAAU,CAAC,UAAU,CAAC;;AAElE,IAAY,QAIX;AAJD,WAAY,QAAQ;IAClB,iDAAa,CAAA;IACb,yDAAiB,CAAA;IACjB,qDAAe,CAAA;CAChB,EAJW,QAAQ,KAAR,QAAQ,QAInB;AACD,IAAa,iBAAiB,GAAa,QAAQ,CAAC,SAAS,CAAC;AAC9D,IAAa,qBAAqB,GAAa,QAAQ,CAAC,aAAa,CAAC;AACtE,IAAa,mBAAmB,GAAa,QAAQ,CAAC,WAAW,CAAC;;AAElE,IAAY,eASX;AATD,WAAY,eAAe;IACzB,4DAAa,CAAA;IACb,wDAAW,CAAA;IACX,0DAAY,CAAA;IACZ,wDAAW,CAAA;IACX,4DAAa,CAAA;IACb,0DAAY,CAAA;IACZ,4DAAa,CAAA;IACb,wDAAW,CAAA;CACZ,EATW,eAAe,KAAf,eAAe,QAS1B;AACD,IAAa,cAAc,GAAoB,eAAe,CAAC,MAAM,CAAC;AACtE,IAAa,YAAY,GAAoB,eAAe,CAAC,IAAI,CAAC;AAClE,IAAa,aAAa,GAAoB,eAAe,CAAC,KAAK,CAAC;AACpE,IAAa,YAAY,GAAoB,eAAe,CAAC,IAAI,CAAC;AAClE,IAAa,cAAc,GAAoB,eAAe,CAAC,MAAM,CAAC;AACtE,IAAa,aAAa,GAAoB,eAAe,CAAC,KAAK,CAAC;AACpE,IAAa,cAAc,GAAoB,eAAe,CAAC,MAAM,CAAC;AACtE,IAAa,YAAY,GAAoB,eAAe,CAAC,IAAI,CAAC;;AAElE,IAAY,YAGX;AAHD,WAAY,YAAY;IACtB,oDAAY,CAAA;IACZ,kDAAW,CAAA;CACZ,EAHW,YAAY,KAAZ,YAAY,QAGvB;AACD,IAAa,iBAAiB,GAAiB,YAAY,CAAC,KAAK,CAAC;AAClE,IAAa,gBAAgB,GAAiB,YAAY,CAAC,IAAI;;AC7T/D;;;;AAIO;IAAA;KA2FN;IArFQ,kBAAY,GAAnB;QACE,IAAM,KAAK,GAAa,KAAK,CAAC,kBAAkB,CAAC;QACjD,IAAM,IAAI,GAAa,KAAK,CAAC,iBAAiB,CAAC;QAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAG,EAAE;YAC5B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,EAAE;gBAC/C,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;aACf;iBAAM,IAAI,CAAC,KAAK,EAAE,EAAE;gBACnB,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;aACf;iBAAM;gBACL,IAAI,GAAG,GAAW,KAAK,CAAC,gBAAgB,CAAC;gBACzC,IAAI,GAAG,IAAI,IAAI;oBAAE,GAAG,GAAG,SAAS,IAAI,IAAI,CAAC,MAAM,EAAE,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;gBACnE,IAAM,CAAC,GAAW,GAAG,GAAG,GAAG,CAAC;gBAC5B,KAAK,CAAC,gBAAgB,GAAG,GAAG,IAAI,CAAC,CAAC;gBAClC,IAAI,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC;aACnD;SACF;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KACtB;IACM,WAAK,GAAZ,UAAa,KAAa,EAAE,GAAW,EAAE,GAAW;QAClD,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;KAC5C;;;IAGM,qBAAe,GAAtB,UAAuB,CAAS,EAAE,CAAS;QACzC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC1B;;IAEM,eAAS,GAAhB,UAAiB,CAAS,EAAE,EAAU,EAAE,EAAU,EAAE,EAAU,EAAE,EAAU;QACxE,OAAO,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;KAC9C;;IAEM,UAAI,GAAX,UAAY,CAAS,EAAE,CAAS,EAAE,CAAS;QACzC,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC5B;;IAEM,gBAAU,GAAjB,UAAkB,CAAS,EAAE,GAAW,EAAE,GAAW;QACnD,IAAI,CAAC,IAAI,GAAG;YAAE,OAAO,CAAC,CAAC;QACvB,IAAI,CAAC,IAAI,GAAG;YAAE,OAAO,CAAC,CAAC;QACvB,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,CAAC,CAAC;QAC5B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;KAC5B;IACM,kBAAY,GAAnB,UAAoB,CAAS,EAAE,GAAW,EAAE,GAAW;QACrD,IAAI,CAAC,IAAI,GAAG;YAAE,OAAO,CAAC,CAAC;QACvB,IAAI,CAAC,IAAI,GAAG;YAAE,OAAO,CAAC,CAAC;QACvB,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,CAAC,CAAC;QAC5B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;KAC5C;IACM,cAAQ,GAAf;QACE,OAAO,CAAC,IAAI,CAAC,uEAAuE,CAAC,CAAC;QACtF,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;KACtB;;IAEM,aAAO,GAAd,UAAe,GAAW,EAAE,IAAY;QACtC,OAAO,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;KAC3D;;IAEM,eAAS,GAAhB,UAAiB,GAAW,EAAE,IAAY;QACxC,OAAO,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC;KAC3C;;IAEM,qBAAe,GAAtB,UAAuB,KAAa;QAClC,OAAO,KAAK,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;KACtC;IACM,cAAQ,GAAf,UAAgB,OAAe;QAC7B,OAAO,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;KAChC;IACM,cAAQ,GAAf,UAAgB,OAAe;QAC7B,OAAO,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;KAChC;IACM,kBAAY,GAAnB,UAAoB,KAAa;QAC/B,OAAO,CAAC,KAAK,IAAI,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC;KACnD;IACM,uBAAiB,GAAxB,UAAyB,KAAa;QACpC,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;KAC5D;IACM,oBAAc,GAArB,UAAsB,KAAa;QACjC,KAAK,EAAG,CAAC;QACT,KAAK,IAAI,KAAK,IAAI,CAAC,CAAC;QACpB,KAAK,IAAI,KAAK,IAAI,CAAC,CAAC;QACpB,KAAK,IAAI,KAAK,IAAI,CAAC,CAAC;QACpB,KAAK,IAAI,KAAK,IAAI,CAAC,CAAC;QACpB,KAAK,IAAI,KAAK,IAAI,EAAE,CAAC;QACrB,KAAK,EAAG,CAAC;QACT,OAAO,KAAK,CAAC;KACd;IAzFM,aAAO,GAAW,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;IAChC,aAAO,GAAW,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;IACxB,wBAAkB,GAAa,gEAAgE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IAC1G,uBAAiB,GAAa,IAAI,KAAK,CAAC,EAAE,CAAC,CAAC;IAC5C,sBAAgB,GAAW,CAAC,CAAC;IAsF9C,YAAC;CAAA;;AC/FD;;;;;;AAMO;IAIL,iBAAY,CAAa,EAAE,CAAa;QAA5B,kBAAA,EAAA,KAAa;QAAE,kBAAA,EAAA,KAAa;QAD/B,cAAS,GAAY,IAAI,CAAC;QAEjC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;KACZ;IACD,sBAAI,0BAAK;aAAT,cAAsB,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE;aACtC,UAAU,KAAa,IAAI,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE;;;OADN;IAEtC,sBAAI,2BAAM;aAAV,cAAuB,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE;aACvC,UAAW,KAAa,IAAI,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE;;;OADN;IAEvC,qBAAG,GAAH,UAAI,CAAS,EAAE,CAAS;QACtB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,OAAO,IAAI,CAAC;KACb;IACD,2BAAS,GAAT,UAAU,MAAc;QACtB,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;QAChB,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;QAChB,OAAO,IAAI,CAAC;KACb;IACD,sBAAI,GAAJ,UAAK,CAAS;QACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,OAAO,IAAI,CAAC;KACb;IACD,sBAAI,GAAJ,UAAK,CAAS;QACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,OAAO,IAAI,CAAC;KACb;IACD,8BAAY,GAAZ,UAAa,KAAa,EAAE,KAAa;QACvC,QAAQ,KAAK;YACX,KAAK,CAAC;gBAAE,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC;gBAAC,MAAM;YAC9B,KAAK,CAAC;gBAAE,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC;gBAAC,MAAM;YAC9B,SAAS,MAAM,IAAI,KAAK,CAAC,yBAAyB,GAAG,KAAK,CAAC,CAAC;SAC7D;QACD,OAAO,IAAI,CAAC;KACb;IACD,8BAAY,GAAZ,UAAa,KAAa;QACxB,QAAQ,KAAK;YACX,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC;YACtB,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC;YACtB,SAAS,MAAM,IAAI,KAAK,CAAC,yBAAyB,GAAG,KAAK,CAAC,CAAC;SAC7D;KACF;IACD,uBAAK,GAAL;QACE,OAAO,IAAK,IAAI,CAAC,WAAmB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACnD;IACD,sBAAI,GAAJ,UAAK,CAAU;QACb,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACb,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACb,OAAO,IAAI,CAAC;KACb;IACD,qBAAG,GAAH,UAAI,CAAU,EAAE,CAAW;QACzB,IAAI,CAAC,KAAK,SAAS,EAAE;YACnB,OAAO,CAAC,IAAI,CAAC,qFAAqF,CAAC,CAAC;YACpG,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAC9B;QACD,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,OAAO,IAAI,CAAC;KACb;IACD,2BAAS,GAAT,UAAU,CAAS;QACjB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,OAAO,IAAI,CAAC;KACb;IACD,4BAAU,GAAV,UAAW,CAAU,EAAE,CAAU;QAC/B,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,OAAO,IAAI,CAAC;KACb;IACD,iCAAe,GAAf,UAAgB,CAAU,EAAE,CAAS;QACnC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAClB,OAAO,IAAI,CAAC;KACb;IACD,qBAAG,GAAH,UAAI,CAAU,EAAE,CAAW;QACzB,IAAI,CAAC,KAAK,SAAS,EAAE;YACnB,OAAO,CAAC,IAAI,CAAC,qFAAqF,CAAC,CAAC;YACpG,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAC9B;QACD,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,OAAO,IAAI,CAAC;KACb;IACD,2BAAS,GAAT,UAAU,CAAS;QACjB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,OAAO,IAAI,CAAC;KACb;IACD,4BAAU,GAAV,UAAW,CAAU,EAAE,CAAU;QAC/B,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,OAAO,IAAI,CAAC;KACb;IACD,0BAAQ,GAAR,UAAS,CAAU;QACjB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,OAAO,IAAI,CAAC;KACb;IACD,gCAAc,GAAd,UAAe,MAAc;QAC3B,IAAI,QAAQ,CAAC,MAAM,CAAC,EAAE;YACpB,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC;YACjB,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC;SAClB;aAAM;YACL,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;SACZ;QACD,OAAO,IAAI,CAAC;KACb;IACD,wBAAM,GAAN,UAAO,CAAU;QACf,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,OAAO,IAAI,CAAC;KACb;IACD,8BAAY,GAAZ,UAAa,MAAc;QACzB,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC;KACxC;IACD,qBAAG,GAAH,UAAI,CAAU;QACZ,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,OAAO,IAAI,CAAC;KACb;IACD,qBAAG,GAAH,UAAI,CAAU;QACZ,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,OAAO,IAAI,CAAC;KACb;IACD,uBAAK,GAAL,UAAM,GAAY,EAAE,GAAY;;QAE9B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAClD,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAClD,OAAO,IAAI,CAAC;KACb;IAGD,6BAAW,GAAX,UAAY,MAAc,EAAE,MAAc;QACxC,IAAM,GAAG,GAAY,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACjE,IAAM,GAAG,GAAY,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACjE,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;KAC7B;IACD,6BAAW,GAAX,UAAY,GAAW,EAAE,GAAW;QAClC,IAAM,MAAM,GAAW,IAAI,CAAC,MAAM,EAAE,CAAC;QACrC,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC;KAC3E;IACD,uBAAK,GAAL;QACE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC;KACb;IACD,sBAAI,GAAJ;QACE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC3B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC3B,OAAO,IAAI,CAAC;KACb;IACD,uBAAK,GAAL;QACE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC;KACb;IACD,6BAAW,GAAX;QACE,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC/D,OAAO,IAAI,CAAC;KACb;IACD,wBAAM,GAAN;QACE,IAAI,CAAC,CAAC,GAAG,CAAE,IAAI,CAAC,CAAC,CAAC;QAClB,IAAI,CAAC,CAAC,GAAG,CAAE,IAAI,CAAC,CAAC,CAAC;QAClB,OAAO,IAAI,CAAC;KACb;IACD,qBAAG,GAAH,UAAI,CAAU;QACZ,OAAO,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;KACpC;IACD,0BAAQ,GAAR;QACE,OAAO,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;KAC1C;IACD,wBAAM,GAAN;QACE,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;KACrD;IACD,iCAAe,GAAf;QACE,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KAC5C;IACD,2BAAS,GAAT;QACE,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;KACzC;IACD,uBAAK,GAAL;;QAEE,IAAI,KAAK,GAAW,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QAC/C,IAAI,KAAK,GAAG,CAAC;YAAE,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;QACpC,OAAO,KAAK,CAAC;KACd;IACD,4BAAU,GAAV,UAAW,CAAU;QACnB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;KAC7C;IACD,mCAAiB,GAAjB,UAAkB,CAAU;QAC1B,IAAM,EAAE,GAAW,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,GAAW,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC3D,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;KAC1B;IACD,qCAAmB,GAAnB,UAAoB,CAAU;QAC5B,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KACxD;IACD,2BAAS,GAAT,UAAU,MAAc;QACtB,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;KACpD;IACD,sBAAI,GAAJ,UAAK,CAAU,EAAE,KAAa;QAC5B,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC;QACjC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC;QACjC,OAAO,IAAI,CAAC;KACb;IACD,6BAAW,GAAX,UAAY,EAAW,EAAE,EAAW,EAAE,KAAa;QACjD,OAAO,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;KAC9D;IACD,wBAAM,GAAN,UAAO,CAAU;QACf,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE;KAC/C;IACD,2BAAS,GAAT,UAAU,KAA8B,EAAE,MAAkB;QAAlB,uBAAA,EAAA,UAAkB;QAC1D,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC;QACvB,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC3B,OAAO,IAAI,CAAC;KACb;IACD,yBAAO,GAAP,UAAQ,KAAmC,EAAE,MAAkB;QAAvD,sBAAA,EAAA,UAAmC;QAAE,uBAAA,EAAA,UAAkB;QAC7D,KAAK,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;QACvB,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;QAC3B,OAAO,KAAK,CAAC;KACd;IACD,+BAAa,GAAb,UAAc,SAAc,EAAE,KAAa,EAAE,MAAkB;QAAlB,uBAAA,EAAA,UAAkB;QAC7D,KAAK,GAAG,KAAK,GAAG,SAAS,CAAC,QAAQ,GAAG,MAAM,CAAC;QAC5C,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAChC,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;QACpC,OAAO,IAAI,CAAC;KACb;IACD,8BAAY,GAAZ,UAAa,MAAe,EAAE,KAAa;QACzC,IAAM,CAAC,GAAW,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,GAAW,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC/D,IAAM,CAAC,GAAW,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;QACpC,IAAM,CAAC,GAAW,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;QAClC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;QAClC,OAAO,IAAI,CAAC;KACb;IAxGc,uBAAe,GAAG,IAAI,OAAO,EAAE,CAAC;IAChC,uBAAe,GAAG,IAAI,OAAO,EAAE,CAAC;IAwGjD,cAAC;CAAA;;AClPD;;;;;AAKO;IAAsB,2BAAe;IA+B1C,iBAAY,KAAkC,EAAE,OAAiD,EAAE,KAAoD,EAAE,KAAoD,EAAE,SAA+C,EAAE,SAA2D,EAAE,MAA0C,EAAE,IAA4C,EAAE,UAAsB,EAAE,QAAkD;QAArd,sBAAA,EAAA,QAAa,OAAO,CAAC,aAAa;QAAE,wBAAA,EAAA,UAA0B,OAAO,CAAC,eAAe;QAAE,sBAAA,EAAA,QAAyB,eAAe,CAAC,WAAW;QAAE,sBAAA,EAAA,QAAyB,eAAe,CAAC,WAAW;QAAE,0BAAA,EAAA,YAA2B,aAAa,CAAC,MAAM;QAAE,0BAAA,EAAA,YAA2B,aAAa,CAAC,kBAAkB;QAAE,uBAAA,EAAA,SAAwB,aAAa,CAAC,IAAI;QAAE,qBAAA,EAAA,OAAoB,WAAW,CAAC,YAAY;QAAE,2BAAA,EAAA,cAAsB;QAAE,yBAAA,EAAA,WAA4B,eAAe,CAAC,MAAM;QAAje,YACE,iBAAO,SAWR;QA1CD,QAAE,GAAW,cAAc,EAAE,CAAC;QAC9B,UAAI,GAAW,KAAK,CAAC,YAAY,EAAE,CAAC;QACpC,UAAI,GAAW,EAAE,CAAC;QAClB,gBAAU,GAAW,EAAE,CAAC;QAExB,aAAO,GAAU,EAAE,CAAC;QASpB,YAAM,GAAY,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpC,YAAM,GAAY,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpC,qBAAe,GAAY,IAAI,CAAC;QAChC,sBAAgB,GAAY,KAAK,CAAC;QAClC,WAAK,GAAY,IAAI,CAAC;QACtB,qBAAe,GAAW,CAAC,CAAC;QAM5B,aAAO,GAAW,CAAC,CAAC;QACpB,cAAQ,GAA+B,IAAI,CAAC;QACnC,eAAS,GAAY,IAAI,CAAC;QAKjC,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,KAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;;KAC1B;IACD,sBAAI,gCAAW;aAAf,UAAgB,KAAc;YAC5B,IAAI,KAAK,KAAK,IAAI;gBAAE,IAAI,CAAC,OAAO,EAAG,CAAC;SACrC;;;OAAA;IACD,uBAAK,GAAL;QACE,OAAO,IAAK,IAAI,CAAC,WAAmB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACnD;IACD,sBAAI,GAAJ,UAAK,MAAY;QACf,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;QAC1B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACvC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QAC9B,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;QAC1B,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;QAClC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;QAClC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;QACpC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC5B,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;QACxB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAChC,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;QAC9C,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;QAChD,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;QAC1B,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;QAC9C,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QAChC,OAAO,IAAI,CAAC;KACb;IACD,wBAAM,GAAN,UAAO,IAAS;QACd,IAAI,IAAI,CAAC,QAAQ,CAAE,IAAI,CAAC,IAAI,CAAE,KAAK,SAAS,EAAE;YAC5C,OAAO,IAAI,CAAC,QAAQ,CAAE,IAAI,CAAC,IAAI,CAAE,CAAC;SACnC;QACD,oBAAoB,KAA8D;YAChF,IAAI,MAAyB,CAAC;YAC9B,IAAI,KAAK,YAAY,iBAAiB,EAAE;gBACtC,MAAM,GAAG,KAAK,CAAC;aAChB;iBAAM;gBACL,MAAM,GAAuB,QAAQ,CAAC,eAAe,CAAC,8BAA8B,EAAE,QAAQ,CAAC,CAAC;gBAChG,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;gBAC3B,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;gBAC7B,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;aAC3E;YACD,IAAI,MAAM,CAAC,KAAK,GAAG,IAAI,IAAI,MAAM,CAAC,MAAM,GAAG,IAAI,EAAE;gBAC/C,OAAO,MAAM,CAAC,SAAS,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;aAC5C;iBAAM;gBACL,OAAO,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;aACtC;SACF;QACD,IAAM,MAAM,GAAQ;YAClB,QAAQ,EAAE;gBACR,OAAO,EAAE,GAAG;gBACZ,IAAI,EAAE,SAAS;gBACf,SAAS,EAAE,gBAAgB;aAC5B;YACD,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,MAAM,EAAE,CAAE,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAE;YACxC,MAAM,EAAE,CAAE,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAE;YACxC,IAAI,EAAE,CAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAE;YAChC,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,UAAU,EAAE,IAAI,CAAC,UAAU;YAC3B,KAAK,EAAE,IAAI,CAAC,KAAK;SAClB,CAAC;QACF,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;;YAE5B,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YACzB,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS,EAAE;gBAC5B,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC;aACnC;YACD,IAAI,IAAI,CAAC,MAAM,CAAE,KAAK,CAAC,IAAI,CAAE,KAAK,SAAS,EAAE;gBAC3C,IAAI,CAAC,MAAM,CAAE,KAAK,CAAC,IAAI,CAAE,GAAG;oBAC1B,IAAI,EAAE,KAAK,CAAC,IAAI;oBAChB,GAAG,EAAE,UAAU,CAAC,KAAK,CAAC;iBACvB,CAAC;aACH;YACD,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC;SAC3B;QACD,IAAI,CAAC,QAAQ,CAAE,IAAI,CAAC,IAAI,CAAE,GAAG,MAAM,CAAC;QACpC,OAAO,MAAM,CAAC;KACf;IACD,yBAAO,GAAP;QACE,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;KACzC;IACD,6BAAW,GAAX,UAAY,EAAW;QACrB,IAAI,IAAI,CAAC,OAAO,KAAK,cAAc,CAAC,EAAE;YAAG,OAAO;QAChD,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzB,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACpB,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE;YACxB,QAAQ,IAAI,CAAC,KAAK;gBAChB,KAAK,eAAe,CAAC,MAAM;oBACzB,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;oBAC/B,MAAM;gBACR,KAAK,eAAe,CAAC,WAAW;oBAC9B,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACxB,MAAM;gBACR,KAAK,eAAe,CAAC,cAAc;oBACjC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE;wBACxC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;qBAC/B;yBAAM;wBACL,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;qBAChC;oBACD,MAAM;aACT;SACF;QACD,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE;YACxB,QAAQ,IAAI,CAAC,KAAK;gBAChB,KAAK,eAAe,CAAC,MAAM;oBACzB,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;oBAC/B,MAAM;gBACR,KAAK,eAAe,CAAC,WAAW;oBAC9B,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACxB,MAAM;gBACR,KAAK,eAAe,CAAC,cAAc;oBACjC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE;wBACxC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;qBAC/B;yBAAM;wBACL,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;qBAChC;oBACD,MAAM;aACT;SACF;QACD,IAAI,IAAI,CAAC,KAAK,EAAE;YACd,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;SACjB;KACF;IA3IM,qBAAa,GAAQ,SAAS,CAAC;IAC/B,uBAAe,GAAmB,cAAc,CAAC,EAAE,CAAC;IA2I7D,cAAC;CAAA,CAzK4B,eAAe,GAyK3C;AACD,IAAI,KAAK,GAAW,CAAC,CAAC;AACtB,4BAA2C,OAAO,KAAK,EAAE,CAAC,EAAE;;;ICrK1D,iBAAY,CAAa,EAAE,CAAa,EAAE,CAAa,EAAE,CAAa;QAA1D,kBAAA,EAAA,KAAa;QAAE,kBAAA,EAAA,KAAa;QAAE,kBAAA,EAAA,KAAa;QAAE,kBAAA,EAAA,KAAa;QAD7D,cAAS,GAAY,IAAI,CAAC;QAEjC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;KACZ;IACD,qBAAG,GAAH,UAAI,CAAS,EAAE,CAAS,EAAE,CAAS,EAAE,CAAS;QAC5C,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,OAAO,IAAI,CAAC;KACb;IACD,2BAAS,GAAT,UAAU,MAAc;QACtB,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;QAChB,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;QAChB,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;QAChB,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;QAChB,OAAO,IAAI,CAAC;KACb;IACD,sBAAI,GAAJ,UAAK,CAAS;QACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,OAAO,IAAI,CAAC;KACb;IACD,sBAAI,GAAJ,UAAK,CAAS;QACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,OAAO,IAAI,CAAC;KACb;IACD,sBAAI,GAAJ,UAAK,CAAS;QACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,OAAO,IAAI,CAAC;KACb;IACD,sBAAI,GAAJ,UAAK,CAAS;QACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,OAAO,IAAI,CAAC;KACb;IACD,8BAAY,GAAZ,UAAa,KAAa,EAAE,KAAa;QACvC,QAAQ,KAAK;YACX,KAAK,CAAC;gBAAE,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC;gBAAC,MAAM;YAC9B,KAAK,CAAC;gBAAE,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC;gBAAC,MAAM;YAC9B,KAAK,CAAC;gBAAE,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC;gBAAC,MAAM;YAC9B,KAAK,CAAC;gBAAE,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC;gBAAC,MAAM;YAC9B,SAAS,MAAM,IAAI,KAAK,CAAC,yBAAyB,GAAG,KAAK,CAAC,CAAC;SAC7D;QACD,OAAO,IAAI,CAAC;KACb;IACD,8BAAY,GAAZ,UAAa,KAAa;QACxB,QAAQ,KAAK;YACX,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC;YACtB,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC;YACtB,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC;YACtB,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC;YACtB,SAAS,MAAM,IAAI,KAAK,CAAC,yBAAyB,GAAG,KAAK,CAAC,CAAC;SAC7D;KACF;IACD,uBAAK,GAAL;QACE,OAAO,IAAK,IAAI,CAAC,WAAmB,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;KACtE;IACD,sBAAI,GAAJ,UAAK,CAAU;QACb,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACb,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACb,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACb,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACb,OAAO,IAAI,CAAC;KACb;IACD,qBAAG,GAAH,UAAI,CAAU,EAAE,CAAW;QACzB,IAAI,CAAC,KAAK,SAAS,EAAE;YACnB,OAAO,CAAC,IAAI,CAAC,qFAAqF,CAAC,CAAC;YACpG,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAC9B;QACD,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,OAAO,IAAI,CAAC;KACb;IACD,2BAAS,GAAT,UAAU,CAAS;QACjB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,OAAO,IAAI,CAAC;KACb;IACD,4BAAU,GAAV,UAAW,CAAU,EAAE,CAAU;QAC/B,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,OAAO,IAAI,CAAC;KACb;IACD,iCAAe,GAAf,UAAgB,CAAU,EAAE,CAAS;QACnC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAClB,OAAO,IAAI,CAAC;KACb;IACD,qBAAG,GAAH,UAAI,CAAU,EAAE,CAAW;QACzB,IAAI,CAAC,KAAK,SAAS,EAAE;YACnB,OAAO,CAAC,IAAI,CAAC,qFAAqF,CAAC,CAAC;YACpG,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAC9B;QACD,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,OAAO,IAAI,CAAC;KACb;IACD,2BAAS,GAAT,UAAU,CAAS;QACjB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,OAAO,IAAI,CAAC;KACb;IACD,4BAAU,GAAV,UAAW,CAAU,EAAE,CAAU;QAC/B,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,OAAO,IAAI,CAAC;KACb;IACD,gCAAc,GAAd,UAAe,MAAc;QAC3B,IAAI,QAAQ,CAAC,MAAM,CAAC,EAAE;YACpB,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC;YACjB,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC;YACjB,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC;YACjB,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC;SAClB;aAAM;YACL,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;SACZ;QACD,OAAO,IAAI,CAAC;KACb;IACD,8BAAY,GAAZ,UAAa,CAAU;QACrB,IAAM,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;QACrD,IAAM,CAAC,GAAiB,CAAC,CAAC,QAAQ,CAAC;QACnC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACpD,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACpD,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACrD,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACrD,OAAO,IAAI,CAAC;KACb;IACD,8BAAY,GAAZ,UAAa,MAAc;QACzB,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC;KACxC;IACD,4CAA0B,GAA1B,UAA2B,CAAa;;;QAGtC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACnC,IAAI,CAAC,GAAG,MAAM,EAAE;YACb,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;SACb;aAAM;YACJ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;SACnB;QACD,OAAO,IAAI,CAAC;KACb;IACD,gDAA8B,GAA9B,UAA+B,CAAU;;;QAGvC,IAAI,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACnB,IAAM,OAAO,GAAG,IAAI;QAClB,QAAQ,GAAG,GAAG;QACd,EAAE,GAAG,CAAC,CAAC,QAAQ,EACf,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EACrC,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EACrC,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,OAAO;aAC5B,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,OAAO,CAAC;aAC9B,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,OAAO,CAAC,EAAE;;;;YAIpC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,QAAQ;iBAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,QAAQ,CAAC;iBAC/B,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,QAAQ,CAAC;iBAC/B,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC,EAAE;;gBAE/C,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBACrB,OAAO,IAAI,CAAC;aACb;;YAED,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC;YAChB,IAAM,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;YACzB,IAAM,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;YACzB,IAAM,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;YACzB,IAAM,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;YAC3B,IAAM,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;YAC3B,IAAM,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;YAC3B,IAAI,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,EAAE;;gBAE1B,IAAI,EAAE,GAAG,OAAO,EAAE;oBAChB,CAAC,GAAG,CAAC,CAAC;oBACN,CAAC,GAAG,WAAW,CAAC;oBAChB,CAAC,GAAG,WAAW,CAAC;iBACjB;qBAAM;oBACL,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oBAClB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;oBACX,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;iBACZ;aACF;iBAAM,IAAI,EAAE,GAAG,EAAE,EAAE;;gBAElB,IAAI,EAAE,GAAG,OAAO,EAAE;oBAChB,CAAC,GAAG,WAAW,CAAC;oBAChB,CAAC,GAAG,CAAC,CAAC;oBACN,CAAC,GAAG,WAAW,CAAC;iBACjB;qBAAM;oBACL,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oBAClB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;oBACX,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;iBACZ;aACF;iBAAM;;gBAEL,IAAI,EAAE,GAAG,OAAO,EAAE;oBAChB,CAAC,GAAG,WAAW,CAAC;oBAChB,CAAC,GAAG,WAAW,CAAC;oBAChB,CAAC,GAAG,CAAC,CAAC;iBACP;qBAAM;oBACL,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oBAClB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;oBACX,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;iBACZ;aACF;YACD,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;YACzB,OAAO,IAAI,CAAC;SACb;;QAED,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,CAAC;YACxB,CAAC,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,CAAC;YACzB,CAAC,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;QAC9C,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,KAAK;YAAE,CAAC,GAAG,CAAC,CAAC;;;QAG/B,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QAC9C,OAAO,IAAI,CAAC;KACb;IACD,qBAAG,GAAH,UAAI,CAAU;QACZ,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,OAAO,IAAI,CAAC;KACb;IACD,qBAAG,GAAH,UAAI,CAAU;QACZ,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,OAAO,IAAI,CAAC;KACb;IACD,uBAAK,GAAL,UAAM,GAAY,EAAE,GAAY;;QAE9B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAClD,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAClD,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAClD,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAClD,OAAO,IAAI,CAAC;KACb;IAGD,6BAAW,GAAX,UAAY,MAAc,EAAE,MAAc;QACxC,IAAM,GAAG,GAAG,OAAO,CAAC,gBAAgB,EAAE,GAAG,GAAG,OAAO,CAAC,gBAAgB,CAAC;QACrE,GAAG,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;QACxC,GAAG,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;QACxC,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;KAC7B;IACD,uBAAK,GAAL;QACE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC;KACb;IACD,sBAAI,GAAJ;QACE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC3B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC3B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC3B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC3B,OAAO,IAAI,CAAC;KACb;IACD,uBAAK,GAAL;QACE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC;KACb;IACD,6BAAW,GAAX;QACE,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC/D,OAAO,IAAI,CAAC;KACb;IACD,wBAAM,GAAN;QACE,IAAI,CAAC,CAAC,GAAG,CAAE,IAAI,CAAC,CAAC,CAAC;QAClB,IAAI,CAAC,CAAC,GAAG,CAAE,IAAI,CAAC,CAAC,CAAC;QAClB,IAAI,CAAC,CAAC,GAAG,CAAE,IAAI,CAAC,CAAC,CAAC;QAClB,IAAI,CAAC,CAAC,GAAG,CAAE,IAAI,CAAC,CAAC,CAAC;QAClB,OAAO,IAAI,CAAC;KACb;IACD,qBAAG,GAAH,UAAI,CAAU;QACZ,OAAO,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;KAClE;IACD,0BAAQ,GAAR;QACE,OAAO,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;KAC9E;IACD,wBAAM,GAAN;QACE,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;KACzF;IACD,iCAAe,GAAf;QACE,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KAClF;IACD,2BAAS,GAAT;QACE,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;KACzC;IACD,2BAAS,GAAT,UAAU,MAAc;QACtB,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;KACpD;IACD,sBAAI,GAAJ,UAAK,CAAU,EAAE,KAAa;QAC5B,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC;QACjC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC;QACjC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC;QACjC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC;QACjC,OAAO,IAAI,CAAC;KACb;IACD,6BAAW,GAAX,UAAY,EAAW,EAAE,EAAW,EAAE,KAAa;QACjD,OAAO,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;KAC9D;IACD,wBAAM,GAAN,UAAO,CAAU;QACf,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE;KACvF;IACD,2BAAS,GAAT,UAAU,KAA8B,EAAE,MAAkB;QAAlB,uBAAA,EAAA,UAAkB;QAC1D,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC;QACvB,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC3B,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC3B,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC3B,OAAO,IAAI,CAAC;KACb;IACD,yBAAO,GAAP,UAAQ,KAAmC,EAAE,MAAkB;QAAvD,sBAAA,EAAA,UAAmC;QAAE,uBAAA,EAAA,UAAkB;QAC7D,KAAK,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;QACvB,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;QAC3B,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;QAC3B,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;QAC3B,OAAO,KAAK,CAAC;KACd;IACD,+BAAa,GAAb,UAAc,SAAc,EAAE,KAAa,EAAE,MAAkB;QAAlB,uBAAA,EAAA,UAAkB;QAC7D,KAAK,GAAG,KAAK,GAAG,SAAS,CAAC,QAAQ,GAAG,MAAM,CAAC;QAC5C,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAChC,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;QACpC,OAAO,IAAI,CAAC;KACb;IA/Fc,wBAAgB,GAAG,IAAI,OAAO,EAAE,CAAC;IACjC,wBAAgB,GAAG,IAAI,OAAO,EAAE,CAAC;IA+FlD,cAAC;CAAA;;AC3XD;;;;;AAKA;IAMuC,qCAAe;;;;;;IAiBpD,2BAAY,KAAa,EAAE,MAAc,EAAE,OAAa;QAAxD,YACE,iBAAO,SAaR;QApBQ,yBAAmB,GAAY,IAAI,CAAC;QAQ3C,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC;QACjC,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,KAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QAChD,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,KAAI,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QACjD,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;QACxB,IAAI,OAAO,CAAC,SAAS,KAAK,SAAS;YAAE,OAAO,CAAC,SAAS,GAAG,aAAa,CAAC,MAAM,CAAC;QAC9E,KAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,SAAS,EAAE,SAAS,EAAE,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,UAAU,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;QACzL,KAAI,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,KAAK,SAAS,GAAG,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC;QAClF,KAAI,CAAC,aAAa,GAAG,OAAO,CAAC,aAAa,KAAK,SAAS,GAAG,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;QACxF,KAAI,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,KAAK,SAAS,GAAG,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC;;KACtF;IACD,mCAAO,GAAP,UAAQ,KAAa,EAAE,MAAc;QACnC,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,EAAE;YAClD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,OAAO,EAAE,CAAC;SAChB;QACD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QACvC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;KACvC;IACD,iCAAK,GAAL;QACE,OAAO,IAAK,IAAI,CAAC,WAAmB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACnD;IACD,gCAAI,GAAJ,UAAK,MAAY;QACf,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QACtC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;QACtC,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,CAAC;QAC1C,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;QACxC,OAAO,IAAI,CAAC;KACb;IACD,mCAAO,GAAP;QACE,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;KACzC;IACD,sBAAI,oCAAK;aAAT;YACE,OAAO,CAAC,IAAI,CAAC,uDAAuD,CAAC,CAAC;YACtE,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;SAC3B;aACD,UAAU,KAAa;YACrB,OAAO,CAAC,IAAI,CAAC,uDAAuD,CAAC,CAAC;YACtE,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;SAC5B;;;OAJA;IAKD,sBAAI,oCAAK;aAAT;YACE,OAAO,CAAC,IAAI,CAAC,uDAAuD,CAAC,CAAC;YACtE,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;SAC3B;aACD,UAAU,KAAa;YACrB,OAAO,CAAC,IAAI,CAAC,uDAAuD,CAAC,CAAC;YACtE,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;SAC5B;;;OAJA;IAKD,sBAAI,wCAAS;aAAb;YACE,OAAO,CAAC,IAAI,CAAC,+DAA+D,CAAC,CAAC;YAC9E,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;SAC/B;aACD,UAAc,KAAa;YACzB,OAAO,CAAC,IAAI,CAAC,+DAA+D,CAAC,CAAC;YAC9E,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC;SAChC;;;OAJA;IAKD,sBAAI,wCAAS;aAAb;YACE,OAAO,CAAC,IAAI,CAAC,+DAA+D,CAAC,CAAC;YAC9E,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;SAC/B;aACD,UAAc,KAAa;YACzB,OAAO,CAAC,IAAI,CAAC,+DAA+D,CAAC,CAAC;YAC9E,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC;SAChC;;;OAJA;IAKD,sBAAI,yCAAU;aAAd;YACE,OAAO,CAAC,IAAI,CAAC,iEAAiE,CAAC,CAAC;YAChF,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;SAChC;aACD,UAAe,KAAa;YAC1B,OAAO,CAAC,IAAI,CAAC,iEAAiE,CAAC,CAAC;YAChF,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,KAAK,CAAC;SACjC;;;OAJA;IAKD,sBAAI,qCAAM;aAAV;YACE,OAAO,CAAC,IAAI,CAAC,yDAAyD,CAAC,CAAC;YACxE,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;SAC5B;aACD,UAAW,KAAc;YACvB,OAAO,CAAC,IAAI,CAAC,yDAAyD,CAAC,CAAC;YACxE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;SAC7B;;;OAJA;IAKD,sBAAI,qCAAM;aAAV;YACE,OAAO,CAAC,IAAI,CAAC,yDAAyD,CAAC,CAAC;YACxE,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;SAC5B;aACD,UAAW,KAAc;YACvB,OAAO,CAAC,IAAI,CAAC,yDAAyD,CAAC,CAAC;YACxE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;SAC7B;;;OAJA;IAKD,sBAAI,qCAAM;aAAV;YACE,OAAO,CAAC,IAAI,CAAC,yDAAyD,CAAC,CAAC;YACxE,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;SAC5B;aACD,UAAW,KAAa;YACtB,OAAO,CAAC,IAAI,CAAC,yDAAyD,CAAC,CAAC;YACxE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;SAC7B;;;OAJA;IAKD,sBAAI,mCAAI;aAAR;YACE,OAAO,CAAC,IAAI,CAAC,qDAAqD,CAAC,CAAC;YACpE,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;SAC1B;aACD,UAAS,KAAa;YACpB,OAAO,CAAC,IAAI,CAAC,qDAAqD,CAAC,CAAC;YACpE,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,KAAK,CAAC;SAC3B;;;OAJA;IAKD,sBAAI,8CAAe;aAAnB;YACE,OAAO,CAAC,IAAI,CAAC,2EAA2E,CAAC,CAAC;YAC1F,OAAO,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;SACrC;aACD,UAAoB,KAAc;YAChC,OAAO,CAAC,IAAI,CAAC,2EAA2E,CAAC,CAAC;YAC1F,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,KAAK,CAAC;SACtC;;;OAJA;IAKH,wBAAC;CAAA,CAzIsC,eAAe;;ACXtD;;;AAGA;IAC2C,yCAAiB;IAI1D,+BAAY,KAAa,EAAE,MAAc,EAAE,OAAa;QAAxD,YACE,kBAAM,KAAK,EAAE,MAAM,EAAE,OAAO,CAAC,SAC9B;QALD,oBAAc,GAAW,CAAC,CAAC;QAC3B,uBAAiB,GAAW,CAAC,CAAC;QACrB,6BAAuB,GAAY,IAAI,CAAC;;KAGhD;IACH,4BAAC;CAAA,CAP0C,iBAAiB;;ACD5D;;;;;;AAMO;IAML,oBAAY,CAAa,EAAE,CAAa,EAAE,CAAa,EAAE,CAAa;QAA1D,kBAAA,EAAA,KAAa;QAAE,kBAAA,EAAA,KAAa;QAAE,kBAAA,EAAA,KAAa;QAAE,kBAAA,EAAA,KAAa;QADtE,qBAAgB,GAAe,eAAmB,CAAC;QAEjD,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;KACb;IACD,sBAAI,yBAAC;aAAL,cAAkB,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE;aACnC,UAAM,KAAa,IAAI,IAAI,CAAC,EAAE,GAAG,KAAK,CAAC,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,EAAE;;;OAD/B;IAEnC,sBAAI,yBAAC;aAAL,cAAkB,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE;aACnC,UAAM,KAAa,IAAI,IAAI,CAAC,EAAE,GAAG,KAAK,CAAC,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,EAAE;;;OAD/B;IAEnC,sBAAI,yBAAC;aAAL,cAAkB,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE;aACnC,UAAM,KAAa,IAAI,IAAI,CAAC,EAAE,GAAG,KAAK,CAAC,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,EAAE;;;OAD/B;IAEnC,sBAAI,yBAAC;aAAL,cAAkB,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE;aACnC,UAAM,KAAa,IAAI,IAAI,CAAC,EAAE,GAAG,KAAK,CAAC,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,EAAE;;;OAD/B;IAEnC,wBAAG,GAAH,UAAI,CAAS,EAAE,CAAS,EAAE,CAAS,EAAE,CAAS;QAC5C,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,OAAO,IAAI,CAAC;KACb;IACD,0BAAK,GAAL;QACE,OAAO,IAAK,IAAI,CAAC,WAAmB,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;KAC1E;IACD,yBAAI,GAAJ,UAAK,UAAsB;QACzB,IAAI,CAAC,EAAE,GAAG,UAAU,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,EAAE,GAAG,UAAU,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,EAAE,GAAG,UAAU,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,EAAE,GAAG,UAAU,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,OAAO,IAAI,CAAC;KACb;IACD,iCAAY,GAAZ,UAAa,KAAY,EAAE,MAAsB;QAAtB,uBAAA,EAAA,aAAsB;;;;QAI/C,IAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;QAClC,IAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;QAClC,IAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;QAClC,IAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;QAClC,IAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;QAClC,IAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;QAClC,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;QAC1B,IAAI,KAAK,KAAK,KAAK,EAAE;YACnB,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;SACvC;aAAM,IAAI,KAAK,KAAK,KAAK,EAAE;YAC1B,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;SACvC;aAAM,IAAI,KAAK,KAAK,KAAK,EAAE;YAC1B,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;SACvC;aAAM,IAAI,KAAK,KAAK,KAAK,EAAE;YAC1B,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;SACvC;aAAM,IAAI,KAAK,KAAK,KAAK,EAAE;YAC1B,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;SACvC;aAAM,IAAI,KAAK,KAAK,KAAK,EAAE;YAC1B,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;Y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AAG,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QAC3D,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QAC3D,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QAC1D,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QAC1D,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QAC3D,IAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QAC3D,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACtD,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACtD,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACtD,EAAE,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACvD,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACtD,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACtD,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACtD,EAAE,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACvD,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACtD,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACtD,EAAE,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACvD,EAAE,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACvD,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACtD,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACtD,EAAE,CAAC,EAAE,C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GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QAC7H,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QAC7H,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC;QACrB,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QAC7H,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QAC7H,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QAC7H,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC;QACrB,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QAC7H,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QAC9H,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QAC9H,EAAE,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC;QACtB,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QAC9H,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QAC9H,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GA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"}